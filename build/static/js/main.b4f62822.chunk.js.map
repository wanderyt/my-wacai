{"version":3,"sources":["modules/loading-state/fin-list-item.js","modules/loading-state/day-expense.js","modules/fin-item/index.js","modules/fin-main/index.js","modules/fin-com-cat-item/index.js","modules/search-dropdown/index.js","modules/popup-buttons/index.js","modules/dropdown-list/index.js","modules/calculator/index.js","modules/hash-tag/hash-tag-item.js","modules/hash-tag/index.js","modules/modal-mask/index.js","modules/checkbox/index.tsx","modules/comment-hint-dialog/index.tsx","modules/fin-item-details/config.js","utils/helper.ts","modules/fin-item-details/util.js","modules/fin-item-details/index.js","modules/header-toolbar/index.js","modules/fin-cat-subcat/index.js","modules/fin-item-list/day-expense.js","modules/fin-item-list/month-expense.js","modules/bottom-button-group/index.js","modules/fin-item-list/index.js","modules/fin-template-list/template-toolbar.js","modules/fin-template-list/fin-template-item.js","modules/fin-template-list/create-template.js","modules/fin-template-list/index.js","modules/autoupdate-number/index.js","modules/notification/index.js","modules/search-box/index.js","modules/search-fin-item/search-fin-item-by-month.js","modules/search-fin-item/search-fin-item-list.js","modules/search-fin-item/advance-search-item.js","modules/multi-selection/index.js","modules/search-fin-item/advance-search-option-panel.js","modules/search-fin-item/advance-search-config.js","modules/search-fin-item/advance-search.js","modules/search-fin-item/index.js","modules/loading/index.js","App.js","modules/file-uploader/index.js","serviceWorker.js","reducers/fin.js","reducers/notification.js","reducers/login.js","reducers/search.js","reducers/index.js","modules/login/index.js","modules/login/login-provider.js","context/CommentContext.tsx","context/TagContext.tsx","index.js"],"names":["FinListItem","react_default","a","createElement","className","DayExpense","Fragment","loading_state_fin_list_item","connect","_ref","item","isLoading","_ref$dayMode","dayMode","_ref$isLast","isLast","dispatch","category","subcategory","date","amount","comment","isScheduled","onClick","type","concat","substring","parseFloat","toFixed","items","map","index","key","modules_fin_item","FinComCatItem","_ref$onClickHandler","onClickHandler","SearchDropdown","_ref$optionList","optionList","options","filterFunction","_ref$placeholder","placeholder","onChangeCallback","_ref$defaultValue","defaultValue","_ref$searchOptions","searchOptions","_useState","useState","_useState2","Object","slicedToArray","value","setValue","_useState3","_useState4","validOptions","setValidOptions","_useState5","_useState6","isFocused","setIsFocused","useEffect","dropdownClickHandler","evt","classes","target","getAttribute","indexOf","document","addEventListener","removeEventListener","handleOptionSelection","curValue","innerText","onChange","newOptions","slice","length","option","defaultProps","PopupButtons","_ref$buttons","buttons","_ref$cancelHandler","cancelHandler","buttonItem","clickHandler","name","DropdownList","_ref$defaultSelectedV","defaultSelectedValue","_ref$items","_ref$customizeItemCli","customizeItemClickHandler","_ref$isDisabled","isDisabled","isOpen","setIsOpen","selectedValue","setSelectedValue","handleItemClick","Calculator","_ref$confirmCallback","confirmCallback","operator","setOperator","lastOperand","setLastOperand","_useState7","_useState8","isOperating","setIsOperating","handleOperand","stopPropagation","calculateOutput","handleNumber","number","checkDigits","num","Math","floor","result","HashTagItem","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleSelection","currState","state","isSelected","setState","tag","nextProps","_this$props$tag","React","Component","HashTagManagement","_ref$tags","tags","_ref$selectedTags","selectedTags","toggleTagSelection","hash_tag_hash_tag_item","ModalMask","modalMaskCls","extraCls","children","Checkbox","disabled","_ref$className","_ref$defaultChecked","defaultChecked","checked","setChecked","CommentHintDialog","closeCallback","successCallback","_ref$commentKeyWord","commentKeyWord","_useMemo","useMemo","detailsList","placeList","categoryGroupList","_ref2","place","details","push","categoryString","_useMemo2","selectedDetails","setSelectedDetails","selectedPlace","setSelectedPlace","selectedCategory","setSelectedCategory","isDetailsConfirmed","setIsDetailsConfirmed","_useState9","_useState10","isPlaceConfirmed","setIsPlaceConfirmed","_useState11","_useState12","isCategoryConfirmed","setIsCategoryConfirmed","modules_modal_mask","modules_dropdown_list","src_modules_checkbox","_selectedCategory$spl","split","_selectedCategory$spl2","assign","comCatItems","padZero","day","formatDate","year","month","arguments","undefined","validDatePart","join","formatDateObject","dateObj","getFullYear","getMonth","getDate","formatDateTime","Date","hour","getHours","minute","getMinutes","second","getSeconds","uuid","s","i","substr","random","commentFilterFn","filter","toLowerCase","sort","reverse","placeFilterFn","scheduleModeItems","FinItemDetails","_ref$item","city","updatedCatGroup","useSelector","fin","e","useDispatch","objectSpread","latestItem","setLatestItem","setSelectedTags","deleteScheduledPopupStatus","setDeleteScheduledPopupStatus","updateScheduledPopupStatus","setUpdateScheduledPopupStatus","calculatorStatus","setCalculatorStatus","commentHintDialogStatus","setCommentHintDialogStatus","isUpdate","id","amountInputRef","useRef","tagInputRef","_useSelector","commentOptions","detailsOptions","placeOptions","commentFullInfoOptions","basicTagList","_useState13","_useState14","tagList","setTagList","_useState15","_useState16","filteredTagList","setFilteredTagList","handleCommonCatClick","handleSaveButton","_ref5","_ref5$repeatRecord","repeatRecord","isInvalid","_ref4","errorMsg","validateFinItem","notificationType","message","requestUrl","data","Axios","post","then","current","popupButtonsCancelHandler","deleteScheduledPopupButtons","delete","_ref7","response","status","now","scheduleId","_ref8","updateScheduledPopupButtons","scheduledId","DateTime_default","replace","newDate","newDateString","format","inputProps","newItem","newScheduleMode","currentItem","selectedCatGroup","ref","onFocus","onBlur","newAmount","Number","isNaN","modules_calculator","_ref9","includes","comItem","modules_fin_com_cat_item","modules_search_dropdown","newValue","triggerHint","_ref6","currInput","newTag","toConsumableArray","modules_hash_tag","newSelectedTags","splice","modules_popup_buttons","modules_comment_hint_dialog","_ref3","closeHandler","_ref$hasSearch","hasSearch","_ref$barTitle","barTitle","searchHandler","_ref$selectedCatGroup","selectedCat","setSelectedCat","categoryGroups","setCategoryGroups","get","categoryGroupData","modules_header_toolbar","keys","cat","handleCatClick","isCommon","_ref$date","_ref$amount","getDay","weekdayMapping","_ref$month","_ref$year","_ref$barWidthRatio","barWidthRatio","_ref$dayItems","dayItems","expanded","setExpanded","dailyDetails","setDailyDetails","isDailyDetailsLoading","setIsDailyDetailsLoading","barWidth","responseData","setTimeout","style","width","loading_state_day_expense","dayItem","modules_fin_item_list_day_expense","goToMainPage","isExpanded","_ref$goToMainPage","scrollIntoViewRef","buttonExpanded","setbuttonExpanded","scrollIntoView","behavior","block","historyExpense","setHistoryExpense","btnExpanded","setBtnExpanded","headerEl","monthItem","fin_item_list_month_expense","highestMonthAmount","modules_bottom_button_group","isCreatingTemplate","template","setTemplate","templates","setTemplates","fin_template_list_template_toolbar","fin_template_list_create_template","fin_template_list_fin_template_item","AutoUpdateNumber","total","_ref$start","start","_ref$duration","duration","computeInitialNumber","currentVal","setCurrentVal","step","currentStep","interval","setInterval","clearInterval","_ref$errorTimeout","errorTimeout","addAnimation","setAddAnimation","_ref$customStyles","customStyles","_ref$advancedSearchHa","advancedSearchHanlder","searchString","setSearchString","finItems","SearchFinItemByMonth","transformedDayItems","itemDate","translateDayItems","SearchFinItemList","_ref$finItems","forEach","values","expense","translateFinItems","search_fin_item_by_month","searchParams","search","Comp","_ref$formatter","formatter","isSelectionPanelOpen","setIsSelectionPanelOpen","react","currentValue","submitHandler","itemType","itemValue","setSelectionValue","MultiSelection","_ref$defaultSelection","defaultSelection","_ref$validSeletions","validSeletions","_ref$handleSelection","handleSelection","selections","setSelections","onCheckChange","selectionItem","tempSelections","uncheckedItemIndex","selection","SelectionPanelButtonGroup","_ref$enableSubmitButt","enableSubmitButton","_ref$enableCancelButt","enableCancelButton","_ref$submitHandler","CategorySelectionPanel","_ref3$currentValue","_ref3$submitHandler","_ref3$cancelHandler","setCategory","subCategory","setSubCategory","categoryGroup","setCategoryGroup","isSubCategoryDisabled","setIsSubCategoryDisabled","categories","setCategories","subCategories","setSubCategories","validCategories","unshift","categoryDataProcessor","defaultSubCategories","alternateSubCategories","advance_search_option_panel_SelectionPanelButtonGroup","AmountRangeSelectionPanel","_ref6$currentValue","_ref6$submitHandler","_ref6$cancelHandler","amountRanges","setAmountRanges","minAmount","maxAmount","tmpAmountRanges","onMinAmountChange","onMaxAmountChange","amountRangeRemover","ADVANCE_SEARCH_ITEMS","comp","_ref8$currentValue","_ref8$submitHandler","_ref8$cancelHandler","_useState17","_useState18","selectedDateRange","setSelectedDateRange","_useState19","_useState20","isFreeDateRangeEnabled","setIsFreeDateRangeEnabled","_useState21","minDate","_useState22","customStartDate","setCustomStartDate","_useState23","_useState24","startDateStatus","setStartDateStatus","_useState25","maxDate","_useState26","customEndDate","setCustomEndDate","_useState27","_useState28","endDateStatus","setEndDateStatus","daysInMonth","getThisWeek","diff","dateRangeOptions","getLastSeason","getLastMonth","getLastWeek","input","newStartDate","timeFormat","newEndDate","dateRange","_ref9$currentValue","_ref9$submitHandler","_ref9$cancelHandler","_useState29","_useState30","validCities","setValidCities","_useState31","_useState32","selectedCities","setSelectedCities","_ref10","cities","modules_multi_selection","_ref2$currentValue","_ref2$submitHandler","_ref2$cancelHandler","keyword","setKeyword","_ref11","_ref11$currentValue","_ref11$submitHandler","_ref11$cancelHandler","_useState33","_useState34","validTags","setValidTags","_useState35","_useState36","_ref12","params","Array","isArray","JSON","stringify","searchLoading","search_fin_item_advance_search_item","advancedSearchStatus","setAdvancedSearchStatus","searchBoxStyles","position","top","transform","openAdvancedSearchPanel","modules_search_box","search_fin_item_search_fin_item_list","search_fin_item_advance_search","Loading","height","selectedItem","pageIndex","isAppLoading","notification","notificationMsg","monthTotal","setMonthTotal","weekTotal","setWeekTotal","dayTotal","setDayTotal","fill","finList","setFinList","setIsLoading","_data$monthTotal","_data$weekTotal","_data$dayTotal","src_modules_notification","modules_loading","modules_search_fin_item","modules_fin_cat_subcat","fin_item_list","modules_fin_template_list","window","location","reload","autoupdate_number","modules_fin_item_details","modules_fin_main","defaultFiles","username","setUsername","files","setFiles","handleFileUpload","file","fileId","parentElement","FormData","append","fileUploadRequest","resp","console","log","err","idx","data-fileId","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","action","_getPreselectedCatego","hours","getPreselectedCategories","targetPage","login","loginStatus","curSearchParams","defineProperty","reducers","combineReducers","Login","loginSuccessCallback","password","setPassword","API_HOST","process","REACT_SERVER_API_HOST","handleLoginSuccess","src_modules_login","CommentContext","createContext","TagContext","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","withRouter","_ref$location","pathname","modules_file_uploader","src_App_0","ReactDOM","render","es","login_login_provider","setCommentOptions","setDetailsOptions","setPlaceOptions","setCommentFullInfoOptions","commentStoreValue","commentsResponse","comments","detailsResponse","Provider","setTags","tagStoreValue","react_router_dom","react_router","path","component","FileUploader","exact","App","getElementById","URL","href","origin","fetch","contentType","headers","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b4f62822.chunk.js","sourcesContent":["import React from 'react';\r\nimport './fin-list-item.scss';\r\n\r\nconst FinListItem = () => {\r\n  return (\r\n    <div className='FinListItem--LoadingState'>\r\n      <div className='FinListItem--Left'>\r\n        <div className='FinListItem__Cat'>\r\n          <div className='LoadingState' />\r\n        </div>\r\n        <div className='FinListItem__Date'>\r\n          <div className='LoadingState' />\r\n        </div>\r\n        <div className='FinListItem__Comment'>\r\n          <div className='LoadingState' />\r\n        </div>\r\n      </div>\r\n      <div className='FinListItem--Right'>\r\n        <div className='FinListItem--Amount'>\r\n          <div className='LoadingState' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FinListItem;\r\n","import React from 'react';\r\nimport FinListItem from './fin-list-item';\r\n\r\nimport './day-expense.scss';\r\n\r\nconst DayExpense = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className='DayExpense--Loading'>\r\n        <div className='DayInfo'>\r\n          <div className='LoadingState'></div>\r\n        </div>\r\n        <div className='DayExpenseInfo'>\r\n          <div className='DayHeader'>\r\n            <div className='DayHeader-Weekday'>\r\n              <div className='LoadingState'></div>\r\n            </div>\r\n            <div className='DayExpenseAmount'>\r\n              <div className='LoadingState'></div>\r\n            </div>\r\n          </div>\r\n          <div className='DayExpenseList'>\r\n            <FinListItem />\r\n            <FinListItem />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='DayExpense--Loading'>\r\n        <div className='DayInfo'>\r\n          <div className='LoadingState'></div>\r\n        </div>\r\n        <div className='DayExpenseInfo'>\r\n          <div className='DayHeader'>\r\n            <div className='DayHeader-Weekday'>\r\n              <div className='LoadingState'></div>\r\n            </div>\r\n            <div className='DayExpenseAmount'>\r\n              <div className='LoadingState'></div>\r\n            </div>\r\n          </div>\r\n          <div className='DayExpenseList'>\r\n            <FinListItem />\r\n            <FinListItem />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default DayExpense;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {FinListItemLoadingState} from '../loading-state';\r\n\r\nimport './index.scss';\r\n\r\nconst FinItem = ({item, isLoading, dayMode = false, isLast = false, dispatch}) => {\r\n  const {category, subcategory, date, amount, comment, isScheduled} = item;\r\n\r\n  const selectItem = () => {\r\n    dispatch({\r\n      type: 'SELECT_ITEM',\r\n      item\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='FinItemPanel forbid-select'\r\n      onClick={selectItem}>\r\n      <div className={`FinItem ${isLast ? '' : 'FinItem-Border'}`}>\r\n        {\r\n          isLoading ?\r\n            <FinListItemLoadingState />\r\n            :\r\n            <React.Fragment>\r\n              <div className='Fin-Left'>\r\n                <div className='Fin-SubCat'>{category} - {subcategory}</div>\r\n                <div className='Fin-Info Fin-Date'>\r\n                  <span>\r\n                    {dayMode ? date.substring(11) : date}\r\n                  </span>\r\n                </div>\r\n                <div className='Fin-Info Fin-Comment'>\r\n                  {\r\n                    isScheduled && <span className='Fin-IsScheduled'></span>\r\n                  }\r\n                  <span>{comment}</span>\r\n                </div>\r\n              </div>\r\n              <div className='Fin-Right'>\r\n                <span className='Fin-Amount'>{parseFloat(amount).toFixed(2)}</span>\r\n              </div>\r\n            </React.Fragment>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nFinItem.propTypes = {\r\n  item: PropTypes.object\r\n};\r\n\r\nexport default connect()(FinItem);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FinItem from '../fin-item';\r\n\r\nimport './index.scss';\r\n\r\nconst FinMain = ({isLoading, items, dispatch}) => {\r\n  const handleCreateItem = () => {\r\n    dispatch({type: 'CREATE_ITEM'});\r\n  }\r\n  const handleCreateByTemplate = () => {\r\n    dispatch({type: 'CHANGE_TO_FIN_TEMPLATE_LIST'});\r\n  }\r\n  return (\r\n    <div className='FinMain'>\r\n      <div className='App-Toolbar'>\r\n        <div className='App-Toolbtn'>\r\n          <div\r\n            className={`App-Btn forbid-select App-CreateItem`}\r\n            onClick={handleCreateItem}>\r\n            \r\n          </div>\r\n          <div\r\n            className={`App-Btn forbid-select App-CreateFast`}\r\n            onClick={handleCreateByTemplate}>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='App-Container'>\r\n        <div className='App-FinList'>\r\n          {\r\n            items.map((item, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  {\r\n                    <FinItem isLoading={isLoading} item={item} />\r\n                  }\r\n                </div>\r\n              );\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(FinMain);\r\n","import React from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst FinComCatItem = ({category, subcategory, onClickHandler = () => void 0}) => {\r\n  return (\r\n    <div\r\n      className='FinComCatItem'\r\n      onClick={() => onClickHandler(category, subcategory)}>\r\n      <span className='SubCat-Name'>{subcategory}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinComCatItem;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {options} from './mockOptions.json';\r\n\r\nimport './index.scss';\r\n\r\nconst SearchDropdown = ({optionList = options, filterFunction, placeholder = '', onChangeCallback, defaultValue = '', searchOptions = 5}) => {\r\n  const [value, setValue] = useState(defaultValue);\r\n  const [validOptions, setValidOptions] = useState([]);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setValue(defaultValue);\r\n    const dropdownClickHandler = (evt) => {\r\n      const classes = evt.target.getAttribute('class') || '';\r\n      if (classes.indexOf('InputField') < 0 && classes.indexOf('OptionContainer') < 0) {\r\n        setIsFocused(false);\r\n        setValidOptions([]);\r\n      }\r\n    }\r\n    document.addEventListener('click', dropdownClickHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', dropdownClickHandler);\r\n    }\r\n  }, [defaultValue]);\r\n\r\n  const handleInputChange = (evt) => {\r\n    const curValue = evt.target.value;\r\n    // const newOptions = optionList.filter((option) => option.toLowerCase().indexOf(curValue.toLowerCase()) > -1);\r\n    const newOptions = filterFunction(optionList, curValue) || [];\r\n    setIsFocused(true);\r\n    setValue(curValue);\r\n    setValidOptions(curValue ? newOptions.slice(0, searchOptions) : []);\r\n    onChangeCallback && onChangeCallback(curValue, false);\r\n  }\r\n\r\n  const handleOptionSelection = (evt) => {\r\n    const curValue = evt.target.innerText;\r\n    setValue(curValue);\r\n    setValidOptions([]);\r\n    onChangeCallback && onChangeCallback(curValue, true);\r\n  }\r\n\r\n  return (\r\n    <div className='SearchDropdown'>\r\n      <div className={`Dropdown-Input ${isFocused ? 'SearchDropdown-Focused': ''}`}>\r\n        <div className='Dropdown-SearchImage'>\r\n          <input\r\n            className='InputField'\r\n            placeholder={placeholder}\r\n            type='input'\r\n            onChange={handleInputChange}\r\n            value={value} />\r\n          </div>\r\n      </div>\r\n      <div className={`OptionList ${isFocused ? 'SearchDropdown-Focused': ''}`}>\r\n        {\r\n          validOptions && validOptions.length > 0 && validOptions.map((option, index) => (\r\n            <div\r\n              key={index}\r\n              className='OptionContainer'\r\n              onClick={handleOptionSelection}>\r\n              <div className='Option'>\r\n                {option}\r\n              </div>\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearchDropdown.propTypes = {\r\n  optionList: PropTypes.array,\r\n  filterFunction: PropTypes.func,\r\n  placeholder: PropTypes.string,\r\n  onChangeCallback: PropTypes.func,\r\n  defaultValue: PropTypes.string,\r\n  searchOptions: PropTypes.number,\r\n};\r\n\r\nSearchDropdown.defaultProps = {\r\n  filterFunction: () => void 0\r\n};\r\n\r\nexport default SearchDropdown;\r\n","import React from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst PopupButtons = ({buttons = [], cancelHandler = () => void 0}) => {\r\n\r\n  const defaultCancelHandler = () => {\r\n    cancelHandler();\r\n  }\r\n\r\n  return (\r\n    <div className='PopupButtons'>\r\n      <div className='PopupButtons--CustomItems'>\r\n        {\r\n          buttons.map((buttonItem, index) => (\r\n            <div\r\n              key={index}\r\n              className='PopupButton--Item'\r\n              onClick={buttonItem.clickHandler}>\r\n              <span className='PopupButton--ItemTitle'>{buttonItem.name}</span>\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n      <div\r\n        key={buttons.length}\r\n        className='PopupButtons--CancelItem'\r\n        onClick={defaultCancelHandler}>\r\n        <span className='PopupButton--ItemTitle'></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupButtons;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst DropdownList = ({defaultSelectedValue = '', items = [], customizeItemClickHandler = (item) => void 0, isDisabled = false}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedValue, setSelectedValue] = useState(defaultSelectedValue);\r\n\r\n  const toggleClickDropdownHeader = () => {\r\n    if (items.length === 1) {\r\n      return null;\r\n    }\r\n    setIsOpen(!isOpen && !isDisabled);\r\n  }\r\n\r\n  const handleItemClick = (item) => {\r\n    setIsOpen(false);\r\n    if (typeof item === 'string') {\r\n      setSelectedValue(item);\r\n    } else {\r\n      setSelectedValue(item.value);\r\n    }\r\n    customizeItemClickHandler(item);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const dropdownClickHandler = (evt) => {\r\n      const classes = evt.target.getAttribute('class') || '';\r\n      if (classes.indexOf('DropdownList-Element') < 0) {\r\n        setIsOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener('click', dropdownClickHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', dropdownClickHandler);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`DropdownList DropdownList-Element ${isOpen ? 'DropdownList--Open' : ''} ${isDisabled ? 'DropdownList--disabled' : ''}`}>\r\n      <div\r\n        className={`DropdownHeader DropdownList-Element ${isOpen ? 'DropdownHeader--Open' : ''}`}\r\n        onClick={toggleClickDropdownHeader}>\r\n        {selectedValue}\r\n      </div>\r\n      {\r\n        isOpen &&\r\n        <div className='DropdownPanel DropdownList-Element'>\r\n          {\r\n            items.map((item, index) => (\r\n              <div\r\n                className='DropdownList__Item DropdownList-Element'\r\n                key={item.key || index}\r\n                onClick={() => handleItemClick(item)}>\r\n                {item.value || item}\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropdownList;\r\n","import React, {useState} from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst Calculator = ({defaultValue = '0', confirmCallback = () => void 0}) => {\r\n  const [value, setValue] = useState(defaultValue);\r\n  const [operator, setOperator] = useState('0');\r\n  const [lastOperand, setLastOperand] = useState('');\r\n  const [isOperating, setIsOperating] = useState(false);\r\n\r\n  const handleOperand = (evt) => {\r\n    evt.stopPropagation();\r\n    // If previous input is operand (isOperating is true)\r\n    // do not calculate\r\n    // otherwise\r\n    // 1. calculate previous result\r\n    // 2. set current operand\r\n    // 3. set operating to be true\r\n    if (!isOperating) {\r\n      calculateOutput();\r\n      setLastOperand(evt.target.innerText);\r\n      setIsOperating(true);\r\n    }\r\n  }\r\n\r\n  const handleNumber = (evt) => {\r\n    evt.stopPropagation();\r\n    let number = evt.target.innerText;\r\n    let input;\r\n    // if previous input is operand (isOperating is true)\r\n    // 1. set current number to be operator\r\n    // 2. reinput the number\r\n    // 3. clear isOperating status\r\n    if (isOperating) {\r\n      setOperator(value);\r\n      input = '' + number;\r\n      setValue(input);\r\n      setIsOperating(false);\r\n    } else {\r\n      // otherwise, continue to input\r\n      input = value === '0' ? ('' + number) : (value + '' + number);\r\n      setValue(input);\r\n    }\r\n  }\r\n\r\n  const handlePoint = (evt) => {\r\n    evt.stopPropagation();\r\n    // if previous input is operand (isOperating is true)\r\n    // 1. set current number to be operator\r\n    // 2. reinput the number\r\n    // 3. clear isOperating status\r\n    let input;\r\n    if (isOperating) {\r\n      setOperator(value);\r\n      input = '0.';\r\n      setValue(input);\r\n      setIsOperating(false);\r\n    } else {\r\n      // otherwise, continue to input\r\n      input = value + '.';\r\n      setValue(input);\r\n    }\r\n  }\r\n\r\n  const checkDigits = (num) => {\r\n    // check whether it is decimal\r\n    if (Math.floor(num) === num) {\r\n      return num + '';\r\n    } else if (Math.floor(num * 10) === num * 10) {\r\n      return num.toFixed(1);\r\n    } else {\r\n      return num.toFixed(2);\r\n    }\r\n  }\r\n\r\n  const calculateOutput = () => {\r\n    let curValue = value;\r\n    switch (lastOperand) {\r\n      case '+':\r\n        curValue = parseFloat(operator) + parseFloat(value);\r\n        setValue(checkDigits(curValue));\r\n        break;\r\n      case '-':\r\n        curValue = parseFloat(operator) - parseFloat(value);\r\n        setValue(checkDigits(curValue));\r\n        break;\r\n      case '':\r\n        curValue = parseFloat(operator) * parseFloat(value);\r\n        setValue(checkDigits(curValue));\r\n        break;\r\n      case '':\r\n        curValue = parseFloat(operator) / parseFloat(value);\r\n        setValue(checkDigits(curValue));\r\n        break;\r\n    }\r\n    setOperator('0');\r\n    return curValue;\r\n  }\r\n\r\n  const handleBackspace = (evt) => {\r\n    evt.stopPropagation();\r\n    setValue(value.slice(0, -1));\r\n  }\r\n\r\n  const handleClear = (evt) => {\r\n    evt.stopPropagation();\r\n    setValue('0');\r\n    setOperator('0');\r\n    setLastOperand('');\r\n  }\r\n\r\n  const handleEqual = (evt) => {\r\n    evt.stopPropagation();\r\n    calculateOutput();\r\n    // Reset all states\r\n    setLastOperand('');\r\n    setOperator('0');\r\n    setIsOperating(false);\r\n  }\r\n\r\n  const handleConfirm = (evt) => {\r\n    evt.stopPropagation();\r\n    let result = calculateOutput();\r\n    confirmCallback(result);\r\n  }\r\n\r\n  return (\r\n    <div className='Calculator'>\r\n      <div className='NumberContainer'>{value}</div>\r\n      <div className='OperatorContainer'>\r\n        <div className='OperatorRow BasicOperators'>\r\n          <div className='OperatorItem Operand' onClick={handleOperand}>+</div>\r\n          <div className='OperatorItem Operand' onClick={handleOperand}>-</div>\r\n          <div className='OperatorItem Operand' onClick={handleOperand}></div>\r\n          <div className='OperatorItem Operand' onClick={handleOperand}></div>\r\n        </div>\r\n        <div className='OperatorRow NumberPad-1'>\r\n          <div className='OperatorItem' onClick={handleNumber}>1</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>2</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>3</div>\r\n          <div className='OperatorItem Backspace' onClick={handleBackspace}></div>\r\n        </div>\r\n        <div className='OperatorRow NumberPad-4'>\r\n          <div className='OperatorItem' onClick={handleNumber}>4</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>5</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>6</div>\r\n          <div className='OperatorItem Operand Clear' onClick={handleClear}>C</div>\r\n        </div>\r\n        <div className='OperatorRow NumberPad-7'>\r\n          <div className='OperatorItem' onClick={handleNumber}>7</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>8</div>\r\n          <div className='OperatorItem' onClick={handleNumber}>9</div>\r\n          <div className='OperatorItem Operand' onClick={handleEqual}>=</div>\r\n        </div>\r\n        <div className='OperatorRow NumberPad-0'>\r\n          <div className='OperatorItem OperatorItem--TwoSpan' onClick={handleNumber}>0</div>\r\n          <div className='OperatorItem' onClick={handlePoint}>.</div>\r\n          <div className='OperatorItem ConfirmBtn' onClick={handleConfirm}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Calculator;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './hash-tag-item.scss';\r\n\r\nclass HashTagItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isSelected: props.isSelected\r\n    };\r\n  }\r\n\r\n  toggleSelection = () => {\r\n    const currState = this.state.isSelected;\r\n    this.setState({\r\n      isSelected: !currState\r\n    });\r\n\r\n    this.props.toggleSelection && this.props.toggleSelection(this.props.tag, !currState);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      isSelected: nextProps.isSelected\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {tag = ''} = this.props;\r\n    const {isSelected} = this.state;\r\n\r\n    return (\r\n      <div className={`HashTagItem ${isSelected ? 'HashTagItem--Selected' : ''}`} onClick={this.toggleSelection}>\r\n        <div className='HashTag__Content'>\r\n          {tag}\r\n        </div>\r\n        <div className='HashTag__Flag' />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHashTagItem.propTypes = {\r\n  tag: PropTypes.string,\r\n  isSelected: PropTypes.bool\r\n};\r\n\r\nexport default HashTagItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport HashTagItem from './hash-tag-item';\r\n\r\nimport './index.scss';\r\n\r\nconst HashTagManagement = ({tags = [], selectedTags = [], toggleTagSelection}) => {\r\n  if (!tags || tags.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className='HashTagManagement'>\r\n      {\r\n        tags.map((tag, index) => {\r\n          return (\r\n            <div className='HashTag__Item'\r\n              key={index}>\r\n              <HashTagItem tag={tag} isSelected={selectedTags.indexOf(tag) > -1} toggleSelection={toggleTagSelection} />\r\n            </div>\r\n          );\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nHashTagManagement.propTypes = {\r\n  tags: PropTypes.array,\r\n  selectedTags: PropTypes.array,\r\n  toggleTagSelection: PropTypes.func\r\n};\r\n\r\nexport default HashTagManagement;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.scss';\r\n\r\n/**\r\n * A component that shows a modal mask over the entire screen. It uses RGBA as background color\r\n * so opacity is achieved without using the CSS opacity property, so that children are not affected. We\r\n * provide a default z-index of 9999, but that can be customized. All children provided will\r\n * be added as children of the component.\r\n *\r\n * Developers can modify this component to expose more things to be customized as needed.\r\n */\r\n\r\nclass ModalMask extends React.Component {\r\n  onClick = () => {\r\n    if (this.props.onClick) {\r\n      this.props.onClick();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let modalMaskCls = 'ModalMask__container';\r\n\r\n    // Add any extra CSS class\r\n    if (this.props.extraCls) {\r\n      modalMaskCls += ' ' + this.props.extraCls;\r\n    }\r\n\r\n    return <div className={modalMaskCls} onClick={this.onClick}><div className='ModalMask__content'>{this.props.children}</div></div>;\r\n  }\r\n}\r\n\r\nModalMask.propTypes = {\r\n  extraCls: PropTypes.string,\r\n  onClick: PropTypes.func\r\n};\r\n\r\nModalMask.defaultProps = {\r\n  extraCls: ''\r\n};\r\n\r\nexport default ModalMask;\r\n","import React, {ChangeEvent, FC, useEffect, useState} from 'react';\r\nimport './index.scss';\r\n\r\ninterface Props {\r\n  disabled?: boolean;\r\n  onChange?: (evt: ChangeEvent) => void;\r\n  defaultChecked?: boolean;\r\n  className?: string\r\n};\r\n\r\nconst Checkbox: FC<Props> = ({disabled, onChange, className = '', defaultChecked = false}) => {\r\n  const [checked, setChecked] = useState<boolean>(defaultChecked);\r\n\r\n  useEffect(() => {\r\n    setChecked(defaultChecked);\r\n  }, [defaultChecked])\r\n\r\n  return (\r\n    <input\r\n      type=\"checkbox\"\r\n      disabled={disabled}\r\n      onChange={onChange}\r\n      checked={checked}\r\n      className={className}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useMemo, FC } from \"react\";\r\nimport ModalMask from \"../modal-mask\";\r\nimport DropdownList from \"../dropdown-list\";\r\nimport Checkbox from \"../checkbox\";\r\n\r\nimport \"./index.scss\";\r\n\r\nconst CATEGORY_JOINT = \" - \";\r\n\r\ninterface OptionItem {\r\n  place: string;\r\n  category: string;\r\n  subcategory: string;\r\n  comment: string;\r\n  details: string;\r\n}\r\n\r\ninterface ISuccessCallbackParam {\r\n  place?: string;\r\n  details?: string;\r\n  category?: string;\r\n  subcategory?: string;\r\n}\r\n\r\ninterface ISuccessCallback {\r\n  (param: ISuccessCallbackParam): void;\r\n}\r\n\r\ninterface Props {\r\n  closeCallback: () => void;\r\n  successCallback: ISuccessCallback;\r\n  optionList: Array<OptionItem>;\r\n  commentKeyWord: string;\r\n}\r\n\r\nconst CommentHintDialog: FC<Props> = ({\r\n  closeCallback,\r\n  successCallback,\r\n  optionList = [],\r\n  commentKeyWord = \"\",\r\n}) => {\r\n  const buildList = () => {\r\n    const detailsList = [],\r\n      placeList = [],\r\n      categoryGroupList = [];\r\n    optionList.map(({ place, details, category, subcategory, comment }) => {\r\n      if (commentKeyWord === comment) {\r\n        placeList.indexOf(place) < 0 && placeList.push(place);\r\n        details &&\r\n          detailsList.indexOf(details) < 0 &&\r\n          detailsList.push(details);\r\n\r\n        const categoryString = `${category}${CATEGORY_JOINT}${subcategory}`;\r\n        categoryGroupList.indexOf(categoryString) < 0 &&\r\n          categoryGroupList.push(categoryString);\r\n      }\r\n    });\r\n    return [placeList, detailsList, categoryGroupList];\r\n  };\r\n\r\n  const [placeList, detailsList, categoryGroupList] = useMemo(buildList, [\r\n    optionList,\r\n    commentKeyWord,\r\n  ]);\r\n  const [selectedDetails, setSelectedDetails] = useState(detailsList[0] || \"\");\r\n  const [selectedPlace, setSelectedPlace] = useState(placeList[0]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\r\n    categoryGroupList[0]\r\n  );\r\n  const [isDetailsConfirmed, setIsDetailsConfirmed] = useState<boolean>(true);\r\n  const [isPlaceConfirmed, setIsPlaceConfirmed] = useState<boolean>(true);\r\n  const [isCategoryConfirmed, setIsCategoryConfirmed] = useState<boolean>(true);\r\n\r\n  const detailsSelectionHandler = (details) => {\r\n    setSelectedDetails(details);\r\n  };\r\n\r\n  const placeSelectionHandler = (place) => {\r\n    setSelectedPlace(place);\r\n  };\r\n\r\n  const categorySelectionHandler = (category) => {\r\n    setSelectedCategory(category);\r\n  };\r\n\r\n  const confirmSelection = () => {\r\n    const [category, subcategory] = selectedCategory.split(CATEGORY_JOINT);\r\n    let result = {};\r\n    if (isDetailsConfirmed) {\r\n      result = Object.assign({}, { details: selectedDetails });\r\n    }\r\n    if (isPlaceConfirmed) {\r\n      result = Object.assign(result, { place: selectedPlace });\r\n    }\r\n    if (isCategoryConfirmed) {\r\n      result = Object.assign(result, { category, subcategory });\r\n    }\r\n    successCallback(result);\r\n  };\r\n\r\n  const checkDetailsChange = (evt) => {\r\n    setIsDetailsConfirmed(evt.target.checked);\r\n  };\r\n\r\n  const checkPlaceChange = (evt) => {\r\n    setIsPlaceConfirmed(evt.target.checked);\r\n  };\r\n\r\n  const checkCategoryChange = (evt) => {\r\n    setIsCategoryConfirmed(evt.target.checked);\r\n  };\r\n\r\n  return (\r\n    <ModalMask>\r\n      <div className=\"CommentHintDialog\">\r\n        <div className=\"CommentHintDialog__Content\">\r\n          <div className=\"CommentHintDialog-Close\" onClick={closeCallback} />\r\n          <div className=\"CommentHint__Title\">\r\n            <div className=\"Title\">Choose Details</div>\r\n          </div>\r\n          <div className=\"CommentHint__Content\">\r\n            <div className=\"CommentHint__Dropdown Details-DropdownList\">\r\n              <DropdownList\r\n                defaultSelectedValue={detailsList[0] || \"\"}\r\n                items={detailsList}\r\n                customizeItemClickHandler={detailsSelectionHandler}\r\n              />\r\n              <Checkbox\r\n                onChange={checkDetailsChange}\r\n                defaultChecked={isDetailsConfirmed}\r\n              />\r\n            </div>\r\n            <div className=\"CommentHint__Dropdown Place-DropdownList\">\r\n              <DropdownList\r\n                defaultSelectedValue={placeList[0]}\r\n                items={placeList}\r\n                customizeItemClickHandler={placeSelectionHandler}\r\n              />\r\n              <Checkbox\r\n                onChange={checkPlaceChange}\r\n                defaultChecked={isPlaceConfirmed}\r\n              />\r\n            </div>\r\n            <div className=\"CommentHint__Dropdown Category-DropdownList\">\r\n              <DropdownList\r\n                defaultSelectedValue={categoryGroupList[0]}\r\n                items={categoryGroupList}\r\n                customizeItemClickHandler={categorySelectionHandler}\r\n              />\r\n              <Checkbox\r\n                onChange={checkCategoryChange}\r\n                defaultChecked={isCategoryConfirmed}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"CommentHint__Footer\">\r\n            <div\r\n              className=\"MyWacai-Button ConfirmBtn\"\r\n              onClick={confirmSelection}\r\n            >\r\n              \r\n            </div>\r\n            <div className=\"MyWacai-Button CancelBtn\" onClick={closeCallback}>\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ModalMask>\r\n  );\r\n};\r\n\r\nCommentHintDialog.defaultProps = {\r\n  closeCallback: () => void 0,\r\n  successCallback: () => void 0,\r\n  optionList: [],\r\n};\r\n\r\nexport default CommentHintDialog;\r\n","export const comCatItems = [{\r\n  category: '',\r\n  subcategory: ''\r\n}, {\r\n  category: '',\r\n  subcategory: ''\r\n}, {\r\n  category: '',\r\n  subcategory: ''\r\n}, {\r\n  category: '',\r\n  subcategory: ''\r\n}, {\r\n  category: '',\r\n  subcategory: ''\r\n}, {\r\n  category: '',\r\n  subcategory: ''\r\n}];","const padZero = (day) => {\r\n  if (day < 10) {\r\n    return `0${day}`;\r\n  } else {\r\n    return `${day}`;\r\n  }\r\n};\r\n\r\nconst formatDate = (year, month = 1, day = 1) => {\r\n  let validDatePart = [];\r\n  validDatePart.push(year);\r\n  validDatePart.push(padZero(month));\r\n  validDatePart.push(padZero(day));\r\n  return validDatePart.join('-');\r\n}\r\n\r\nconst formatDateObject = (dateObj) => {\r\n  let validDatePart = [];\r\n  validDatePart.push(dateObj.getFullYear());\r\n  validDatePart.push(padZero(dateObj.getMonth() + 1));\r\n  validDatePart.push(padZero(dateObj.getDate()));\r\n  return validDatePart.join('-');\r\n}\r\n\r\nconst formatDateTime = (date = new Date()) => {\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth();\r\n  let day = date.getDate();\r\n  let hour = date.getHours();\r\n  let minute = date.getMinutes();\r\n  let second = date.getSeconds();\r\n\r\n  return `${year}-${padZero(month + 1)}-${padZero(day)} ${padZero(hour)}:${padZero(minute)}:${padZero(second)}`;\r\n};\r\n\r\nconst formatMonth = (date = new Date()) => {\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth();\r\n\r\n  return `${year}-${padZero(month + 1)}`;\r\n};\r\n\r\nconst uuid = () => {\r\n  let s = [];\r\n  let hexDigits = \"0123456789ABCDEF\";\r\n  for (let i = 0; i < 36; i++) {\r\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n  }\r\n  s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n  s[8] = s[13] = s[18] = s[23] = \"-\";\r\n\r\n  let uuid = s.join(\"\");\r\n  return uuid;\r\n}\r\n\r\n/**\r\n * Get preselected category / subcategory/\r\n * Support weekend presetting\r\n * @returns {object} category group - {category, subcategory}\r\n */\r\nconst getPreselectedCategories = () => {\r\n  let now = new Date();\r\n  let day = now.getDay(); // [0 - 6], [Sunday - Saturday]\r\n  let category = '', subcategory = '';\r\n  if (day === 0 || day === 6) {\r\n    category = '';\r\n    let hours = now.getHours();\r\n    if (hours <= 10) {\r\n      subcategory = '';\r\n    } else if (hours < 15 && hours > 10) {\r\n      subcategory = '';\r\n    } else if (hours < 20 && hours > 16) {\r\n      subcategory = '';\r\n    }\r\n  }\r\n\r\n  return {\r\n    category,\r\n    subcategory\r\n  };\r\n}\r\n\r\nexport {\r\n  padZero,\r\n  formatDateTime,\r\n  formatMonth,\r\n  uuid,\r\n  formatDate,\r\n  formatDateObject,\r\n  getPreselectedCategories\r\n};","/**\r\n * Rebuild comment full info options\r\n * @param {array} options - comment full info options\r\n * @param {string} options[0].comment - comment\r\n * @param {string} options[0].category - category\r\n * @param {string} options[0].subcategory - subcategory\r\n * @param {string} options[0].place - place\r\n */\r\nconst restructureCommentOptions = (options = []) => {\r\n  const result = {};\r\n  options.forEach((option) => {\r\n    if (result[option.comment]) {\r\n      result[option.comment].push({\r\n        category: option.category,\r\n        subcategory: option.subcategory,\r\n        place: option.place,\r\n      });\r\n    } else {\r\n      result[option.comment] = [{\r\n        category: option.category,\r\n        subcategory: option.subcategory,\r\n        place: option.place,\r\n      }];\r\n    }\r\n  })\r\n  return result;\r\n};\r\n\r\n/**\r\n * Filter comment for search dropdown\r\n * @param {array} options - comment option list\r\n * @param {string} options[0].comment - comment option\r\n * @param {string} options[0].date - date for each place\r\n * @param {string} value - current value\r\n * @param {number} num - filter list count, default to 3\r\n */\r\nconst commentFilterFn = (options = [], value = '', num = 3) => {\r\n  let validList = options.filter((option) => option.comment.toLowerCase().indexOf(value.toLowerCase()) > -1) || [];\r\n  let result = validList.map((item) => item.date + 'dateComment' + item.comment).sort().reverse().map((item) => item.slice(item.indexOf('dateComment') + 11));\r\n  return result.slice(0, num);\r\n};\r\n\r\n/**\r\n * Filter place for search dropdown\r\n * @param {array} options - place option list\r\n * @param {string} options[0] - place option\r\n * @param {string} value - current value\r\n * @param {number} num - filter list count, default to 3\r\n */\r\nconst placeFilterFn = (options = [], value = '', num = 3) => {\r\n  let list = options.filter((option) => option.toLowerCase().indexOf(value.toLowerCase()) > -1) || [];\r\n  return list.slice(0, num);\r\n};\r\n\r\nexport {\r\n  restructureCommentOptions,\r\n  commentFilterFn,\r\n  placeFilterFn\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport FinComCatItem from \"../fin-com-cat-item\";\r\nimport SearchDropdown from \"../search-dropdown\";\r\nimport PopupButtons from \"../popup-buttons\";\r\nimport DateTime from \"react-datetime\";\r\nimport DropdownList from \"../dropdown-list\";\r\nimport Calculator from \"../calculator\";\r\nimport HashTagManagement from \"../hash-tag\";\r\nimport CommentHintDialog from \"../comment-hint-dialog\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Axios from \"axios\";\r\n\r\nimport { comCatItems } from \"./config\";\r\nimport { uuid } from \"../../utils/helper\";\r\nimport { commentFilterFn, placeFilterFn } from \"./util\";\r\n\r\nimport \"./index.scss\";\r\n\r\nconst scheduleModeItems = [\r\n  {\r\n    key: 0,\r\n    value: \"\",\r\n  },\r\n  {\r\n    key: 1,\r\n    value: \"\",\r\n  },\r\n  {\r\n    key: 2,\r\n    value: \"\",\r\n  },\r\n  {\r\n    key: 3,\r\n    value: \"\",\r\n  },\r\n  {\r\n    key: 4,\r\n    value: \"\",\r\n  },\r\n];\r\n\r\nconst DEFAULT_CITY = \"\";\r\n\r\nconst FinItemDetails = ({ item = { amount: 0, city: DEFAULT_CITY } }) => {\r\n  const updatedCatGroup = useSelector((state) => {\r\n    try {\r\n      return state.fin.updatedCatGroup || {};\r\n    } catch (e) {\r\n      return {};\r\n    }\r\n  });\r\n  const dispatch = useDispatch();\r\n\r\n  const [latestItem, setLatestItem] = useState({ ...item, ...updatedCatGroup });\r\n  const [selectedTags, setSelectedTags] = useState(\r\n    item.tags ? item.tags.split(\",\") : []\r\n  );\r\n  const [deleteScheduledPopupStatus, setDeleteScheduledPopupStatus] =\r\n    useState(false);\r\n  const [updateScheduledPopupStatus, setUpdateScheduledPopupStatus] =\r\n    useState(false);\r\n  const [calculatorStatus, setCalculatorStatus] = useState(false);\r\n  const [commentHintDialogStatus, setCommentHintDialogStatus] = useState(false);\r\n  const isUpdate = !!item.id;\r\n  const amountInputRef = useRef(null);\r\n  const tagInputRef = useRef(null);\r\n\r\n  // const {commentOptions, placeOptions, commentFullInfoOptions} = useCommentContext();\r\n  // const basicTagList = useTagContext();\r\n  const {\r\n    commentOptions,\r\n    detailsOptions,\r\n    placeOptions,\r\n    commentFullInfoOptions,\r\n  } = useSelector((state) => state.fin.comment || {});\r\n  const basicTagList = useSelector((state) => state.fin.tag || []);\r\n  const [tagList, setTagList] = useState(basicTagList);\r\n  const [filteredTagList, setFilteredTagList] = useState(basicTagList);\r\n\r\n  const handleBackBtn = () => {\r\n    dispatch({\r\n      type: \"RESET_SELECTED_ITEM\",\r\n    });\r\n  };\r\n\r\n  const handleCommonCatClick = (category, subcategory) => {\r\n    setLatestItem(Object.assign({}, latestItem, { category, subcategory }));\r\n  };\r\n\r\n  const handleCommentChange = (newValue, triggerHint) => {\r\n    const isCommentValid =\r\n      commentFullInfoOptions.filter(({ comment }) => comment === newValue)\r\n        .length > 0;\r\n    if (isCommentValid && triggerHint) {\r\n      setCommentHintDialogStatus(true);\r\n    }\r\n    setLatestItem(Object.assign({}, latestItem, { comment: newValue }));\r\n  };\r\n\r\n  const handleDetailsChange = (details) => {\r\n    setLatestItem(Object.assign({}, latestItem, { details }));\r\n  };\r\n\r\n  const toggleCommentHintDialogStatus = () => {\r\n    setCommentHintDialogStatus(!commentHintDialogStatus);\r\n  };\r\n\r\n  const saveCommentHintResult = ({ place, details, category, subcategory }) => {\r\n    const result = {};\r\n    if (place) {\r\n      result.place = place;\r\n    }\r\n\r\n    if (details) {\r\n      result.details = details;\r\n    }\r\n\r\n    if (category && subcategory) {\r\n      result.category = category;\r\n      result.subcategory = subcategory;\r\n    }\r\n\r\n    setLatestItem(Object.assign({}, latestItem, result));\r\n    setCommentHintDialogStatus(false);\r\n  };\r\n\r\n  const handleDateTimeChange = (newDate) => {\r\n    let newDateString = newDate.format(\"YYYY-MM-DD hh:mm:ss\");\r\n    setLatestItem(Object.assign({}, latestItem, { date: newDateString }));\r\n  };\r\n\r\n  const handleScheduleModeChange = (newItem) => {\r\n    let newScheduleMode = newItem.key;\r\n    setLatestItem(\r\n      Object.assign({}, latestItem, { isScheduled: newScheduleMode })\r\n    );\r\n  };\r\n\r\n  const handlePlaceChange = (place) => {\r\n    setLatestItem(Object.assign({}, latestItem, { place: place }));\r\n  };\r\n\r\n  const handleCityChange = (evt) => {\r\n    let city = evt.target.value || \"\";\r\n    setLatestItem(Object.assign({}, latestItem, { city: city }));\r\n  };\r\n\r\n  const handleCatSelection = () => {\r\n    dispatch({\r\n      type: \"CHANGE_TO_CATEGORY_SELECTION\",\r\n      currentItem: latestItem,\r\n      selectedCatGroup: {\r\n        category: latestItem.category,\r\n        subcategory: latestItem.subcategory,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleAmountFocus = (evt) => {\r\n    if (latestItem.amount) {\r\n      evt.target.value = latestItem.amount;\r\n    } else {\r\n      evt.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleAmountChange = (evt) => {\r\n    let newAmount = parseFloat(evt.target.value);\r\n    if (Number.isNaN(newAmount)) {\r\n      newAmount = 0;\r\n    }\r\n    setLatestItem(Object.assign({}, latestItem, { amount: newAmount }));\r\n  };\r\n\r\n  const handleAmountBlur = (evt) => {\r\n    evt.target.value = parseFloat(latestItem.amount).toFixed(2);\r\n  };\r\n\r\n  const validateFinItem = ({ category, subcategory, comment, amount }) => {\r\n    if (!category || !subcategory) {\r\n      return {\r\n        errorMsg: \"\",\r\n      };\r\n    } else if (!amount) {\r\n      return {\r\n        errorMsg: \"\",\r\n      };\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const handleSaveButton = ({ repeatRecord = false }) => {\r\n    let isInvalid = validateFinItem(latestItem);\r\n    if (isInvalid) {\r\n      dispatch({\r\n        type: \"SET_MESSAGE\",\r\n        notificationType: \"error\",\r\n        message: isInvalid.errorMsg,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let requestUrl = \"\",\r\n      data = {};\r\n    if (latestItem.id) {\r\n      if (latestItem.isScheduled > 0) {\r\n        setUpdateScheduledPopupStatus(true);\r\n        return;\r\n      } else {\r\n        requestUrl = \"/api/wacai/updateFinItem\";\r\n        data = { ...latestItem, tags: selectedTags.join(\",\") };\r\n      }\r\n    } else {\r\n      if (latestItem.isScheduled > 0) {\r\n        requestUrl = \"/api/wacai/createScheduledFinItem\";\r\n        data = { ...latestItem, tags: selectedTags.join(\",\") };\r\n      } else {\r\n        requestUrl = \"/api/wacai/createFinItem\";\r\n        data = { ...latestItem, tags: selectedTags.join(\",\"), id: uuid() };\r\n      }\r\n    }\r\n\r\n    // App Loading Status\r\n    dispatch({\r\n      type: \"APP_LOADING\",\r\n    });\r\n\r\n    Axios.post(requestUrl, { data }).then(() => {\r\n      // App Loaded Status\r\n      dispatch({\r\n        type: \"APP_LOADED\",\r\n      });\r\n\r\n      dispatch({\r\n        type: \"SET_MESSAGE\",\r\n        notificationType: \"info\",\r\n        message: \"\",\r\n      });\r\n\r\n      if (repeatRecord) {\r\n        setLatestItem(Object.assign({}, latestItem, { amount: 0 }));\r\n        amountInputRef.current.value = \"0.00\";\r\n      } else {\r\n        dispatch({\r\n          type: \"RESET_SELECTED_ITEM\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const updateSingleScheduledItem = () => {\r\n    setUpdateScheduledPopupStatus(false);\r\n    const requestUrl = \"/api/wacai/updateFinItem\";\r\n    const data = { ...latestItem };\r\n\r\n    // App Loading Status\r\n    dispatch({\r\n      type: \"APP_LOADING\",\r\n    });\r\n\r\n    Axios.post(requestUrl, { data }).then(() => {\r\n      // App Loaded Status\r\n      dispatch({\r\n        type: \"APP_LOADED\",\r\n      });\r\n\r\n      dispatch({\r\n        type: \"RESET_SELECTED_ITEM\",\r\n      });\r\n    });\r\n  };\r\n\r\n  const updateSeriesScheduledItems = () => {\r\n    const requestUrl = \"/api/wacai/updateScheduledFinItem\";\r\n    const data = { ...latestItem };\r\n    const options = {};\r\n    const now = new Date();\r\n    options.scheduledId = data.scheduledId;\r\n    options.year = now.getFullYear();\r\n    options.month = now.getMonth();\r\n    options.day = now.getDate();\r\n\r\n    // App Loading Status\r\n    dispatch({\r\n      type: \"APP_LOADING\",\r\n    });\r\n\r\n    Axios.post(requestUrl, { data, options }).then(() => {\r\n      // App Loaded Status\r\n      dispatch({\r\n        type: \"APP_LOADED\",\r\n      });\r\n\r\n      setUpdateScheduledPopupStatus(false);\r\n      dispatch({\r\n        type: \"RESET_SELECTED_ITEM\",\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleDeleteButton = () => {\r\n    if (latestItem.isScheduled > 0) {\r\n      setDeleteScheduledPopupStatus(true);\r\n    } else {\r\n      // App Loading Status\r\n      dispatch({\r\n        type: \"APP_LOADING\",\r\n      });\r\n\r\n      Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`).then(\r\n        () => {\r\n          // App Loaded Status\r\n          dispatch({\r\n            type: \"APP_LOADED\",\r\n          });\r\n\r\n          dispatch({\r\n            type: \"RESET_SELECTED_ITEM\",\r\n          });\r\n        },\r\n        ({ response }) => {\r\n          // App Loaded Status\r\n          dispatch({\r\n            type: \"APP_LOADED\",\r\n          });\r\n\r\n          if (response.status === 401) {\r\n            dispatch({\r\n              type: \"TOKEN_INVALID\",\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const popupButtonsCancelHandler = () => {\r\n    setDeleteScheduledPopupStatus(false);\r\n    setUpdateScheduledPopupStatus(false);\r\n  };\r\n\r\n  const deleteSingleScheduledItem = () => {\r\n    // App Loading Status\r\n    dispatch({\r\n      type: \"APP_LOADING\",\r\n    });\r\n\r\n    Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`).then(\r\n      () => {\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: \"APP_LOADED\",\r\n        });\r\n\r\n        setDeleteScheduledPopupStatus(false);\r\n        dispatch({\r\n          type: \"RESET_SELECTED_ITEM\",\r\n        });\r\n      },\r\n      ({ response }) => {\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: \"APP_LOADED\",\r\n        });\r\n\r\n        setDeleteScheduledPopupStatus(false);\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: \"TOKEN_INVALID\",\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const deleteSeriesScheduledItems = () => {\r\n    // App Loading Status\r\n    dispatch({\r\n      type: \"APP_LOADING\",\r\n    });\r\n\r\n    const now = new Date();\r\n    Axios.delete(\r\n      `/api/wacai/deleteScheduledFinItem?scheduleId=${\r\n        latestItem.scheduleId\r\n      }&year=${now.getFullYear()}&month=${now.getMonth()}&day=${now.getDate()}`\r\n    ).then(\r\n      () => {\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: \"APP_LOADED\",\r\n        });\r\n\r\n        setDeleteScheduledPopupStatus(false);\r\n        dispatch({\r\n          type: \"RESET_SELECTED_ITEM\",\r\n        });\r\n      },\r\n      ({ response }) => {\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: \"APP_LOADED\",\r\n        });\r\n\r\n        setDeleteScheduledPopupStatus(false);\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: \"TOKEN_INVALID\",\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const deleteScheduledPopupButtons = [\r\n    {\r\n      name: \"\",\r\n      clickHandler: deleteSingleScheduledItem,\r\n    },\r\n    {\r\n      name: \"\",\r\n      clickHandler: deleteSeriesScheduledItems,\r\n    },\r\n  ];\r\n\r\n  const updateScheduledPopupButtons = [\r\n    {\r\n      name: \"\",\r\n      clickHandler: updateSingleScheduledItem,\r\n    },\r\n    {\r\n      name: \"\",\r\n      clickHandler: updateSeriesScheduledItems,\r\n    },\r\n  ];\r\n\r\n  const toggleCalculator = () => {\r\n    setCalculatorStatus(!calculatorStatus);\r\n  };\r\n\r\n  const handleCalculatorCallback = (result) => {\r\n    let amount = +parseFloat(result).toFixed(2);\r\n    setLatestItem(Object.assign({}, latestItem, { amount }));\r\n    setCalculatorStatus(false);\r\n\r\n    // Set input value\r\n    amountInputRef.current.value = parseFloat(result).toFixed(2);\r\n  };\r\n\r\n  const handleRepeatButton = () => {\r\n    handleSaveButton({ repeatRecord: true });\r\n  };\r\n\r\n  const handleTagInputChange = (evt) => {\r\n    const currInput = evt.target.value;\r\n    setFilteredTagList(tagList.filter((tag) => tag.indexOf(currInput) > -1));\r\n  };\r\n\r\n  const handleTagAdd = () => {\r\n    const newTag = tagInputRef.current.value;\r\n    if (tagList.indexOf(newTag) < 0) {\r\n      setTagList([newTag, ...tagList]);\r\n      setFilteredTagList([newTag, ...tagList]);\r\n    } else {\r\n      setFilteredTagList([...tagList]);\r\n    }\r\n\r\n    // Automatically add new tag to selected list\r\n    selectedTags.indexOf(newTag) < 0 &&\r\n      setSelectedTags([...selectedTags, newTag]);\r\n\r\n    // clear value once new tag is added\r\n    tagInputRef.current.value = \"\";\r\n  };\r\n\r\n  const toggleTagSelection = (tag, isSelected) => {\r\n    const index = selectedTags.indexOf(tag);\r\n    let newSelectedTags = selectedTags.slice();\r\n    if (index > -1) {\r\n      newSelectedTags.splice(index, 1);\r\n      setSelectedTags(newSelectedTags);\r\n    } else {\r\n      setSelectedTags([...selectedTags, tag]);\r\n    }\r\n  };\r\n\r\n  /*\r\n    Format change from '2019-04-20 19:20:00' to '2019/04/20 19:20:00'\r\n    Required on mobile browser difference\r\n    latestItem.date.replace(/-/g, '/')\r\n  */\r\n  return (\r\n    <div className=\"FinItemDetails\">\r\n      <div className=\"Fin-Nav\">\r\n        <div className=\"Fin-Nav-Out\"></div>\r\n        <div className=\"Fin-Nav-Arrow\" />\r\n      </div>\r\n      <div className=\"Fin-Date Fin-WhiteBack\">\r\n        <DateTime\r\n          value={new Date(latestItem.date.replace(/-/g, \"/\"))}\r\n          defaultValue={new Date()}\r\n          onChange={handleDateTimeChange}\r\n          inputProps={{ disabled: isUpdate && latestItem.isScheduled > 0 }}\r\n        />\r\n      </div>\r\n      <div className=\"Fin-Schedule Fin-WhiteBack\">\r\n        <DropdownList\r\n          isDisabled={isUpdate}\r\n          defaultSelectedValue={\r\n            scheduleModeItems[latestItem.isScheduled || 0].value\r\n          }\r\n          items={scheduleModeItems}\r\n          customizeItemClickHandler={handleScheduleModeChange}\r\n        />\r\n      </div>\r\n      <div className=\"Fin-Header Fin-WhiteBack\">\r\n        <div className=\"Fin-SubCat\" onClick={handleCatSelection}>\r\n          <div className=\"Category\">{latestItem.category}</div>\r\n          <div className=\"SubCategory\">{latestItem.subcategory}</div>\r\n        </div>\r\n        <div className=\"Fin-Amount\">\r\n          <input\r\n            type=\"number\"\r\n            ref={amountInputRef}\r\n            onFocus={handleAmountFocus}\r\n            onBlur={handleAmountBlur}\r\n            onChange={handleAmountChange}\r\n            defaultValue={parseFloat(latestItem.amount).toFixed(2) || \"0.00\"}\r\n          />\r\n          {/* value={latestItem.amount || 0} /> */}\r\n          <div className=\"CalculatorIcon\" onClick={toggleCalculator}>\r\n            {calculatorStatus && (\r\n              <div className=\"CalculatorPanel\">\r\n                <Calculator\r\n                  defaultValue={latestItem.amount + \"\"}\r\n                  confirmCallback={handleCalculatorCallback}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"Fin-ComCats Fin-WhiteBack\">\r\n        <div className=\"Fin-ComCat-Container\">\r\n          {comCatItems\r\n            .filter(({ category, subcategory }) =>\r\n              [\"\", \"\", \"\"].includes(subcategory)\r\n            )\r\n            .map((comItem, index) => (\r\n              <div className=\"Fin-ComCat\" key={index}>\r\n                <FinComCatItem\r\n                  category={comItem.category}\r\n                  subcategory={comItem.subcategory}\r\n                  onClickHandler={handleCommonCatClick}\r\n                />\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"Fin-Comment Fin-WhiteBack\">\r\n        <SearchDropdown\r\n          optionList={commentOptions}\r\n          filterFunction={commentFilterFn}\r\n          placeholder=\" / \"\r\n          onChangeCallback={handleCommentChange}\r\n          defaultValue={latestItem.comment}\r\n        />\r\n      </div>\r\n      <div className=\"Fin-Details Fin-WhiteBack\">\r\n        <SearchDropdown\r\n          optionList={detailsOptions}\r\n          filterFunction={placeFilterFn}\r\n          placeholder=\"\"\r\n          onChangeCallback={handleDetailsChange}\r\n          defaultValue={latestItem.details}\r\n        />\r\n      </div>\r\n      <div className=\"Fin-FullDetails Fin-WhiteBack\">\r\n        <div className=\"Fin-Place\">\r\n          <SearchDropdown\r\n            optionList={placeOptions}\r\n            filterFunction={placeFilterFn}\r\n            placeholder=\" / \"\r\n            onChangeCallback={handlePlaceChange}\r\n            defaultValue={latestItem.place}\r\n          />\r\n        </div>\r\n        <div className=\"Fin-City\">\r\n          <input\r\n            type=\"input\"\r\n            placeholder=\"\"\r\n            onChange={handleCityChange}\r\n            defaultValue={latestItem.city || DEFAULT_CITY}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"Fin-Toolbar Fin-WhiteBack\">\r\n        <div className=\"Fin-Btns\">\r\n          <div className=\"Fin-Btn Fin-BackBtn\" onClick={handleBackBtn}>\r\n            \r\n          </div>\r\n          {latestItem.id ? (\r\n            <div className=\"Fin-Btn Fin-DeleteBtn\" onClick={handleDeleteButton}>\r\n              \r\n            </div>\r\n          ) : (\r\n            <div className=\"Fin-Btn Fin-RepeatBtn\" onClick={handleRepeatButton}>\r\n              \r\n            </div>\r\n          )}\r\n          <div className=\"Fin-Btn Fin-SaveBtn\" onClick={handleSaveButton}>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"Fin-Tags Fin-WhiteBack\">\r\n        <div className=\"Fin-Tags-Add\">\r\n          <input\r\n            type=\"input\"\r\n            ref={tagInputRef}\r\n            placeholder=\"\"\r\n            onChange={handleTagInputChange}\r\n            defaultValue=\"\"\r\n          />\r\n          <div className=\"Fin-Tags-Add-Btn\" onClick={handleTagAdd} />\r\n        </div>\r\n        <div className=\"Fin-TagsManagement\">\r\n          <HashTagManagement\r\n            tags={filteredTagList}\r\n            selectedTags={selectedTags}\r\n            toggleTagSelection={toggleTagSelection}\r\n          />\r\n        </div>\r\n      </div>\r\n      {deleteScheduledPopupStatus && (\r\n        <div className=\"PopupButtons--Container\">\r\n          <PopupButtons\r\n            buttons={deleteScheduledPopupButtons}\r\n            cancelHandler={popupButtonsCancelHandler}\r\n          />\r\n        </div>\r\n      )}\r\n      {updateScheduledPopupStatus && (\r\n        <div className=\"PopupButtons--Container\">\r\n          <PopupButtons\r\n            buttons={updateScheduledPopupButtons}\r\n            cancelHandler={popupButtonsCancelHandler}\r\n          />\r\n        </div>\r\n      )}\r\n      {commentHintDialogStatus && (\r\n        <div className=\"FinDetails__CommentHintDialog\">\r\n          <CommentHintDialog\r\n            closeCallback={toggleCommentHintDialogStatus}\r\n            successCallback={saveCommentHintResult}\r\n            optionList={commentFullInfoOptions}\r\n            commentKeyWord={latestItem.comment}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinItemDetails;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './index.scss';\r\n\r\nconst HeaderToolbar = ({closeHandler, hasSearch = true, barTitle = '', searchHandler, children, dispatch}) => {\r\n  const handleClose = () => {\r\n    if (closeHandler) {\r\n      closeHandler();\r\n    } else {\r\n      dispatch({\r\n        type: 'CHANGE_TO_MAIN'\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleSearch = () => {\r\n    if (searchHandler) {\r\n      searchHandler();\r\n    } else {\r\n      dispatch({\r\n        type: 'OPEN_SEARCH_FIN_MODE'\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='HeaderToolbar'>\r\n      <div className='HeaderToolbar-Container'>\r\n        <div\r\n          className='CloseBtn'\r\n          onClick={handleClose} />\r\n        {\r\n          barTitle &&\r\n          <div\r\n            className='BarInfo'>\r\n            {barTitle}\r\n          </div>\r\n        }\r\n        {\r\n          !barTitle && children && typeof children === 'function' &&\r\n          <div\r\n            className='BarContent'>\r\n            {children()}\r\n          </div>\r\n        }\r\n        {\r\n          !barTitle && !children &&\r\n          <div className='BarHeader' />\r\n        }\r\n        {\r\n          hasSearch &&\r\n          <div\r\n            className='ToolBtns'>\r\n            <div\r\n              className='SearchBtn'\r\n              onClick={handleSearch} />\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(HeaderToolbar);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport HeaderToolbar from '../header-toolbar';\r\n\r\nimport './index.scss';\r\n\r\nconst FinCatSubCat = ({selectedCatGroup = {}, dispatch}) => {\r\n  const [selectedCat, setSelectedCat] = useState(selectedCatGroup.category || '');\r\n  const [categoryGroups, setCategoryGroups] = useState({});\r\n\r\n  useEffect(() => {\r\n    Axios.get('/api/wacai/getCategoryGroup')\r\n      .then(({data}) => {\r\n        let categoryGroupData = data.data || {};\r\n        setCategoryGroups(categoryGroupData);\r\n      }, ({response}) => {\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: 'TOKEN_INVALID'\r\n          });\r\n        }\r\n      });\r\n  }, [])\r\n\r\n  const handleCatClick = (cat) => {\r\n    setSelectedCat(cat);\r\n  }\r\n\r\n  const handleSubCatSelected = (subcat) => {\r\n    dispatch({\r\n      type: 'CATEGORY_SELECTION_DONE',\r\n      updatedCatGroup: {\r\n        category: selectedCat,\r\n        subcategory: subcat\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className='FinCatSubCat'>\r\n      <HeaderToolbar\r\n        barTitle=''\r\n        hasSearch={false} />\r\n      <div className='FinCatSubCat-Container'>\r\n        <div className='Cats'>\r\n          {\r\n            Object.keys(categoryGroups).map((cat, index) => (\r\n              <div\r\n                className='CatItem'\r\n                key={index}\r\n                onClick={() => handleCatClick(cat)}>\r\n                <div\r\n                  className={`CatItem-Border ${selectedCat === cat ? 'CatItem-Border-Selected' : ''}`}>\r\n                  {cat}\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <div className='SubCats'>\r\n          {\r\n            selectedCat && categoryGroups[selectedCat] && categoryGroups[selectedCat].map(({subcategory, isCommon}, index) => (\r\n              <div\r\n                className='SubCatItem'\r\n                onClick={() => handleSubCatSelected(subcategory)}\r\n                key={index}>\r\n                <div className={`${index !== categoryGroups[selectedCat].length - 1 ? 'SubCat-Border' : ''}`}>\r\n                  <div className='SubCat-Text'>\r\n                    {subcategory}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  let fin = state.fin;\r\n  let selectedCatGroup = fin.selectedCatGroup || {};\r\n  return {\r\n    selectedCatGroup\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(FinCatSubCat);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FinItem from '../fin-item';\r\n\r\nimport './day-expense.scss';\r\n\r\nconst weekdayMapping = (date = '2019-04-22') => {\r\n  const dateObj = new Date(date);\r\n  const day = dateObj.getDay();\r\n  const mapping = ['', '', '', '', '', '', ''];\r\n  return mapping[day];\r\n};\r\n\r\nconst DayExpense = ({date = '2019-04-22', amount = 1203, items = []}) => {\r\n  const day = date.substring(date.length - 2);\r\n  return (\r\n    <div className='DayExpense'>\r\n      <div className='DayExpense-Container'>\r\n        <div className='DayInfo'>\r\n          {day}\r\n        </div>\r\n        <div className='DayExpenseInfo'>\r\n          <div className='DayHeader'>\r\n            <div className='DayHeader-Weekday'>\r\n              {weekdayMapping(date)}\r\n            </div>\r\n            <div className='DayExpenseAmount'>\r\n              {parseFloat(amount).toFixed(2)}\r\n            </div>\r\n          </div>\r\n          <div className='DayExpenseList'>\r\n            {items.map((item, index) => (\r\n              <div key={item.id}>\r\n                <FinItem\r\n                  dayMode={true}\r\n                  isLast={index === items.length - 1}\r\n                  item={item} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDayExpense.propTypes = {\r\n  date: PropTypes.string,\r\n  amount: PropTypes.number,\r\n  items: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\nexport default DayExpense;\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport DayExpense from './day-expense';\r\nimport {DayExpenseLoadingState} from '../loading-state';\r\n\r\nimport './month-expense.scss';\r\n\r\n// Base width for the highest monthly expense\r\n// In Pixel\r\n// const BAR_WIDTH_BASE_PIXEL = 200;\r\n// In percentage\r\nconst BAR_WIDTH_BASE_PERC = 1;\r\nconst API_LOADING_DELAY = 0;\r\n\r\nconst MonthExpense = ({month = '04', year = '2019', amount = 11086.00, barWidthRatio = 1, dayItems = [], dispatch}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [dailyDetails, setDailyDetails] = useState(dayItems);\r\n  const [isDailyDetailsLoading, setIsDailyDetailsLoading] = useState(false);\r\n\r\n  const handleExpansion = () => {\r\n    if (!expanded) {\r\n      setExpanded(!expanded);\r\n      if (dailyDetails.length <= 0) {\r\n        setIsDailyDetailsLoading(true);\r\n        Axios.get(`/api/wacai/getFinItemsByMonth?month=${month}&year=${year}`)\r\n          .then(({data}) => {\r\n            let responseData = data.data || [];\r\n            setDailyDetails(responseData);\r\n\r\n            setTimeout(() => {\r\n              setIsDailyDetailsLoading(false);\r\n            }, API_LOADING_DELAY);\r\n          }, ({response}) => {\r\n            if (response.status === 401) {\r\n              dispatch({\r\n                type: 'TOKEN_INVALID'\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setExpanded(!expanded);\r\n    }\r\n  }\r\n\r\n  // Dynamically compute bar width\r\n  const barWidth = barWidthRatio * BAR_WIDTH_BASE_PERC * 100 + '%';\r\n\r\n  return (\r\n    <div className='MonthExpense'>\r\n      <div\r\n        className={`MonthExpense-Container ${expanded ? '' : 'MonthExpenseBorder'}`}\r\n        onClick={handleExpansion}>\r\n        <div className='MonthTitle'>\r\n          <div className='Month'>{month}</div>\r\n          <div className='Year'>{year}</div>\r\n        </div>\r\n        <div className='MonthExpense'>\r\n          <div className='ExpenseTitle'>\r\n            {parseFloat(amount).toFixed(2)}\r\n          </div>\r\n          <div className='ExpenseAmount'>\r\n            <div\r\n              className='AmountBar'\r\n              // style={{width: barWidth + 'px'}}\r\n              style={{width: barWidth}} />\r\n          </div>\r\n        </div>\r\n        <div className={`MonthExpense-Dropdown ${expanded ? 'MonthExpense-Expanded' : ''}`} />\r\n      </div>\r\n      {\r\n        expanded && (!isDailyDetailsLoading ? dailyDetails.map((dayItem, index) => (\r\n          <div\r\n            key={index}>\r\n            <DayExpense\r\n              date={dayItem.date}\r\n              amount={dayItem.amount}\r\n              items={dayItem.items} />\r\n          </div>\r\n        )) : (\r\n          <DayExpenseLoadingState />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nMonthExpense.propTypes = {\r\n  month: PropTypes.string,\r\n  year: PropTypes.string,\r\n  amount: PropTypes.number,\r\n  barWidthRatio: PropTypes.number,\r\n  expansionCallback: PropTypes.func,\r\n};\r\n\r\nexport default connect()(MonthExpense);\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './index.scss';\r\n\r\nconst BottomButtonGroup = ({isExpanded = false, goToMainPage = () => void 0, scrollIntoViewRef}) => {\r\n  const [buttonExpanded, setbuttonExpanded] = useState(false);\r\n\r\n  const toggleExpandedButton = () => {\r\n    setbuttonExpanded(!buttonExpanded);\r\n  };\r\n\r\n  const goToTop = () => {\r\n    // window.scrollTo(0, 0);\r\n    scrollIntoViewRef.current.scrollIntoView({behavior: \"smooth\", block: \"start\"});\r\n    setbuttonExpanded(false);\r\n  };\r\n\r\n  const goToMain = () => {\r\n    goToMainPage();\r\n    setbuttonExpanded(false);\r\n  }\r\n\r\n  return (\r\n    <div className='BottomButtonGroup'>\r\n      <div className={`ControlButton ${buttonExpanded ? 'buttonExpanded' : ''}`} onClick={toggleExpandedButton} />\r\n      {\r\n        buttonExpanded &&\r\n        <div className='Bottom_ButtonGroup'>\r\n          <div className='BottomButton BackToTop' onClick={goToTop} />\r\n          <div className='BottomButton BackToMain' onClick={goToMain} />\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nBottomButtonGroup.propTypes = {\r\n  isExpanded: PropTypes.bool,\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  goToMainPage: () => {\r\n    dispatch({\r\n      type: 'CHANGE_TO_MAIN',\r\n    });\r\n  }\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(BottomButtonGroup);\r\n","import React, {useState, useEffect, useRef} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport MonthExpense from './month-expense';\r\nimport HeaderToolbar from '../header-toolbar';\r\nimport BottomButtonGroup from '../bottom-button-group';\r\n\r\n// import historyExpense from './mockData.json';\r\n\r\nconst FinItemList = ({dispatch}) => {\r\n  const [historyExpense, setHistoryExpense] = useState({});\r\n  const [btnExpanded, setBtnExpanded] = useState(false);\r\n  const headerEl = useRef(null);\r\n\r\n  useEffect(() => {\r\n    let now = new Date();\r\n    Axios.get(`/api/wacai/getHistoryExpense?year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\r\n      .then(({data}) => {\r\n        let responseData = data.data || {};\r\n        setBtnExpanded(false);\r\n        setHistoryExpense(responseData);\r\n      }, ({response}) => {\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: 'TOKEN_INVALID'\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  // useRef need to be used together with useEffect\r\n  // as ref element could be binded only after rendering done\r\n  useEffect(() => {\r\n  }, [headerEl]);\r\n\r\n  return (\r\n    <div className='FinItemList' ref={headerEl}>\r\n      <HeaderToolbar />\r\n      {\r\n        historyExpense.items && historyExpense.items.map((monthItem, index) => (\r\n          <div key={index}>\r\n            <MonthExpense\r\n              month={monthItem.month}\r\n              year={monthItem.year}\r\n              amount={monthItem.amount}\r\n              barWidthRatio={monthItem.amount / historyExpense.highestMonthAmount} />\r\n          </div>\r\n        ))\r\n      }\r\n      {\r\n        historyExpense.items && <BottomButtonGroup isExpanded={btnExpanded} scrollIntoViewRef={headerEl} />\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(FinItemList);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './template-toolbar.scss';\r\n\r\nconst TemplateToolbar = ({dispatch}) => {\r\n  const createTemplateHandler = () => {\r\n    dispatch({\r\n      type: 'CREATE_TEMPLATE'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='TemplateToolbar'>\r\n      <div className='ToolbarContainer'>\r\n        <div className='ToolbarInfo'></div>\r\n        <div className='ToolbarBtns'>\r\n          <div\r\n            className='CreateBtn'\r\n            onClick={createTemplateHandler}>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(TemplateToolbar);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './fin-template-item.scss';\r\n\r\nconst FinTemplateItem = ({item = {}, isLast = false, dispatch}) => {\r\n  const {comment, category, subcategory, place} = item;\r\n\r\n  const handleItemClick = () => {\r\n    dispatch({\r\n      type: 'SELECT_ITEM',\r\n      item: {\r\n        comment,\r\n        category,\r\n        subcategory,\r\n        place,\r\n        amount: 0\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='FinTemplateItem'>\r\n      <div\r\n        className={`ItemContainer ${isLast ? '' : 'ItemBorder'}`}\r\n        onClick={handleItemClick}>\r\n        <div className='Categories'>\r\n          <div className='Category'>{category}</div>\r\n          <div className='SubCategory'>{subcategory}</div>\r\n        </div>\r\n        <div className='Comment'>{comment}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nFinTemplateItem.propTypes = {\r\n  item: PropTypes.object,\r\n  isLast: PropTypes.bool\r\n};\r\n\r\nexport default connect()(FinTemplateItem);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\n\r\nimport './create-template.scss';\r\n\r\nconst CreateTemplate = ({updatedCatGroup, dispatch}) => {\r\n  const [template, setTemplate] = useState(updatedCatGroup);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: 'RESET_UPDATED_CAT_GROUP'\r\n    });\r\n  }, []);\r\n\r\n  const handleBackBtn = () => {\r\n    dispatch({\r\n      type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\r\n    });\r\n  };\r\n\r\n  const handleSaveButton = () => {\r\n    if (template.category && template.subcategory && template.comment) {\r\n      Axios.post('/api/wacai/createFinTemplate', {data: template})\r\n        .then(() => {\r\n          dispatch({\r\n            type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\r\n          });\r\n        }, ({response}) => {\r\n          if (response.status === 401) {\r\n            dispatch({\r\n              type: 'TOKEN_INVALID'\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleCatSelection = () => {\r\n    dispatch({\r\n      type: 'CHANGE_TO_CATEGORY_SELECTION',\r\n      selectedCatGroup: {\r\n        category: template.category,\r\n        subcategory: template.subcategory\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleCommentChange = (evt) => {\r\n    setTemplate(Object.assign({}, template, {comment: evt.target.value}));\r\n  };\r\n\r\n  const handlePlaceChange = (evt) => {\r\n    setTemplate(Object.assign({}, template, {place: evt.target.value}));\r\n  };\r\n\r\n  return (\r\n    <div className='CreateTemplate'>\r\n      <div className='CreatePanel'>\r\n        <div\r\n          className='Fin-SubCat'\r\n          onClick={handleCatSelection}>\r\n          {template.category} - {template.subcategory}\r\n        </div>\r\n        <div className='Fin-Comment'>\r\n          <input\r\n            className='CommentInput'\r\n            placeholder=''\r\n            type='input'\r\n            onChange={handleCommentChange}\r\n            value={template.comment} />\r\n        </div>\r\n        <div className='Fin-Place'>\r\n          <input\r\n            className='PlaceInput'\r\n            placeholder=''\r\n            type='input'\r\n            onChange={handlePlaceChange}\r\n            value={template.place} />\r\n        </div>\r\n        <div className='Fin-Toolbar'>\r\n          <div className='Fin-Btns'>\r\n            <div\r\n              className='Fin-Btn Fin-BackBtn'\r\n              onClick={handleBackBtn}>\r\n              \r\n            </div>\r\n            <div\r\n              className='Fin-Btn Fin-SaveBtn'\r\n              onClick={handleSaveButton}>\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  let fin = state.fin || {};\r\n  return {\r\n    updatedCatGroup: fin.updatedCatGroup || {},\r\n    isCreatingTemplate: fin.isCreatingTemplate\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(CreateTemplate);\r\n","import React, {useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\n\r\nimport HeaderToolbar from '../header-toolbar';\r\nimport TemplateToolbar from './template-toolbar';\r\nimport FinTemplateItem from './fin-template-item';\r\nimport CreateTemplate from './create-template';\r\n\r\n// import mockTemplates from './mockData.json';\r\n\r\nimport './index.scss';\r\n\r\nconst FinTemplateList = ({isCreatingTemplate, dispatch}) => {\r\n  const [templates, setTemplates] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get('/api/wacai/getFinTemplates')\r\n      .then(({data}) => {\r\n        let templates = data.data || [];\r\n        setTemplates(templates);\r\n      }, ({response}) => {\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: 'TOKEN_INVALID'\r\n          });\r\n        }\r\n      })\r\n  }, [isCreatingTemplate]);\r\n\r\n  return (\r\n    <div className='FinTemplateList'>\r\n      <HeaderToolbar\r\n        barTitle={isCreatingTemplate ? '' : ''}\r\n        hasSearch={false} />\r\n      <TemplateToolbar />\r\n      {\r\n        isCreatingTemplate ?\r\n        <CreateTemplate />\r\n        :\r\n        <div className='Templates'>\r\n          {\r\n            templates.map((item, index) => (\r\n              <div\r\n                key={index}\r\n                className='Template'>\r\n                <FinTemplateItem\r\n                  item={item}\r\n                  isLast={index === templates.length - 1} />\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  let fin = state.fin || {};\r\n  return {\r\n    isCreatingTemplate: fin.isCreatingTemplate\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(FinTemplateList);\r\n","import React, {useState, useEffect} from 'react';\r\n\r\n// Compute initial number\r\nconst computeInitialNumber = (total) => {\r\n  if (total < 1000) {\r\n    return 0;\r\n  } else if (total < 5000) {\r\n    return 1000;\r\n  } else if (total < 10000) {\r\n    return 5000;\r\n  } else if (total < 15000) {\r\n    return 10000;\r\n  } else if (total < 20000) {\r\n    return 15000;\r\n  } else {\r\n    return 20000;\r\n  }\r\n}\r\n\r\nconst AutoUpdateNumber = ({total, start = 0, duration = 200}) => {\r\n  const [currentVal, setCurrentVal] = useState(start || computeInitialNumber(total));\r\n  const diff = total - currentVal;\r\n  const step = diff / duration;\r\n  // use global variable to store value of each step\r\n  // state change is async, and cannot be rendered immediately\r\n  let currentStep = currentVal;\r\n\r\n  useEffect(() => {\r\n    let interval = setInterval(() => {\r\n      currentStep = currentStep + step;\r\n      if (currentStep >= total) {\r\n        currentStep = total;\r\n        clearInterval(interval);\r\n      }\r\n      setCurrentVal(currentStep);\r\n    }, 1);\r\n  }, [total]);\r\n\r\n  return (\r\n    <div className='AutoUpdateNumber'>\r\n      {parseFloat(currentVal).toFixed(2)}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default AutoUpdateNumber;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './index.scss';\r\n\r\nconst Notification = ({type, message, errorTimeout = 1000, dispatch}) => {\r\n  const [addAnimation, setAddAnimation] = useState(true);\r\n  useEffect(() => {\r\n    setAddAnimation(false);\r\n    setTimeout(() => {\r\n      setAddAnimation(true);\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: 'RESET_MESSAGE'\r\n        });\r\n      }, 1000);\r\n    }, errorTimeout);\r\n  }, []);\r\n  return (\r\n    <div className={`Notification ${addAnimation ? 'fadeOutAnimation' : ''}`}>\r\n      <div className={`${type === 'error' ? 'Message-Container Error' : 'Message-Container Info'}`}>\r\n        <div className={`${type === 'error' ? 'ErrorMessage' : 'InfoMessage'}`}>\r\n          {message}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(Notification);\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\n\r\nimport './index.scss';\r\n\r\nconst SearchBox = ({customStyles = {}, advancedSearchHanlder = void 0, dispatch}) => {\r\n  const [searchString, setSearchString] = useState('');\r\n\r\n  const handleSearchInputChange = (evt) => {\r\n    setSearchString(evt.target.value);\r\n  }\r\n\r\n  const handleSearch = () => {\r\n    if (!searchString) {\r\n      return;\r\n    }\r\n\r\n    let now = new Date();\r\n    Axios.get(`/api/wacai/searchFinItems?searchString=${searchString}&year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\r\n      .then(({data}) => {\r\n        let finItems = data.data || [];\r\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems});\r\n      });\r\n  }\r\n\r\n  const handleAdvancedSearch = () => {\r\n    advancedSearchHanlder && advancedSearchHanlder();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='SearchBox'\r\n      style={customStyles}>\r\n      <div className='SearchBox-Container'>\r\n        <div className='AdvanceSearch'>\r\n          <div\r\n            className='AdvanceSearch-Text'\r\n            onClick={handleAdvancedSearch}>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className='SimpleSearch'>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=''\r\n            onChange={handleSearchInputChange}\r\n            value={searchString} />\r\n        </div>\r\n      </div>\r\n      <div className='Btns'>\r\n        <div\r\n          className='SearchBtn'\r\n          onClick={handleSearch}>\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(SearchBox);\r\n","import React, {useState} from 'react';\r\nimport DayExpense from '../fin-item-list/day-expense';\r\nimport PropTypes from 'prop-types';\r\nimport {padZero} from '../../utils/helper';\r\n\r\nimport '../fin-item-list/month-expense.scss';\r\n\r\nconst BAR_WIDTH_BASE_PERC = 1;\r\n\r\nconst SearchFinItemByMonth = ({month = '04', year = '2019', amount = 11086.00, barWidthRatio = 1, dayItems = []}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleExpansion = () => {\r\n    setExpanded(!expanded);\r\n  }\r\n\r\n  // Dynamically compute bar width\r\n  const barWidth = barWidthRatio * BAR_WIDTH_BASE_PERC * 100 + '%';\r\n\r\n  const translateDayItems = (items) => {\r\n    let dayItems = {};\r\n    items.map((item) => {\r\n      // Issue: https://stackoverflow.com/questions/4310953/invalid-date-in-safari\r\n      // Mobile Safari does not support YYYY-MM-DD as a standard date\r\n      let itemDate = new Date(item.date.replace(/-/g, '/'));\r\n      let day = padZero(itemDate.getDate());\r\n      let month = padZero(itemDate.getMonth() + 1);\r\n      let year = itemDate.getFullYear();\r\n      if (dayItems[`${year}-${month}-${day}`]) {\r\n        dayItems[`${year}-${month}-${day}`].amount += item.amount;\r\n        dayItems[`${year}-${month}-${day}`].items.push(item);\r\n      } else {\r\n        dayItems[`${year}-${month}-${day}`] = {\r\n          amount: item.amount,\r\n          items: [item]\r\n        }\r\n      }\r\n    });\r\n\r\n    return dayItems;\r\n  }\r\n\r\n  const transformedDayItems = translateDayItems(dayItems);\r\n\r\n  return (\r\n    <div className='MonthExpense'>\r\n      <div\r\n        className={`MonthExpense-Container ${expanded ? '' : 'MonthExpenseBorder'}`}\r\n        onClick={handleExpansion}>\r\n        <div className='MonthTitle'>\r\n          <div className='Month'>{month}</div>\r\n          <div className='Year'>{year}</div>\r\n        </div>\r\n        <div className='MonthExpense'>\r\n          <div className='ExpenseTitle'>\r\n            {parseFloat(amount).toFixed(2)}\r\n          </div>\r\n          <div className='ExpenseAmount'>\r\n            <div\r\n              className='AmountBar'\r\n              style={{width: barWidth}} />\r\n          </div>\r\n        </div>\r\n        <div className={`MonthExpense-Dropdown ${expanded ? 'MonthExpense-Expanded' : ''}`} />\r\n      </div>\r\n      {\r\n        expanded && Object.keys(transformedDayItems).sort().reverse().map((day, index) => (\r\n          <div\r\n            key={index}>\r\n            <DayExpense\r\n              date={day}\r\n              amount={transformedDayItems[day].amount}\r\n              items={transformedDayItems[day].items} />\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nSearchFinItemByMonth.propTypes = {\r\n  month: PropTypes.string,\r\n  year: PropTypes.string,\r\n  amount: PropTypes.number,\r\n  barWidthRatio: PropTypes.number,\r\n  dayItems: PropTypes.array,\r\n};\r\n\r\nexport default SearchFinItemByMonth;\r\n","import React from 'react';\r\nimport SearchFinItemByMonth from './search-fin-item-by-month';\r\nimport {padZero} from '../../utils/helper';\r\n\r\nimport './search-fin-item-list.scss'\r\n\r\nconst SearchFinItemList = ({finItems = []}) => {\r\n  let total = 0;\r\n  if (finItems.length > 0) {\r\n    finItems.forEach((item) => {\r\n      total = total + item.amount;\r\n    });\r\n  }\r\n\r\n  const translateFinItems = (finItems = []) => {\r\n    let historyExpense = {}, highestMonthAmount = 0;\r\n    finItems.map((item, index) => {\r\n      // Issue: https://stackoverflow.com/questions/4310953/invalid-date-in-safari\r\n      // Mobile Safari does not support YYYY-MM-DD as a standard date\r\n      let itemDate = new Date(item.date.replace(/-/g, '/'));\r\n      let month = padZero(itemDate.getMonth() + 1);\r\n      let year = itemDate.getFullYear();\r\n      if (historyExpense[`${year}-${month}`]) {\r\n        historyExpense[`${year}-${month}`].amount += item.amount;\r\n        historyExpense[`${year}-${month}`].dayItems.push(item);\r\n      } else {\r\n        historyExpense[`${year}-${month}`] = {\r\n          amount: item.amount,\r\n          dayItems: [item]\r\n        };\r\n      }\r\n    });\r\n    Object.values(historyExpense).forEach((expense) => {\r\n      if (expense.amount > highestMonthAmount) {\r\n        highestMonthAmount = expense.amount;\r\n      }\r\n    });\r\n\r\n    return {\r\n      highestMonthAmount,\r\n      items: historyExpense\r\n    };\r\n  }\r\n\r\n  const historyExpense = translateFinItems(finItems);\r\n\r\n  return (\r\n    <div className='SearchFinItemList'>\r\n      <div className='SearchResultContainer'>\r\n        <div className='SearchResult-Summary'>\r\n          <div className='SummaryItem SummaryAmount'>\r\n             {parseFloat(total).toFixed(2)}\r\n          </div>\r\n          <div className='SummaryItem SummaryCaption'>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='ListContainer'>\r\n        {\r\n          finItems.length > 0 && Object.keys(historyExpense.items).sort().reverse().map((month, index) =>(\r\n            <div key={index}>\r\n              <SearchFinItemByMonth\r\n                month={month.split('-')[1]}\r\n                year={month.split('-')[0]}\r\n                amount={historyExpense.items[month].amount}\r\n                barWidthRatio={historyExpense.items[month].amount / historyExpense.highestMonthAmount}\r\n                dayItems={historyExpense.items[month].dayItems} />\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchFinItemList;\r\n","import React, {useState, Fragment} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './advance-search-item.scss';\r\n\r\nconst AdvanceSearchItem = ({type, name, Comp, defaultValue, formatter = (value) => value, searchParams, dispatch}) => {\r\n  const [isSelectionPanelOpen, setIsSelectionPanelOpen] = useState(false);\r\n\r\n  const setSelectionValue = (value) => {\r\n    dispatch({\r\n      type: 'SET_ADVANCE_SEARCH_PARAM',\r\n      itemType: type,\r\n      itemValue: value\r\n    });\r\n  }\r\n\r\n  const toggleSelectionDetailPanel = () => {\r\n    setIsSelectionPanelOpen(!isSelectionPanelOpen);\r\n  }\r\n\r\n  const formatValue = (value) => {\r\n    return formatter ? formatter(value) : value;\r\n  }\r\n\r\n  const submitHandler = (value) => {\r\n    setSelectionValue(value);\r\n    setIsSelectionPanelOpen(false);\r\n  }\r\n\r\n  const cancelHandler = () => {\r\n    setIsSelectionPanelOpen(false);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={`AdvanceSearchItem ${isSelectionPanelOpen && Comp ? 'AdvanceSearchItem-NoBottomBorder' : ''}`}>\r\n        <div className='ItemName'>\r\n          <span>{name}</span>\r\n        </div>\r\n        <div className='ItemOption'>\r\n          <div\r\n            className='ItemOption-Container'\r\n            onClick={toggleSelectionDetailPanel}>\r\n            <div className='ItemSelectedValue'>{searchParams[type] ? formatValue(searchParams[type]) : defaultValue}</div>\r\n            <div className='ItemSelectionButton'>></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {\r\n        isSelectionPanelOpen && Comp && <Comp currentValue={searchParams[type]} submitHandler={submitHandler} cancelHandler={cancelHandler} />\r\n      }\r\n    </Fragment>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const searchParams = (state.search || {}).searchParams || {};\r\n  return {\r\n    searchParams\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(AdvanceSearchItem);\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './index.scss';\r\n\r\nconst MultiSelection = ({defaultSelection = [], validSeletions = [], handleSelection = () => void 0}) => {\r\n  const [selections, setSelections] = useState(defaultSelection);\r\n\r\n  const onCheckChange = (evt) => {\r\n    const selectionItem = evt.target;\r\n    const {name, checked} = selectionItem;\r\n    let tempSelections = selections.slice();\r\n    if (checked) {\r\n      tempSelections.push(name);\r\n      setSelections(tempSelections);\r\n    } else {\r\n      const uncheckedItemIndex = tempSelections.indexOf(name);\r\n      tempSelections.splice(uncheckedItemIndex, 1);\r\n      setSelections(tempSelections);\r\n    }\r\n\r\n    handleSelection(tempSelections);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelections(defaultSelection);\r\n  }, [defaultSelection]);\r\n\r\n  return (\r\n    <div className='MultiSelection'>\r\n      {\r\n        validSeletions.length > 0 ?\r\n        <div className='SelectionList'>\r\n          {\r\n            validSeletions.map((selection, index) => (\r\n              <div\r\n                key={index}\r\n                className='SelectionItem'>\r\n                <input type='checkbox' name={selection} onChange={onCheckChange} checked={selections.indexOf(selection) > -1} />\r\n                <label>{selection}</label>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        :\r\n        null\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nMultiSelection.propTypes = {\r\n  defaultSelection: PropTypes.array,\r\n  validSeletions: PropTypes.array,\r\n  handleSelection: PropTypes.func,\r\n};\r\n\r\nexport default MultiSelection;","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport DropdownList from '../dropdown-list';\r\nimport MultiSelection from '../multi-selection';\r\nimport {formatDate, formatDateObject} from '../../utils/helper';\r\nimport DateTime from 'react-datetime';\r\n\r\nimport './advance-search-option-panel.scss';\r\n\r\nexport const SelectionPanelButtonGroup = ({enableSubmitButton = true, enableCancelButton = true, submitHandler = void 0, cancelHandler = void 0}) => {\r\n  return (\r\n    <div className='Selection__ButtonGroups'>\r\n      {\r\n        enableSubmitButton &&\r\n        <div className='SubmitButton' onClick={submitHandler}>\r\n          \r\n        </div>\r\n      }\r\n      {\r\n        enableCancelButton &&\r\n        <div className='CancelButton' onClick={cancelHandler}>\r\n          \r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const KeywordsSelectionPanel = ({currentValue = '', submitHandler = void 0, cancelHandler = void 0}) => {\r\n  const [keyword, setKeyword] = useState(currentValue);\r\n  const onChangeHandler = (evt) => {\r\n    setKeyword(evt.target.value);\r\n  }\r\n  const submitHandlerFn = () => {\r\n    submitHandler(keyword);\r\n  }\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  }\r\n  return (\r\n    <div className='KeywordsSelectionPanel'>\r\n      <div className='InputContainer'>\r\n        <input onChange={onChangeHandler} placeholder='' value={keyword} />\r\n      </div>\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CategorySelectionPanelComp = ({currentValue = {}, submitHandler = void 0, cancelHandler = void 0, dispatch}) => {\r\n  const [category, setCategory] = useState(currentValue.category || '');\r\n  const [subCategory, setSubCategory] = useState(currentValue.subcategory || '');\r\n  const [categoryGroup, setCategoryGroup] = useState({});\r\n  const [isSubCategoryDisabled, setIsSubCategoryDisabled] = useState((currentValue.category || '') === '');\r\n  const [categories, setCategories] = useState([]);\r\n  const [subCategories, setSubCategories] = useState([]);\r\n\r\n  const categoryDataProcessor = (data) => {\r\n    let validCategories = Object.keys(data);\r\n    validCategories = validCategories.map((item, index) => {\r\n      return {\r\n        key: index + 1,\r\n        value: item\r\n      };\r\n    });\r\n\r\n    validCategories.unshift({\r\n      key: 0,\r\n      value: ''\r\n    });\r\n\r\n    return validCategories;\r\n  }\r\n\r\n  const categorySelectionHandler = (item) => {\r\n    setCategory(item.value);\r\n    const defaultSubCategories = [{\r\n      key: 0,\r\n      value: ''\r\n    }];\r\n    if (item.value === '') {\r\n      setSubCategories(defaultSubCategories);\r\n      setIsSubCategoryDisabled(false);\r\n    } else {\r\n      let alternateSubCategories = categoryGroup[item.value];\r\n      alternateSubCategories = alternateSubCategories.map((item, index) => {\r\n        return {\r\n          key: index + 1,\r\n          value: item.subcategory\r\n        };\r\n      });\r\n      setSubCategories([...defaultSubCategories, ...alternateSubCategories]);\r\n      setIsSubCategoryDisabled(false);\r\n    }\r\n  }\r\n\r\n  const subCategorySelectionHandler = (item) => {\r\n    setSubCategory(item.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    Axios.get('/api/wacai/getCategoryGroup')\r\n      .then(({data}) => {\r\n        let categoryGroupData = data.data || {};\r\n        setCategoryGroup(categoryGroupData);\r\n        const categories = categoryDataProcessor(categoryGroupData);\r\n        setCategories(categories);\r\n      }, ({response}) => {\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: 'TOKEN_INVALID'\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const submitHandlerFn = () => {\r\n    submitHandler({\r\n      category: category,\r\n      subcategory: subCategory\r\n    });\r\n  }\r\n\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  }\r\n\r\n  return (\r\n    <div className='CategorySelectionPanel'>\r\n      <div className='CategorySelectionContainer'>\r\n        <div className='CategoryTitle'></div>\r\n        <div className='CategorySelection'>\r\n          <DropdownList\r\n            defaultSelectedValue={category}\r\n            items={categories}\r\n            customizeItemClickHandler={categorySelectionHandler} />\r\n        </div>\r\n      </div>\r\n      <div className='SubCategorySelectionContainer'>\r\n        <div className='SubCategoryTitle'></div>\r\n        <div className='SubCategorySelection'>\r\n          <DropdownList\r\n            defaultSelectedValue={subCategory}\r\n            isDisabled={isSubCategoryDisabled}\r\n            items={subCategories}\r\n            customizeItemClickHandler={subCategorySelectionHandler} />\r\n        </div>\r\n      </div>\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport const CategorySelectionPanel = connect()(CategorySelectionPanelComp);\r\n\r\nconst AmountRangeSelectionPanelComp = ({currentValue = [], submitHandler = () => void 0, cancelHandler = () => void 0, dispatch}) => {\r\n  const [amountRanges, setAmountRanges] = useState(currentValue);\r\n\r\n  const amountRangeAdder = () => {\r\n    setAmountRanges([...amountRanges, {minAmount: 0, maxAmount: 0}]);\r\n  }\r\n\r\n  const amountRangeRemover = (index) => {\r\n    const tmpAmountRanges = [...amountRanges];\r\n    tmpAmountRanges.splice(index, 1);\r\n    setAmountRanges([...tmpAmountRanges]);\r\n  }\r\n\r\n  const onMinAmountChange = (evt, index) => {\r\n    const tmpAmountRanges = [...amountRanges];\r\n    const value = evt.target.value;\r\n    tmpAmountRanges[index].minAmount = value;\r\n    setAmountRanges([...tmpAmountRanges]);\r\n  }\r\n\r\n  const onMaxAmountChange = (evt, index) => {\r\n    const tmpAmountRanges = [...amountRanges];\r\n    const value = evt.target.value;\r\n    tmpAmountRanges[index].maxAmount = value;\r\n    setAmountRanges([...tmpAmountRanges]);\r\n  }\r\n\r\n  const submitHandlerFn = () => {\r\n    for (const item in amountRanges) {\r\n      if (amountRanges[item].minAmount > amountRanges[item].maxAmount && amountRanges[item].maxAmount != 0) {\r\n        dispatch({\r\n          type: 'SET_MESSAGE',\r\n          notificationType: 'error',\r\n          message: ''\r\n        });\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    submitHandler(amountRanges);\r\n  }\r\n\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  }\r\n\r\n  return (\r\n    <div className='AmountRangeSelectionPanel'>\r\n      <div\r\n        className='AmountRangeAdder'\r\n        onClick={amountRangeAdder}>+</div>\r\n      <div className='AmountRangeContainer'>\r\n        {\r\n          amountRanges.map(({minAmount, maxAmount}, index) => (\r\n            <div className='AmountRangeItem' key={index}>\r\n              <div className='AmountRangeMain'>\r\n                <input className='AmountRangeItem--Min' onChange={(evt) => onMinAmountChange(evt, index)} value={minAmount} />\r\n                <div className='AmountRangeItem--Sep'> - </div>\r\n                <input className='AmountRangeItem--Max' onChange={(evt) => onMaxAmountChange(evt, index)} value={maxAmount} />\r\n              </div>\r\n              <div className='AmountRangeRemover' onClick={() => {amountRangeRemover(index)}}>-</div>\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const AmountRangeSelectionPanel = connect()(AmountRangeSelectionPanelComp);\r\n\r\nexport const DateRangeSelectionPanel = ({currentValue = {}, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\r\n  const [selectedDateRange, setSelectedDateRange] = useState(currentValue);\r\n  const [isFreeDateRangeEnabled, setIsFreeDateRangeEnabled] = useState(currentValue.key === 9);\r\n  const [customStartDate, setCustomStartDate] = useState(currentValue.key === 9 ? new Date(currentValue.minDate) : new Date());\r\n  const [startDateStatus, setStartDateStatus] = useState(false);\r\n  const [customEndDate, setCustomEndDate] = useState(currentValue.key === 9 ? new Date(currentValue.maxDate) : new Date());\r\n  const [endDateStatus, setEndDateStatus] = useState(false);\r\n\r\n  const now = new Date();\r\n  const year = now.getFullYear();\r\n  const month = now.getMonth() + 1;\r\n  const date = now.getDate();\r\n  const day = now.getDay();\r\n\r\n  const getLastSeason = (year, month) => {\r\n    if (month < 3) {\r\n      return {\r\n        minDate: formatDate(year - 1, 9, 1),\r\n        maxDate: formatDate(year - 1, 12, 31)\r\n      };\r\n    } else {\r\n      return {\r\n        minDate: formatDate(year, month - (month % 3) - 2, 1),\r\n        maxDate: formatDate(year, month + (3 - month % 3) - 3, 31)\r\n      };\r\n    }\r\n  }\r\n\r\n  const daysInMonth = (year, month) => { // m is 0 indexed: 0-11\r\n    switch (month) {\r\n        case 2 :\r\n            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;\r\n        case 9 : case 4 : case 6 : case 11 :\r\n            return 30;\r\n        default :\r\n            return 31\r\n    }\r\n  }\r\n\r\n  const getLastMonth = (year, month) => {\r\n    if (month === 1) {\r\n      return {\r\n        minDate: formatDate(year - 1, 12, 1),\r\n        maxDate: formatDate(year - 1, 12, 31)\r\n      }\r\n    } else {\r\n      return {\r\n        minDate: formatDate(year, month - 1, 1),\r\n        maxDate: formatDate(year, month - 1, daysInMonth(year, month - 1))\r\n      }\r\n    }\r\n  }\r\n\r\n  const getThisWeek = (year, month, date, day) => {\r\n    if (date < day) {\r\n      const diff = day - date;\r\n      return {\r\n        minDate: formatDate(year, month - 1, daysInMonth(year, month - 1) - (diff - 1)),\r\n        maxDate: formatDate(year, month, date + (7 - day))\r\n      };\r\n    } else {\r\n      return {\r\n        minDate: formatDate(year, month, date - (day - 1)),\r\n        maxDate: formatDate(year, month, date + (7 - day))\r\n      };\r\n    }\r\n  }\r\n\r\n  const getLastWeek = (year, month, date, day) => {\r\n    if ((date - 7) <= 0) {\r\n      return {\r\n        ...getThisWeek(year, month - 1, daysInMonth(year, month - 1) - (7 - date), day)\r\n      };\r\n    } else {\r\n      return {\r\n        ...getThisWeek(year, month, date - 7, day)\r\n      };\r\n    }\r\n  }\r\n\r\n  const dateRangeOptions = [{\r\n    key: 0,\r\n    value: ''\r\n  }, {\r\n    key: 1,\r\n    value: '',\r\n    minDate: formatDate(year, 1, 1),\r\n    maxDate: formatDate(year, 12, 31),\r\n  }, {\r\n    key: 2,\r\n    value: '',\r\n    minDate: formatDate(year - 1, 1, 1),\r\n    maxDate: formatDate(year - 1, 12, 31),\r\n  }, {\r\n    key: 3,\r\n    value: '',\r\n    minDate: formatDate(year, month - (month % 3) + 1, 1),\r\n    maxDate: formatDate(year, month + (3 - month % 3), 31)\r\n  }, {\r\n    key: 4,\r\n    value: '',\r\n    ...getLastSeason(year, month)\r\n  }, {\r\n    key: 5,\r\n    value: '',\r\n    minDate: formatDate(year, month, 1),\r\n    maxDate: formatDate(year, month, daysInMonth(year, month))\r\n  }, {\r\n    key: 6,\r\n    value: '',\r\n    ...getLastMonth(year, month)\r\n  }, {\r\n    key: 7,\r\n    value: '',\r\n    ...getThisWeek(year, month, date, day)\r\n  }, {\r\n    key: 8,\r\n    value: '',\r\n    ...getLastWeek(year, month, date, day)\r\n  }, {\r\n    key: 9,\r\n    value: ''\r\n  }];\r\n\r\n  const dateRangeSelectedHandler = (item) => {\r\n    if (item.key < 9) {\r\n      setIsFreeDateRangeEnabled(false);\r\n    } else {\r\n      setIsFreeDateRangeEnabled(true);\r\n    }\r\n    setSelectedDateRange(dateRangeOptions[item.key]);\r\n  }\r\n\r\n  const handleStartDateChange = (newStartDate) => {\r\n    let newDateString = newStartDate.format('YYYY-MM-DD');\r\n    setCustomStartDate(new Date(newDateString));\r\n    setStartDateStatus(!startDateStatus);\r\n  }\r\n\r\n  const handleEndDateChange = (newEndDate) => {\r\n    let newDateString = newEndDate.format('YYYY-MM-DD');\r\n    setCustomEndDate(new Date(newDateString));\r\n    setEndDateStatus(!endDateStatus);\r\n  }\r\n\r\n  const toggleStartDateSelection = () => {\r\n    setStartDateStatus(!startDateStatus);\r\n  }\r\n\r\n  const toggleEndDateSelection = () => {\r\n    setEndDateStatus(!endDateStatus);\r\n  }\r\n\r\n  const submitHandlerFn = () => {\r\n    if (selectedDateRange.key === 9) {\r\n      submitHandler({\r\n        ...selectedDateRange,\r\n        minDate: customStartDate,\r\n        maxDate: customEndDate\r\n      });\r\n    } else {\r\n      submitHandler(selectedDateRange);\r\n    }\r\n  }\r\n\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  }\r\n\r\n  return (\r\n    <div className='DateRangeSelectionPanel'>\r\n      <div className='DateRangeDropdownList'>\r\n        <DropdownList\r\n          items={dateRangeOptions}\r\n          defaultSelectedValue={selectedDateRange.value || ''}\r\n          customizeItemClickHandler={dateRangeSelectedHandler} />\r\n      </div>\r\n      {\r\n        isFreeDateRangeEnabled &&\r\n        <div className='DateRangeSelection--Custom'>\r\n          <div className='DateRangeSelection DateRangeSelection--CustomStart'>\r\n            <div className='StartDateContainer' onClick={toggleStartDateSelection}>\r\n              <div className='Title'></div>\r\n              <div className='Value'>{formatDateObject(customStartDate)}</div>\r\n            </div>\r\n            {\r\n              startDateStatus &&\r\n              <DateTime\r\n                input={false}\r\n                value={customStartDate}\r\n                defaultValue={customStartDate}\r\n                onChange={handleStartDateChange}\r\n                className='DateTimeStyles StartDatePicker'\r\n                timeFormat={false} />\r\n            }\r\n          </div>\r\n          <div className='DateRangeSelection DateRangeSelection--CustomEnd'>\r\n            <div className='EndDateContainer' onClick={toggleEndDateSelection}>\r\n              <div className='Title'></div>\r\n              <div className='Value'>{formatDateObject(customEndDate)}</div>\r\n            </div>\r\n            {\r\n              endDateStatus &&\r\n              <DateTime\r\n                input={false}\r\n                value={customEndDate}\r\n                defaultValue={customEndDate}\r\n                onChange={handleEndDateChange}\r\n                className='DateTimeStyles EndDatePicker'\r\n                timeFormat={false} />\r\n            }\r\n          </div>\r\n        </div>\r\n      }\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ALL_KEYWORD = '';\r\nexport const CitySelectionPanel = ({currentValue = ALL_KEYWORD, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\r\n  const [validCities, setValidCities] = useState([]);\r\n  const [selectedCities, setSelectedCities] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get('/api/wacai/getAllCities')\r\n      .then(({data}) => {\r\n        let responseData = data.data || [];\r\n        let cities = [];\r\n        responseData.forEach((option) => {\r\n          cities.push(option.city);\r\n        });\r\n\r\n        setValidCities(cities);\r\n\r\n        // Translate '' keyword\r\n        if (currentValue === ALL_KEYWORD) {\r\n          setSelectedCities(cities.slice());\r\n        } else {\r\n          setSelectedCities(currentValue);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const handleCitySelection = (selections) => {\r\n    setSelectedCities(selections);\r\n  };\r\n\r\n  const submitHandlerFn = () => {\r\n    if (selectedCities.length === validCities.length) {\r\n      submitHandler(ALL_KEYWORD);\r\n    } else {\r\n      submitHandler(selectedCities);\r\n    }\r\n  };\r\n\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  };\r\n\r\n  return (\r\n    <div className='CitySelectionPanel'>\r\n      <div className='CityMultiSelection'>\r\n        <MultiSelection\r\n          defaultSelection={selectedCities}\r\n          validSeletions={validCities}\r\n          handleSelection={handleCitySelection} />\r\n      </div>\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  )\r\n};\r\n\r\nCitySelectionPanel.propTypes = {\r\n  currentValue: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.array,\r\n  ]),\r\n  submitHandler: PropTypes.func,\r\n  cancelHandler: PropTypes.func,\r\n};\r\n\r\nexport const TagSelectionPanel = ({currentValue = ALL_KEYWORD, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\r\n  const [validTags, setValidTags] = useState([]);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get('/api/wacai/getAllTags')\r\n      .then(({data}) => {\r\n        let tags = data.data || [];\r\n        setValidTags(tags);\r\n\r\n        // Translate '' keyword\r\n        if (currentValue === ALL_KEYWORD) {\r\n          setSelectedTags(tags.slice());\r\n        } else {\r\n          setSelectedTags(currentValue);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const handleTagSelection = (selections) => {\r\n    setSelectedTags(selections);\r\n  };\r\n\r\n  const submitHandlerFn = () => {\r\n    if (selectedTags.length === validTags.length) {\r\n      submitHandler(ALL_KEYWORD);\r\n    } else {\r\n      submitHandler(selectedTags);\r\n    }\r\n  };\r\n\r\n  const cancelHandlerFn = () => {\r\n    cancelHandler();\r\n  };\r\n\r\n  return (\r\n    <div className='TagSelectionPanel'>\r\n      <div className='TagMultiSelection'>\r\n        <MultiSelection\r\n          defaultSelection={selectedTags}\r\n          validSeletions={validTags}\r\n          handleSelection={handleTagSelection} />\r\n      </div>\r\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\r\n    </div>\r\n  )\r\n};\r\n\r\nTagSelectionPanel.propTypes = {\r\n  currentValue: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.array,\r\n  ]),\r\n  submitHandler: PropTypes.func,\r\n  cancelHandler: PropTypes.func,\r\n};","import {KeywordsSelectionPanel, CategorySelectionPanel, AmountRangeSelectionPanel, DateRangeSelectionPanel, CitySelectionPanel, TagSelectionPanel} from './advance-search-option-panel';\r\nimport {formatDateObject} from '../../utils/helper';\r\n\r\nexport const ADVANCE_SEARCH_ITEMS = [{\r\n  type: 'dateRange',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: DateRangeSelectionPanel,\r\n  formatter: (dateRange) => {\r\n    if (dateRange.minDate && dateRange.maxDate) {\r\n      let minDate = typeof dateRange.minDate === 'object' ? formatDateObject(dateRange.minDate) : dateRange.minDate;\r\n      let maxDate = typeof dateRange.maxDate === 'object' ? formatDateObject(dateRange.maxDate) : dateRange.maxDate;\r\n      return `${minDate} - ${maxDate}`;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}, {\r\n  type: 'amountRanges',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: AmountRangeSelectionPanel,\r\n  formatter: (amountRanges) => {\r\n    let validAmountRanges = amountRanges.map(({minAmount, maxAmount}) => {\r\n      if (+maxAmount === 0) {\r\n        return `>= ${minAmount}`;\r\n      } else {\r\n        return `${minAmount} - ${maxAmount}`;\r\n      }\r\n    });\r\n    return validAmountRanges.join(', ');\r\n  }\r\n}, {\r\n  type: 'category',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: CategorySelectionPanel,\r\n  formatter: ({category, subcategory}) => {\r\n    return `${category} - ${subcategory}`;\r\n  }\r\n}, {\r\n  type: 'city',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: CitySelectionPanel,\r\n  formatter: (cities) => {\r\n    return cities.join ? cities.join(', ') : cities;\r\n  }\r\n}, {\r\n  type: 'keyword',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: KeywordsSelectionPanel,\r\n  formatter: (value) => {\r\n    return value;\r\n  }\r\n}, {\r\n  type: 'tags',\r\n  name: '',\r\n  defaultValue: '',\r\n  comp: TagSelectionPanel,\r\n  formatter: (tags) => {\r\n    return tags.join ? tags.join(', ') : tags;\r\n  }\r\n}];\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport AdvanceSearchItem from './advance-search-item';\r\nimport {ADVANCE_SEARCH_ITEMS} from './advance-search-config';\r\nimport Axios from 'axios';\r\n\r\nimport './advance-search.scss';\r\n\r\nconst AdvancedSearch = ({searchParams, dispatch, submitHandler = void 0}) => {\r\n  const handleSubmit = () => {\r\n    let params = [];\r\n    Object.keys(searchParams).map((key) => {\r\n      if (Array.isArray(searchParams[key])) {\r\n        if (key === 'amountRanges') {\r\n          // Amount Range Handler\r\n          params.push(`${key}=${JSON.stringify(searchParams[key])}`);\r\n        } else if (key === 'city' || key === 'tags') {\r\n          params.push(`${key}=${searchParams[key].join(',')}`);\r\n        }\r\n      } else if (typeof searchParams[key] === 'object') {\r\n        if (key === 'dateRange') {\r\n          params.push(`${key}=${JSON.stringify(searchParams[key])}`);\r\n        } else if (key === 'category') {\r\n          for (const item in searchParams[key]) {\r\n            params.push(`${item}=${searchParams[key][item]}`);\r\n          }\r\n        }\r\n      } else {\r\n        params.push(`${key}=${searchParams[key]}`);\r\n      }\r\n    });\r\n\r\n    // App Loading Status\r\n    dispatch({\r\n      type: 'APP_LOADING'\r\n    });\r\n\r\n    Axios.get(`/api/wacai/deepSearchFinItems?${params.join('&')}`)\r\n      .then(({data}) => {\r\n        submitHandler();\r\n        let finItems = data.data || [];\r\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems, searchLoading: false});\r\n\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: 'APP_LOADED'\r\n        });\r\n      }, () => {\r\n        // App Loaded Status\r\n        dispatch({\r\n          type: 'APP_LOADED'\r\n        });\r\n      });\r\n  }\r\n  return (\r\n    <div className='AdvancedSearch'>\r\n      <div className='AdvancedSearch-Toolbar'>\r\n        <div\r\n          className='SubmitButton'\r\n          onClick={handleSubmit}>\r\n          \r\n        </div>\r\n        <div className='clearFloat' />\r\n      </div>\r\n      {\r\n        ADVANCE_SEARCH_ITEMS && ADVANCE_SEARCH_ITEMS.map(({type, name, comp, defaultValue, formatter}, index) => (\r\n          <div\r\n            className='AdvanceSearchItem-Container'\r\n            key={index}>\r\n            <AdvanceSearchItem\r\n              type={type}\r\n              name={name}\r\n              Comp={comp}\r\n              defaultValue={defaultValue}\r\n              formatter={formatter} />\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const searchParams = (state.search || {}).searchParams || {};\r\n  return {\r\n    searchParams\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AdvancedSearch);\r\n","import React, {useRef, useState, useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport HeaderToolbar from '../header-toolbar';\r\nimport SearchBox from '../search-box';\r\nimport SearchFinItemList from './search-fin-item-list';\r\nimport BottomButtonGroup from '../bottom-button-group';\r\nimport AdvancedSearch from './advance-search';\r\n\r\nimport './index.scss';\r\n\r\nconst SearchFinItem = ({finItems = [], dispatch}) => {\r\n  const headerEl = useRef(null);\r\n  const [advancedSearchStatus, setAdvancedSearchStatus] = useState(false);\r\n  const searchBoxStyles = {\r\n    position: 'relative',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)'\r\n  };\r\n\r\n  useEffect(() => {\r\n  }, [headerEl])\r\n\r\n  const toolbarCloseHanlder = () => {\r\n    if (advancedSearchStatus) {\r\n      setAdvancedSearchStatus(false);\r\n    } else {\r\n      dispatch({\r\n        type: 'CHANGE_TO_FIN_HISTORY'\r\n      });\r\n    }\r\n  }\r\n\r\n  const openAdvancedSearchPanel = () => {\r\n    setAdvancedSearchStatus(true);\r\n  };\r\n\r\n  const submitHandler = () => {\r\n    setAdvancedSearchStatus(false);\r\n  }\r\n\r\n  return (\r\n    <div className='SearchFinItem' ref={headerEl}>\r\n      <HeaderToolbar\r\n        closeHandler={toolbarCloseHanlder}\r\n        hasSearch={false}\r\n        barTitle={advancedSearchStatus ? '' : ''}\r\n        >\r\n        {() => (\r\n          advancedSearchStatus ?\r\n          null\r\n          :\r\n          <SearchBox\r\n            customStyles={searchBoxStyles}\r\n            advancedSearchHanlder={openAdvancedSearchPanel} />\r\n        )}\r\n      </HeaderToolbar>\r\n      {\r\n        !advancedSearchStatus && finItems.length > 0 &&\r\n        <React.Fragment>\r\n          <SearchFinItemList\r\n            finItems={finItems} />\r\n          <BottomButtonGroup isExpanded={false} scrollIntoViewRef={headerEl} />\r\n        </React.Fragment>\r\n      }\r\n      {\r\n        !advancedSearchStatus && finItems.length === 0 &&\r\n        <div className='SearchFinItem--NoResults'>\r\n          \r\n        </div>\r\n      }\r\n      {\r\n        advancedSearchStatus &&\r\n        <div className='AdvancedSearch-Container'>\r\n          <AdvancedSearch submitHandler={submitHandler} />\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  let search = state.search || {};\r\n  return {\r\n    finItems: search.finItems || []\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(SearchFinItem);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n import './index.scss';\r\n const Loading = (props) => {\r\n  const style = {\r\n    width: props.width || '4em',\r\n    height: props.height || '4em'\r\n  };\r\n   return <div className='Loading' style={style}></div>;\r\n};\r\n Loading.propTypes = {\r\n  width: PropTypes.string,\r\n  height: PropTypes.string\r\n};\r\n export default Loading;","import React, {useEffect, useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport FinMain from './modules/fin-main';\r\nimport FinItemDetails from './modules/fin-item-details';\r\nimport FinCatSelection from './modules/fin-cat-subcat';\r\nimport FinItemList from './modules/fin-item-list';\r\nimport FinTemplateList from './modules/fin-template-list';\r\nimport AutoUpdateNumber from './modules/autoupdate-number';\r\nimport Notification from './modules/notification';\r\nimport SearchFinItem from './modules/search-fin-item';\r\nimport Loading from './modules/loading';\r\n\r\nimport './App.scss';\r\n\r\nconst DEFAULT_FIN_ITEMS = 15;\r\n\r\nconst App = ({pageIndex, notificationType, notificationMsg, selectedItem, isAppLoading, dispatch}) => {\r\n  let [monthTotal, setMonthTotal] = useState(0);\r\n  let [weekTotal, setWeekTotal] = useState(0);\r\n  let [dayTotal, setDayTotal] = useState(0);\r\n  let [finList, setFinList] = useState(new Array(5).fill({}));\r\n  let [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Set monthly total amount\r\n  useEffect(() => {\r\n    // If go to create / update fin item panel, do not fetch data.\r\n    if (selectedItem && (selectedItem.amount === 0 || selectedItem.id)) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    if (!selectedItem) {\r\n      let now = new Date();\r\n      Axios.get(`/api/wacai/getFinList?year=${now.getFullYear()}&month=${now.getMonth() + 1}&day=${now.getDate()}&dayOfWeek=${now.getDay()}&top=${DEFAULT_FIN_ITEMS}`)\r\n        .then(({data}) => {\r\n          setIsLoading(false);\r\n\r\n          let {monthTotal = 0, weekTotal = 0, dayTotal = 0} = data;\r\n          let finList = data.data || [];\r\n          setFinList(finList);\r\n          setMonthTotal(monthTotal);\r\n          setWeekTotal(weekTotal);\r\n          setDayTotal(dayTotal);\r\n\r\n          // Axios.post(`/api/graphql`, {\r\n          //   query: \"{hello}\"\r\n          // }).then(({data}) => {\r\n          //   console.log('graphql data: ', data);\r\n          //   setHelloMsg(data.data.hello);\r\n          // });\r\n        }, ({response}) => {\r\n          setIsLoading(false);\r\n\r\n          if (response.status === 401) {\r\n            dispatch({\r\n              type: 'TOKEN_INVALID'\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }, [selectedItem]);\r\n\r\n  const handleTotalAmountClick = () => {\r\n    dispatch({\r\n      type: 'CHANGE_TO_FIN_HISTORY'\r\n    });\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    Axios.post(`/api/user/logout`)\r\n      .then(() => {\r\n        setTimeout(() => {\r\n          window.location.reload(true);\r\n        }, 0);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {\r\n        notificationMsg &&\r\n        <div className='App-Page-Notification'>\r\n          <Notification\r\n            type={notificationType}\r\n            message={notificationMsg} />\r\n        </div>\r\n      }\r\n      {\r\n        isAppLoading &&\r\n        <div className='App-Page-Loading'>\r\n          <div className='LoadingContainer'>\r\n            <Loading />\r\n          </div>\r\n        </div>\r\n      }\r\n      {\r\n        pageIndex === 'SEARCH_FIN_ITEM' &&\r\n        <div className='App-Page-Fin-Search'>\r\n          <SearchFinItem />\r\n        </div>\r\n      }\r\n      {\r\n        pageIndex === 'CATEGORY_SELECTION' &&\r\n        <div className='App-Page-Cat-Selection'>\r\n          <FinCatSelection />\r\n        </div>\r\n      }\r\n      {\r\n        pageIndex === 'FIN_HISTORY' &&\r\n        <div className='App-Page-Fin-History'>\r\n          <FinItemList />\r\n        </div>\r\n      }\r\n      {\r\n        pageIndex === 'FIN_TEMPLATE_LIST' &&\r\n        <div className='App-Page-Fin-Template-List'>\r\n          <FinTemplateList />\r\n        </div>\r\n      }\r\n      {\r\n        pageIndex === 'MAIN' &&\r\n        <div className='App-Page-Main'>\r\n          <div\r\n            className='App-Logout'\r\n            onClick={handleLogout} />\r\n          <div className='App-Header'>\r\n            <div className='Header-MonthTotal'>\r\n              <div className='Caption'></div>\r\n              <div\r\n                className='Amount'\r\n                onClick={handleTotalAmountClick}>\r\n                <AutoUpdateNumber\r\n                  total={monthTotal}\r\n                  duration={100} />\r\n              </div>\r\n            </div>\r\n            <div className='Header-WeekDayTotal'>\r\n              <div className='Caption'></div>\r\n              <div className='Amount'>\r\n                <AutoUpdateNumber\r\n                  total={weekTotal}\r\n                  duration={100} />\r\n              </div>\r\n              <div className='Caption'></div>\r\n              <div className='Amount'>\r\n                <AutoUpdateNumber\r\n                  total={dayTotal}\r\n                  duration={100} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {\r\n            selectedItem ?\r\n              <div className='App-FinDetails'>\r\n                <FinItemDetails item={selectedItem} />\r\n              </div>\r\n              :\r\n              <div className='App-Main'>\r\n                <FinMain isLoading={isLoading} items={finList} />\r\n              </div>\r\n          }\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  selectedItem: state.fin ? state.fin.selectedItem : null,\r\n  pageIndex: state.fin ? state.fin.pageIndex : 'MAIN',\r\n  isAppLoading: state.fin && state.fin.isAppLoading,\r\n  notificationType: state.notification ? state.notification.notificationType : '',\r\n  notificationMsg: state.notification ? state.notification.notificationMsg : '',\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\n\r\nimport './index.scss';\r\n\r\nconst defaultFiles = new Array(4).fill(undefined);\r\n\r\nconst FileUploader = ({dispatch}) => {\r\n  const [username, setUsername] = useState('');\r\n  const [files, setFiles] = useState(defaultFiles);\r\n\r\n  const handleUserNameInput = (evt) => {\r\n    const value = evt.target.value;\r\n    setUsername(value);\r\n  }\r\n\r\n  const fileUploadRequest = (file) => {\r\n    const data = new FormData();\r\n    data.append('file', file);\r\n    return Axios.post('/api/file/imageUpload', data);\r\n  }\r\n\r\n  const handleFileUpload = (evt) => {\r\n    const file = evt.target.files[0];\r\n    const fileId = +evt.target.parentElement.getAttribute('data-fileid');\r\n    setFiles(files.map((item, index) => {\r\n      if (index === fileId) {\r\n        return file;\r\n      } else {\r\n        return item;\r\n      }\r\n    }));\r\n\r\n    fileUploadRequest(file).then((resp) => {\r\n      console.log(resp);\r\n    }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className='FileUploader'>\r\n      <div className='NameInput'>\r\n        <input type='input' placeholder='Please input your name...' value={username} onChange={handleUserNameInput} />\r\n      </div>\r\n      <div className='ImageUploader'>\r\n        <div className='ImageUploadSpace'>\r\n          {\r\n            files.map((file, idx) => (\r\n              <div className='ImageUploadFrame' key={idx} data-fileId={idx}>\r\n                <input className={`FileUpload__Input MyWacai-File-Uploader ${file ? 'FileUpload--Transparent' : ''}`} type='file' name='file' onChange={handleFileUpload} />\r\n                {\r\n                  file && <div className='FileUpload__Name'>\r\n                    <div>{file.name}</div>\r\n                  </div>\r\n                }\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n      <divclassName='ButtonGroup'>\r\n        <div className='SubmitButton Button'>Submit</div>\r\n        <div className='CancelButton Button'>Cancel</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect()(FileUploader);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { formatDateTime, getPreselectedCategories } from \"../utils/helper\";\r\n\r\nconst fin = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SELECT_ITEM\":\r\n      if (!action.item.date) {\r\n        action.item.date = formatDateTime();\r\n      }\r\n      return {\r\n        ...state,\r\n        pageIndex: \"MAIN\",\r\n        selectedItem: action.item,\r\n      };\r\n    case \"RESET_SELECTED_ITEM\":\r\n      return {\r\n        ...state,\r\n        selectedItem: null,\r\n        updatedCatGroup: {},\r\n      };\r\n    case \"CREATE_ITEM\":\r\n      let { category, subcategory } = getPreselectedCategories();\r\n      return {\r\n        ...state,\r\n        selectedItem: {\r\n          category,\r\n          subcategory,\r\n          date: formatDateTime(),\r\n          amount: 0,\r\n        },\r\n      };\r\n    case \"CHANGE_TO_CATEGORY_SELECTION\":\r\n      return {\r\n        ...state,\r\n        selectedItem: action.currentItem || {},\r\n        pageIndex: \"CATEGORY_SELECTION\",\r\n        selectedCatGroup: action.selectedCatGroup || {},\r\n      };\r\n    case \"CHANGE_TO_MAIN\":\r\n      return {\r\n        ...state,\r\n        pageIndex: \"MAIN\",\r\n        updatedCatGroup: action.updatedCatGroup || {},\r\n      };\r\n    case \"CATEGORY_SELECTION_DONE\":\r\n      // Handle category group selection done case\r\n      // Need to return to template page when there is no selected item.\r\n      let targetPage = \"\";\r\n      if (state.selectedItem) {\r\n        targetPage = \"MAIN\";\r\n      } else {\r\n        targetPage = \"FIN_TEMPLATE_LIST\";\r\n      }\r\n      return {\r\n        ...state,\r\n        pageIndex: targetPage,\r\n        selectedCatGroup: {},\r\n        updatedCatGroup: action.updatedCatGroup || {},\r\n      };\r\n    case \"CHANGE_TO_FIN_HISTORY\":\r\n      return {\r\n        ...state,\r\n        pageIndex: \"FIN_HISTORY\",\r\n      };\r\n    case \"RESET_UPDATED_CAT_GROUP\":\r\n      return {\r\n        ...state,\r\n        updatedCatGroup: {},\r\n      };\r\n    case \"CHANGE_TO_FIN_TEMPLATE_LIST\":\r\n      return {\r\n        ...state,\r\n        pageIndex: \"FIN_TEMPLATE_LIST\",\r\n        isCreatingTemplate: false,\r\n      };\r\n    case \"CREATE_TEMPLATE\":\r\n      return {\r\n        ...state,\r\n        isCreatingTemplate: true,\r\n      };\r\n    case \"OPEN_SEARCH_FIN_MODE\":\r\n      return {\r\n        ...state,\r\n        pageIndex: \"SEARCH_FIN_ITEM\",\r\n      };\r\n    case \"APP_LOADING\":\r\n      return {\r\n        ...state,\r\n        isAppLoading: true,\r\n      };\r\n    case \"APP_LOADED\":\r\n      return {\r\n        ...state,\r\n        isAppLoading: false,\r\n      };\r\n    case \"COMMENT_LOADED\":\r\n      return {\r\n        ...state,\r\n        comment: {\r\n          commentOptions: action.commentOptions,\r\n          detailsOptions: action.detailsOptions,\r\n          placeOptions: action.placeOptions,\r\n          commentFullInfoOptions: action.commentFullInfoOptions,\r\n        },\r\n      };\r\n    case \"TAG_LOADED\":\r\n      return {\r\n        ...state,\r\n        tag: action.tag,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default fin;\r\n","const notification = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'SET_MESSAGE':\r\n      return {\r\n        ...state,\r\n        notificationType: action.notificationType,\r\n        notificationMsg: action.message\r\n      }\r\n    case 'RESET_MESSAGE':\r\n      return {\r\n        ...state,\r\n        notificationType: '',\r\n        notificationMsg: ''\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notification;\r\n","const login = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loginStatus: true\r\n      }\r\n    case 'TOKEN_INVALID':\r\n      return {\r\n        ...state,\r\n        loginStatus: false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default login;\r\n","const search = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'SEARCH_FIN_RESULTS_LOADED':\r\n      return {\r\n        ...state,\r\n        finItems: action.finItems || []\r\n      }\r\n    case 'SET_ADVANCE_SEARCH_PARAM':\r\n      const curSearchParams = state.searchParams || {};\r\n      const {itemType, itemValue} = action\r\n      return {\r\n        ...state,\r\n        searchParams: Object.assign({}, {...curSearchParams, ...{[itemType]: itemValue}})\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","import {combineReducers} from 'redux';\r\nimport fin from './fin';\r\nimport notification from './notification';\r\nimport login from './login';\r\nimport search from './search';\r\n// import test from './test';\r\n\r\nconst reducers = combineReducers({\r\n  fin,\r\n  notification,\r\n  login,\r\n  search,\r\n  // test,\r\n});\r\n\r\nexport default reducers;\r\n","import React, {useState} from 'react';\r\nimport Axios from 'axios';\r\n\r\nimport './index.scss';\r\n\r\nconst Login = ({loginSuccessCallback}) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleUserNameChange = (evt) => {\r\n    setUsername(evt.target.value);\r\n  }\r\n\r\n  const handlePasswordChange = (evt) => {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  const validateInput = () => {\r\n    return username && password;\r\n  }\r\n\r\n  const handleLogin = () => {\r\n    const inputValid = validateInput();\r\n    if (!inputValid) {\r\n      return;\r\n    }\r\n\r\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\r\n\r\n    Axios.post(`${API_HOST}/api/user/login`, {data: {username, password}})\r\n      .then(() => {\r\n        loginSuccessCallback && loginSuccessCallback();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className='Login'>\r\n      <div className='LoginContainer'>\r\n        <div className='UsernameInput'>\r\n          <div className='Username-Image'>\r\n            <input\r\n              type='input'\r\n              placeholder=''\r\n              onChange={handleUserNameChange}\r\n              value={username} />\r\n          </div>\r\n        </div>\r\n        <div className='PasswordInput'>\r\n          <div className='Password-Image'>\r\n            <input\r\n              type='password'\r\n              placeholder=''\r\n              onChange={handlePasswordChange}\r\n              value={password} />\r\n          </div>\r\n        </div>\r\n        <div className='ButtonGroup'>\r\n          <div\r\n            className='SubmitButton'\r\n            onClick={handleLogin}>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Axios from 'axios';\r\n\r\nimport Login from './index';\r\n\r\nimport './login-provider.scss';\r\n\r\nconst LoginProvider = ({loginStatus, dispatch, children}) => {\r\n  const handleLoginSuccess = () => {\r\n    dispatch({\r\n      type: 'LOGIN_SUCCESS'\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\r\n    if (loginStatus === undefined) {\r\n      Axios.get(`${API_HOST}/api/user/validateToken`)\r\n        .then(() => {\r\n          handleLoginSuccess();\r\n        }, () => {\r\n          dispatch({\r\n            type: 'TOKEN_INVALID'\r\n          });\r\n        });\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    // Do not render login panel at first time\r\n    // Until token validation is complete\r\n    loginStatus === undefined ?\r\n    null\r\n    :\r\n    <div className='LoginProvider'>\r\n      {\r\n        loginStatus ?\r\n        children\r\n        :\r\n        <div className='App-Login'>\r\n          <Login\r\n            loginSuccessCallback={handleLoginSuccess} />\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const login = state.login || {};\r\n  return {\r\n    loginStatus: login.loginStatus\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(LoginProvider);\r\n","import React, { FC, useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\ninterface ICommentOption {\r\n  comment: string;\r\n  date: string;\r\n}\r\n\r\ninterface ICommentFullInfoOption {\r\n  comment: string;\r\n  category: string;\r\n  subcategory: string;\r\n  place: string;\r\n}\r\n\r\ninterface ICommentContext {\r\n  commentOptions: Array<ICommentOption>;\r\n  detailsOptions: Array<string>;\r\n  placeOptions: Array<string>;\r\n  commentFullInfoOptions: Array<ICommentFullInfoOption>;\r\n}\r\n\r\nconst CommentContext = React.createContext<ICommentContext>(null);\r\n\r\nconst useCommentContext = () => {\r\n  const context = React.useContext(CommentContext);\r\n  const dispatch = useDispatch();\r\n\r\n  if (!context) {\r\n    dispatch({\r\n      type: \"SET_MESSAGE\",\r\n      notificationType: \"error\",\r\n      message: \"\",\r\n    });\r\n  }\r\n\r\n  return context || {};\r\n};\r\n\r\nconst CommentProvider: FC<{}> = ({ children }) => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [commentOptions, setCommentOptions] =\r\n    useState<Array<ICommentOption>>(null);\r\n  const [detailsOptions, setDetailsOptions] = useState<Array<string>>();\r\n  const [placeOptions, setPlaceOptions] = useState<Array<string>>();\r\n  const [commentFullInfoOptions, setCommentFullInfoOptions] =\r\n    useState<Array<ICommentFullInfoOption>>();\r\n  const commentStoreValue = useSelector((state) => state.fin.comment || {});\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (commentStoreValue.commentOptions) {\r\n      return;\r\n    }\r\n\r\n    Axios.get(\"/api/wacai/getAllCommentWithOptions\").then(({ data }) => {\r\n      let commentsResponse = data.data.comments || [];\r\n      let detailsResponse = data.data.details || [];\r\n      let placeOptions = [],\r\n        detailsOptions = [];\r\n      commentsResponse.forEach((option) => {\r\n        placeOptions.push(option.comment);\r\n      });\r\n      detailsResponse.forEach((option) => {\r\n        detailsOptions.push(option.details);\r\n      });\r\n      setCommentOptions(commentsResponse);\r\n      setDetailsOptions(detailsOptions);\r\n      setPlaceOptions(placeOptions);\r\n      setCommentFullInfoOptions(data.data.options || []);\r\n      dispatch({\r\n        type: \"COMMENT_LOADED\",\r\n        commentOptions: commentsResponse,\r\n        detailsOptions,\r\n        placeOptions,\r\n        commentFullInfoOptions: data.data.options || [],\r\n      });\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return !isLoading ? (\r\n    <CommentContext.Provider\r\n      value={{\r\n        commentOptions,\r\n        placeOptions,\r\n        detailsOptions,\r\n        commentFullInfoOptions,\r\n      }}\r\n    >\r\n      {children}\r\n    </CommentContext.Provider>\r\n  ) : null;\r\n};\r\n\r\nexport { CommentProvider, useCommentContext };\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport Axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst TagContext = React.createContext<Array<string>>(null);\r\n\r\nconst useTagContext = () => {\r\n  const context = React.useContext(TagContext);\r\n  const dispatch = useDispatch();\r\n\r\n  if (!context) {\r\n    dispatch({\r\n      type: 'SET_MESSAGE',\r\n      notificationType: 'error',\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return context || {};\r\n};\r\n\r\nconst TagProvider: FC<{}> = ({children}) => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [tags, setTags] = useState<Array<string>>(null);\r\n  const tagStoreValue = useSelector(state => state.fin.tag || undefined);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (tagStoreValue) {\r\n      return;\r\n    }\r\n\r\n    Axios.get('/api/wacai/getAllTags')\r\n      .then(({data}) => {\r\n        let responseData = data.data || [];\r\n        setTags(responseData);\r\n        dispatch({\r\n          type: 'TAG_LOADED',\r\n          tag: responseData,\r\n        })\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    !isLoading ?\r\n      <TagContext.Provider value={tags}>{children}</TagContext.Provider>\r\n      :\r\n      null\r\n  );\r\n};\r\n\r\nexport {\r\n  TagProvider,\r\n  useTagContext,\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport FileUploader from './modules/file-uploader';\nimport {withRouter} from 'react-router';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\n// Start: Redux code\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport reducer from './reducers';\n\n// Provider\nimport LoginProvider from './modules/login/login-provider';\nimport {CommentProvider} from './context/CommentContext';\nimport {TagProvider} from './context/TagContext';\n\n// import './index.scss';\n\nconst initialState = {\n  fin: {\n    pageIndex: 'MAIN'\n  }\n};\n\nconst store = createStore(\n  reducer,\n  initialState, // preloadedState\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nconst InnerComp = ({location = {pathname: ''}}) => {\n  return (\n    <React.Fragment>\n      {\n        location.pathname.indexOf('fileUploader') > -1 ?\n          <FileUploader />\n          :\n          <App />\n      }\n    </React.Fragment>\n  )\n}\n\nconst InnerCompWithRouter = withRouter(InnerComp);\n\nconst Routers = () => {\n  return (\n    <React.Fragment>\n      <Route path='/fileUploader' component={FileUploader} key=\"FileUploader\"/>\n      <Route exact path={'' || '/'} component={App} key='App'/>\n    </React.Fragment>\n  )\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <LoginProvider>\n      <CommentProvider>\n        <TagProvider>\n          <Router>\n            {/* <InnerCompWithRouter /> */}\n            <Routers />\n          </Router>\n        </TagProvider>\n      </CommentProvider>\n    </LoginProvider>\n    {/* <Loading /> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}