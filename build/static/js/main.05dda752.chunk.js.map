{"version":3,"sources":["modules/loading-state/fin-list-item.js","modules/loading-state/day-expense.js","modules/fin-item/index.js","modules/fin-main/index.js","modules/fin-com-cat-item/index.js","modules/search-dropdown/index.js","modules/popup-buttons/index.js","modules/dropdown-list/index.js","modules/fin-item-details/config.js","utils/helper.js","modules/fin-item-details/index.js","modules/header-toolbar/index.js","modules/fin-cat-subcat/index.js","modules/fin-item-list/day-expense.js","modules/fin-item-list/month-expense.js","modules/fin-item-list/index.js","modules/fin-template-list/template-toolbar.js","modules/fin-template-list/fin-template-item.js","modules/fin-template-list/create-template.js","modules/fin-template-list/index.js","modules/autoupdate-number/index.js","modules/error-notification/index.js","modules/search-box/index.js","modules/search-fin-item/search-fin-item-list.js","modules/search-fin-item/advance-search-item.js","modules/search-fin-item/advance-search-option-panel.js","modules/search-fin-item/advance-search-config.js","modules/search-fin-item/advance-search.js","modules/search-fin-item/index.js","App.js","modules/file-uploader/index.js","serviceWorker.js","reducers/fin.js","reducers/errorMsg.js","reducers/login.js","reducers/search.js","reducers/index.js","modules/login/index.js","modules/login/login-provider.js","index.js"],"names":["FinListItem","react_default","a","createElement","className","DayExpense","Fragment","loading_state_fin_list_item","connect","_ref","item","isLoading","_ref$dayMode","dayMode","_ref$isLast","isLast","dispatch","category","subcategory","date","amount","comment","isScheduled","onClick","type","concat","substring","parseFloat","toFixed","items","map","index","key","modules_fin_item","FinComCatItem","_ref$onClickHandler","onClickHandler","SearchDropdown","_ref$optionList","optionList","options","_ref$placeholder","placeholder","onChangeCallback","_ref$defaultValue","defaultValue","_ref$searchOptions","searchOptions","_useState","useState","_useState2","Object","slicedToArray","value","setValue","_useState3","_useState4","validOptions","setValidOptions","_useState5","_useState6","isFocused","setIsFocused","useEffect","dropdownClickHandler","evt","classes","target","getAttribute","indexOf","document","addEventListener","removeEventListener","handleOptionSelection","curValue","innerText","onChange","newOptions","filter","option","toLowerCase","slice","length","PopupButtons","_ref$buttons","buttons","_ref$cancelHandler","cancelHandler","buttonItem","clickHandler","name","DropdownList","_ref$defaultSelectedV","defaultSelectedValue","_ref$items","_ref$customizeItemCli","customizeItemClickHandler","_ref$isDisabled","isDisabled","isOpen","setIsOpen","selectedValue","setSelectedValue","handleItemClick","comCatItems","padZero","day","formatDate","year","month","validDatePart","push","join","formatDateObject","dateObj","getFullYear","getMonth","getDate","formatDateTime","arguments","undefined","Date","hour","getHours","minute","getMinutes","second","getSeconds","uuid","s","i","substr","Math","floor","random","scheduleModeItems","state","updatedCatGroup","fin","_ref$item","objectSpread","latestItem","setLatestItem","commentOptions","setCommentOptions","deleteScheduledPopupStatus","setDeleteScheduledPopupStatus","_useState7","_useState8","updateScheduledPopupStatus","setUpdateScheduledPopupStatus","isUpdate","id","Axios","get","then","_ref2","responseData","data","forEach","handleCommonCatClick","assign","popupButtonsCancelHandler","deleteScheduledPopupButtons","delete","_ref5","response","status","now","scheduleId","_ref6","updateScheduledPopupButtons","post","scheduledId","DateTime_default","replace","newDate","newDateString","format","inputProps","disabled","modules_dropdown_list","newItem","newScheduleMode","selectedCatGroup","onFocus","onBlur","newAmount","Number","isNaN","comItem","modules_fin_com_cat_item","modules_search_dropdown","newValue","_ref4","isInvalid","_ref3","errorMsg","validateFinItem","message","requestUrl","modules_popup_buttons","closeHandler","_ref$hasSearch","hasSearch","_ref$barTitle","barTitle","searchHandler","children","_ref$selectedCatGroup","selectedCat","setSelectedCat","categoryGroups","setCategoryGroups","categoryGroupData","modules_header_toolbar","keys","cat","handleCatClick","isCommon","_ref$date","_ref$amount","getDay","weekdayMapping","_ref$month","_ref$year","_ref$barWidthRatio","barWidthRatio","_ref$dayItems","dayItems","expanded","setExpanded","dailyDetails","setDailyDetails","isDailyDetailsLoading","setIsDailyDetailsLoading","barWidth","setTimeout","style","width","loading_state_day_expense","dayItem","modules_fin_item_list_day_expense","historyExpense","setHistoryExpense","monthItem","fin_item_list_month_expense","highestMonthAmount","isCreatingTemplate","_ref$updatedCatGroup","template","setTemplate","templates","setTemplates","fin_template_list_template_toolbar","fin_template_list_create_template","fin_template_list_fin_template_item","AutoUpdateNumber","total","_ref$start","start","_ref$duration","duration","computeInitialNumber","currentVal","setCurrentVal","step","currentStep","interval","setInterval","clearInterval","_ref$errorTimeout","errorTimeout","addAnimation","setAddAnimation","_ref$customStyles","customStyles","_ref$advancedSearchHa","advancedSearchHanlder","searchString","setSearchString","finItems","SearchFinItemList","_ref$finItems","searchParams","search","Comp","_ref$formatter","formatter","isSelectionPanelOpen","setIsSelectionPanelOpen","react","currentValue","submitHandler","itemType","itemValue","setSelectionValue","SelectionPanelButtonGroup","_ref$enableSubmitButt","enableSubmitButton","_ref$enableCancelButt","enableCancelButton","_ref$submitHandler","CategorySelectionPanel","_ref3$currentValue","_ref3$submitHandler","_ref3$cancelHandler","setCategory","subCategory","setSubCategory","categoryGroup","setCategoryGroup","_useState9","_useState10","isSubCategoryDisabled","setIsSubCategoryDisabled","_useState11","_useState12","categories","setCategories","_useState13","_useState14","subCategories","setSubCategories","validCategories","unshift","categoryDataProcessor","defaultSubCategories","alternateSubCategories","toConsumableArray","advance_search_option_panel_SelectionPanelButtonGroup","ADVANCE_SEARCH_ITEMS","comp","_ref8","_ref8$currentValue","_ref8$submitHandler","_ref8$cancelHandler","_useState17","_useState18","selectedDateRange","setSelectedDateRange","_useState19","_useState20","isFreeDateRangeEnabled","setIsFreeDateRangeEnabled","_useState21","minDate","_useState22","customStartDate","setCustomStartDate","_useState23","_useState24","startDateStatus","setStartDateStatus","_useState25","maxDate","_useState26","customEndDate","setCustomEndDate","_useState27","_useState28","endDateStatus","setEndDateStatus","daysInMonth","getThisWeek","diff","dateRangeOptions","getLastSeason","getLastMonth","getLastWeek","input","newStartDate","newEndDate","dateRange","_ref6$currentValue","_ref6$submitHandler","_ref6$cancelHandler","_useState15","_useState16","amountRanges","setAmountRanges","minAmount","maxAmount","_ref7","tmpAmountRanges","onMinAmountChange","onMaxAmountChange","splice","amountRangeRemover","_ref2$currentValue","_ref2$submitHandler","_ref2$cancelHandler","keyword","setKeyword","params","Array","isArray","JSON","stringify","search_fin_item_advance_search_item","advancedSearchStatus","setAdvancedSearchStatus","searchBoxStyles","position","top","transform","openAdvancedSearchPanel","modules_search_box","search_fin_item_search_fin_item_list","search_fin_item_advance_search","selectedItem","pageIndex","monthTotal","setMonthTotal","fill","finList","setFinList","setIsLoading","modules_error_notification","modules_search_fin_item","modules_fin_cat_subcat","fin_item_list","modules_fin_template_list","autoupdate_number","modules_fin_item_details","modules_fin_main","defaultFiles","username","setUsername","files","setFiles","handleFileUpload","file","fileId","parentElement","FormData","append","fileUploadRequest","resp","console","log","err","idx","data-fileId","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","action","targetPage","login","loginStatus","curSearchParams","defineProperty","reducers","combineReducers","Login","loginSuccessCallback","password","setPassword","API_HOST","process","REACT_SERVER_API_HOST","handleLoginSuccess","src_modules_login","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","withRouter","_ref$location","pathname","modules_file_uploader","src_App_0","ReactDOM","render","es","login_login_provider","react_router_dom","react_router","exact","path","component","App","FileUploader","getElementById","URL","href","origin","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.05dda752.chunk.js","sourcesContent":["import React from 'react';\nimport './fin-list-item.scss';\n\nconst FinListItem = () => {\n  return (\n    <div className='FinListItem--LoadingState'>\n      <div className='FinListItem--Left'>\n        <div className='FinListItem__Cat'>\n          <div className='LoadingState' />\n        </div>\n        <div className='FinListItem__Date'>\n          <div className='LoadingState' />\n        </div>\n        <div className='FinListItem__Comment'>\n          <div className='LoadingState' />\n        </div>\n      </div>\n      <div className='FinListItem--Right'>\n        <div className='FinListItem--Amount'>\n          <div className='LoadingState' />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FinListItem;\n","import React from 'react';\nimport FinListItem from './fin-list-item';\n\nimport './day-expense.scss';\n\nconst DayExpense = () => {\n  return (\n    <React.Fragment>\n      <div className='DayExpense--Loading'>\n        <div className='DayInfo'>\n          <div className='LoadingState'></div>\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              <div className='LoadingState'></div>\n            </div>\n            <div className='DayExpenseAmount'>\n              <div className='LoadingState'></div>\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            <FinListItem />\n            <FinListItem />\n          </div>\n        </div>\n      </div>\n      <div className='DayExpense--Loading'>\n        <div className='DayInfo'>\n          <div className='LoadingState'></div>\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              <div className='LoadingState'></div>\n            </div>\n            <div className='DayExpenseAmount'>\n              <div className='LoadingState'></div>\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            <FinListItem />\n            <FinListItem />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default DayExpense;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {FinListItemLoadingState} from '../loading-state';\n\nimport './index.scss';\n\nconst FinItem = ({item, isLoading, dayMode = false, isLast = false, dispatch}) => {\n  const {category, subcategory, date, amount, comment, isScheduled} = item;\n\n  const selectItem = () => {\n    dispatch({\n      type: 'SELECT_ITEM',\n      item\n    });\n  };\n\n  return (\n    <div className='FinItemPanel forbid-select'\n      onClick={selectItem}>\n      <div className={`FinItem ${isLast ? '' : 'FinItem-Border'}`}>\n        {\n          isLoading ?\n            <FinListItemLoadingState />\n            :\n            <React.Fragment>\n              <div className='Fin-Left'>\n                <div className='Fin-SubCat'>{category} - {subcategory}</div>\n                <div className='Fin-Info Fin-Date'>\n                  <span>\n                    {dayMode ? date.substring(11) : date}\n                  </span>\n                </div>\n                <div className='Fin-Info Fin-Comment'>\n                  {\n                    isScheduled && <span className='Fin-IsScheduled'>周期</span>\n                  }\n                  <span>{comment}</span>\n                </div>\n              </div>\n              <div className='Fin-Right'>\n                <span className='Fin-Amount'>{parseFloat(amount).toFixed(2)}</span>\n              </div>\n            </React.Fragment>\n        }\n      </div>\n    </div>\n  );\n};\n\nFinItem.propTypes = {\n  item: PropTypes.object\n};\n\nexport default connect()(FinItem);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport FinItem from '../fin-item';\n\nimport './index.scss';\n\nconst FinMain = ({isLoading, items, dispatch}) => {\n  const handleCreateItem = () => {\n    dispatch({type: 'CREATE_ITEM'});\n  }\n  const handleCreateByTemplate = () => {\n    dispatch({type: 'CHANGE_TO_FIN_TEMPLATE_LIST'});\n  }\n  return (\n    <div className='FinMain'>\n      <div className='App-Toolbar'>\n        <div className='App-Toolbtn'>\n          <div\n            className={`App-Btn forbid-select App-CreateItem`}\n            onClick={handleCreateItem}>\n            记一笔\n          </div>\n          <div\n            className={`App-Btn forbid-select App-CreateFast`}\n            onClick={handleCreateByTemplate}>\n            速记\n          </div>\n        </div>\n      </div>\n      <div className='App-Container'>\n        <div className='App-FinList'>\n          {\n            items.map((item, index) => {\n              return (\n                <div key={index}>\n                  {\n                    <FinItem isLoading={isLoading} item={item} />\n                  }\n                </div>\n              );\n            })\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(FinMain);\n","import React from 'react';\n\nimport './index.scss';\n\nconst FinComCatItem = ({category, subcategory, onClickHandler = () => void 0}) => {\n  return (\n    <div\n      className='FinComCatItem'\n      onClick={() => onClickHandler(category, subcategory)}>\n      <span className='SubCat-Name'>{subcategory}</span>\n    </div>\n  );\n};\n\nexport default FinComCatItem;\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {options} from './mockOptions.json';\n\nimport './index.scss';\n\nconst SearchDropdown = ({optionList = options, placeholder = '', onChangeCallback, defaultValue = '', searchOptions = 5}) => {\n  const [value, setValue] = useState(defaultValue);\n  const [validOptions, setValidOptions] = useState([]);\n  const [isFocused, setIsFocused] = useState(false);\n\n  useEffect(() => {\n    const dropdownClickHandler = (evt) => {\n      const classes = evt.target.getAttribute('class') || '';\n      if (classes.indexOf('InputField') < 0 && classes.indexOf('OptionContainer') < 0) {\n        setIsFocused(false);\n        setValidOptions([]);\n      }\n    }\n    document.addEventListener('click', dropdownClickHandler);\n\n    return () => {\n      document.removeEventListener('click', dropdownClickHandler);\n    }\n  }, []);\n\n  const handleInputChange = (evt) => {\n    const curValue = evt.target.value;\n    const newOptions = optionList.filter((option) => option.toLowerCase().indexOf(curValue.toLowerCase()) > -1);\n    setIsFocused(true);\n    setValue(curValue);\n    setValidOptions(curValue ? newOptions.slice(0, searchOptions) : []);\n    onChangeCallback && onChangeCallback(curValue);\n  }\n\n  const handleOptionSelection = (evt) => {\n    const curValue = evt.target.innerText;\n    setValue(curValue);\n    setValidOptions([]);\n    onChangeCallback && onChangeCallback(curValue);\n  }\n\n  return (\n    <div className='SearchDropdown'>\n      <div className={`Dropdown-Input ${isFocused ? 'SearchDropdown-Focused': ''}`}>\n        <div className='Dropdown-SearchImage'>\n          <input\n            className='InputField'\n            placeholder={placeholder}\n            type='input'\n            onChange={handleInputChange}\n            value={value} />\n          </div>\n      </div>\n      <div className={`OptionList ${isFocused ? 'SearchDropdown-Focused': ''}`}>\n        {\n          validOptions && validOptions.length > 0 && validOptions.map((option, index) => (\n            <div\n              key={index}\n              className='OptionContainer'\n              onClick={handleOptionSelection}>\n              <div className='Option'>\n                {option}\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nSearchDropdown.propTypes = {\n  optionList: PropTypes.array,\n  placeholder: PropTypes.string,\n  onChangeCallback: PropTypes.func,\n  defaultValue: PropTypes.string,\n  searchOptions: PropTypes.number,\n};\n\nexport default SearchDropdown;\n","import React, { useState } from 'react';\n\nimport './index.scss';\n\nconst PopupButtons = ({buttons = [], cancelHandler = () => void 0}) => {\n\n  const defaultCancelHandler = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='PopupButtons'>\n      <div className='PopupButtons--CustomItems'>\n        {\n          buttons.map((buttonItem, index) => (\n            <div\n              key={index}\n              className='PopupButton--Item'\n              onClick={buttonItem.clickHandler}>\n              <span className='PopupButton--ItemTitle'>{buttonItem.name}</span>\n            </div>\n          ))\n        }\n      </div>\n      <div\n        key={buttons.length}\n        className='PopupButtons--CancelItem'\n        onClick={defaultCancelHandler}>\n        <span className='PopupButton--ItemTitle'>取消</span>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupButtons;\n","import React, { useState, useEffect } from 'react';\n\nimport './index.scss';\n\nconst DropdownList = ({defaultSelectedValue = '', items = [], customizeItemClickHandler = () => void 0, isDisabled = false}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedValue, setSelectedValue] = useState(defaultSelectedValue);\n\n  const toggleClickDropdownHeader = () => {\n    setIsOpen(!isOpen && !isDisabled);\n  }\n\n  const handleItemClick = (item) => {\n    setIsOpen(false);\n    setSelectedValue(item.value);\n    customizeItemClickHandler(item);\n  }\n\n  useEffect(() => {\n    const dropdownClickHandler = (evt) => {\n      const classes = evt.target.getAttribute('class') || '';\n      if (classes.indexOf('DropdownList-Element') < 0) {\n        setIsOpen(false);\n      }\n    }\n    document.addEventListener('click', dropdownClickHandler);\n\n    return () => {\n      document.removeEventListener('click', dropdownClickHandler);\n    }\n  }, []);\n\n  return (\n    <div className={`DropdownList DropdownList-Element ${isOpen ? 'DropdownList--Open' : ''} ${isDisabled ? 'DropdownList--disabled' : ''}`}>\n      <div\n        className={`DropdownHeader DropdownList-Element ${isOpen ? 'DropdownHeader--Open' : ''}`}\n        onClick={toggleClickDropdownHeader}>\n        {selectedValue}\n      </div>\n      {\n        isOpen &&\n        <div className='DropdownPanel DropdownList-Element'>\n          {\n            items.map((item) => (\n              <div\n                className='DropdownList__Item DropdownList-Element'\n                key={item.key}\n                onClick={() => handleItemClick(item)}>\n                {item.value}\n              </div>\n            ))\n          }\n        </div>\n      }\n\n    </div>\n  );\n}\n\nexport default DropdownList;\n","export const comCatItems = [{\n  category: '交通',\n  subcategory: '打车'\n}, {\n  category: '生活',\n  subcategory: '水电煤气'\n}, {\n  category: '骐骐',\n  subcategory: '玩具'\n}, {\n  category: '生活',\n  subcategory: '生活用品'\n}, {\n  category: '周末',\n  subcategory: '晚餐'\n}, {\n  category: '周末',\n  subcategory: '午餐'\n}];","const padZero = (day) => {\n  if (day < 10) {\n    return `0${day}`;\n  } else {\n    return `${day}`;\n  }\n};\n\nconst formatDate = (year, month, day) => {\n  let validDatePart = [];\n  year && validDatePart.push(year);\n  month && validDatePart.push(padZero(month));\n  day && validDatePart.push(padZero(day));\n  return validDatePart.join('-');\n}\n\nconst formatDateObject = (dateObj) => {\n  let validDatePart = [];\n  validDatePart.push(dateObj.getFullYear());\n  validDatePart.push(padZero(dateObj.getMonth()));\n  validDatePart.push(padZero(dateObj.getDate()));\n  return validDatePart.join('-');\n}\n\nconst formatDateTime = (date = new Date()) => {\n  let year = date.getFullYear();\n  let month = date.getMonth();\n  let day = date.getDate();\n  let hour = date.getHours();\n  let minute = date.getMinutes();\n  let second = date.getSeconds();\n\n  return `${year}-${padZero(month + 1)}-${padZero(day)} ${padZero(hour)}:${padZero(minute)}:${padZero(second)}`;\n};\n\nconst formatMonth = (date = new Date()) => {\n  let year = date.getFullYear();\n  let month = date.getMonth();\n\n  return `${year}-${padZero(month + 1)}`;\n};\n\nconst uuid = () => {\n  let s = [];\n  let hexDigits = \"0123456789ABCDEF\";\n  for (let i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n  s[8] = s[13] = s[18] = s[23] = \"-\";\n\n  let uuid = s.join(\"\");\n  return uuid;\n}\n\nexport {\n  padZero,\n  formatDateTime,\n  formatMonth,\n  uuid,\n  formatDate,\n  formatDateObject\n};","import React, {useState, useEffect} from 'react';\nimport FinComCatItem from '../fin-com-cat-item';\nimport SearchDropdown from '../search-dropdown';\nimport PopupButtons from '../popup-buttons';\nimport DateTime from 'react-datetime';\nimport DropdownList from '../dropdown-list';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport {comCatItems} from './config';\nimport {uuid} from '../../utils/helper';\n\nimport './index.scss';\n\nconst scheduleModeItems = [{\n  key: 0,\n  value: '非周期入账'\n}, {\n  key: 1,\n  value: '每天入账'\n}, {\n  key: 2,\n  value: '每周入账'\n}, {\n  key: 3,\n  value: '每月入账'\n}, {\n  key: 4,\n  value: '每年入账'\n}];\n\nconst FinItemDetails = ({item = {}, updatedCatGroup, dispatch}) => {\n  const [latestItem, setLatestItem] = useState({...item, ...updatedCatGroup});\n  const [commentOptions, setCommentOptions] = useState([]);\n  const [deleteScheduledPopupStatus, setDeleteScheduledPopupStatus] = useState(false);\n  const [updateScheduledPopupStatus, setUpdateScheduledPopupStatus] = useState(false);\n  const isUpdate = !!item.id;\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getAllComment')\n      .then(({data}) => {\n        let responseData = data.data || [];\n        let options = [];\n        responseData.forEach((option) => {\n          options.push(option.comment);\n        });\n        setCommentOptions(options);\n      })\n\n    dispatch({\n      type: 'RESET_UPDATED_CAT_GROUP'\n    });\n  }, []);\n\n  const handleBackBtn = () => {\n    dispatch({\n      type: 'RESET_SELECTED_ITEM',\n    });\n  }\n\n  const handleCommonCatClick = (category, subcategory) => {\n    setLatestItem(Object.assign({}, latestItem, {category, subcategory}));\n  }\n\n  const handleCommentChange = (newValue) => {\n    setLatestItem(Object.assign({}, latestItem, {comment: newValue}));\n  }\n\n  const handleDateTimeChange = (newDate) => {\n    let newDateString = newDate.format('YYYY-MM-DD hh:mm:ss');\n    setLatestItem(Object.assign({}, latestItem, {date: newDateString}));\n  }\n\n  const handleScheduleModeChange = (newItem) => {\n    let newScheduleMode = newItem.key;\n    setLatestItem(Object.assign({}, latestItem, {isScheduled: newScheduleMode}));\n  }\n\n  const handleCatSelection = () => {\n    dispatch({\n      type: 'CHANGE_TO_CATEGORY_SELECTION',\n      selectedCatGroup: {\n        category: latestItem.category,\n        subcategory: latestItem.subcategory\n      }\n    });\n  }\n\n  const handleAmountFocus = (evt) => {\n    if (latestItem.amount) {\n      evt.target.value = latestItem.amount;\n    } else {\n      evt.target.value = '';\n    }\n  }\n\n  const handleAmountChange = (evt) => {\n    let newAmount = parseFloat(evt.target.value);\n    if (Number.isNaN(newAmount)) {\n      newAmount = 0;\n    }\n    setLatestItem(Object.assign({}, latestItem, {amount: newAmount}));\n  }\n\n  const handleAmountBlur = (evt) => {\n    evt.target.value = parseFloat(latestItem.amount).toFixed(2);\n  }\n\n  const validateFinItem = ({category, subcategory, comment, amount}) => {\n    if (!category || !subcategory) {\n      return {\n        errorMsg: '请选择类别！'\n      }\n    } else if (!amount) {\n      return {\n        errorMsg: '请输入有效金额！'\n      }\n    }\n\n    return null;\n  }\n\n  const handleSaveButton = () => {\n    let isInvalid = validateFinItem(latestItem);\n    if (isInvalid) {\n      dispatch({\n        type: 'SET_ERROR_MESSAGE',\n        message: isInvalid.errorMsg\n      });\n      return;\n    }\n\n    let requestUrl = '', data = {};\n    if (latestItem.id) {\n      if (latestItem.isScheduled > 0) {\n        setUpdateScheduledPopupStatus(true);\n      } else {\n        requestUrl = '/api/wacai/updateFinItem';\n        data = {...latestItem};\n      }\n    } else {\n      if (latestItem.isScheduled > 0) {\n        requestUrl = '/api/wacai/createScheduledFinItem';\n        data = {...latestItem};\n      } else {\n        requestUrl = '/api/wacai/createFinItem';\n        data = {...latestItem, id: uuid()};\n      }\n    }\n\n    Axios.post(requestUrl, {data})\n      .then(() => {\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      });\n  }\n\n  const updateSingleScheduledItem = () => {\n    setUpdateScheduledPopupStatus(false);\n    const requestUrl = '/api/wacai/updateFinItem';\n    const data = {...latestItem};\n    Axios.post(requestUrl, {data})\n      .then(() => {\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      });\n  }\n\n  const updateSeriesScheduledItems = () => {\n    setUpdateScheduledPopupStatus(false);\n    const requestUrl = '/api/wacai/updateScheduledFinItem';\n    const data = {...latestItem};\n    const options = {};\n    const now = new Date();\n    options.scheduledId = data.scheduledId;\n    options.year = now.getFullYear();\n    options.month = now.getMonth();\n    options.day = now.getDate();\n    Axios.post(requestUrl, {data, options})\n      .then(() => {\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      });\n  }\n\n  const handleDeleteButton = () => {\n    if (latestItem.isScheduled > 0) {\n      setDeleteScheduledPopupStatus(true);\n    } else {\n      Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`)\n        .then(() => {\n          dispatch({\n            type: 'RESET_SELECTED_ITEM'\n          });\n        }, ({response}) => {\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  }\n\n  const popupButtonsCancelHandler = () => {\n    setDeleteScheduledPopupStatus(false);\n    setUpdateScheduledPopupStatus(false);\n  }\n\n  const deleteSingleScheduledItem = () => {\n    setDeleteScheduledPopupStatus(false);\n    Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`)\n      .then(() => {\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }\n\n  const deleteSeriesScheduledItems = () => {\n    setDeleteScheduledPopupStatus(false);\n    const now = new Date();\n    Axios.delete(`/api/wacai/deleteScheduledFinItem?scheduleId=${latestItem.scheduleId}&year=${now.getFullYear()}&month=${now.getMonth()}&day=${now.getDate()}`)\n      .then(() => {\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }\n\n  const deleteScheduledPopupButtons = [{\n    name: '只删除这一笔',\n    clickHandler: deleteSingleScheduledItem\n  }, {\n    name: '删除这一笔以及以后所有',\n    clickHandler: deleteSeriesScheduledItems\n  }];\n\n  const updateScheduledPopupButtons = [{\n    name: '只更新这一笔',\n    clickHandler: updateSingleScheduledItem\n  }, {\n    name: '更新这一笔以及以后所有',\n    clickHandler: updateSeriesScheduledItems\n  }]\n\n  /*\n    Format change from '2019-04-20 19:20:00' to '2019/04/20 19:20:00'\n    Required on mobile browser difference\n    latestItem.date.replace(/-/g, '/')\n  */\n  return (\n    <div className='FinItemDetails'>\n      <div className='Fin-Nav'>\n        <div className='Fin-Nav-Out'>支出</div>\n        <div className='Fin-Nav-Arrow' />\n      </div>\n      <div className='Fin-Date Fin-WhiteBack'>\n        <DateTime\n          value={new Date(latestItem.date.replace(/-/g, '/'))}\n          defaultValue={new Date()}\n          onChange={handleDateTimeChange}\n          inputProps={{disabled: isUpdate && latestItem.isScheduled > 0}} />\n      </div>\n      <div className='Fin-Schedule Fin-WhiteBack'>\n        <DropdownList\n          isDisabled={isUpdate}\n          defaultSelectedValue={scheduleModeItems[latestItem.isScheduled || 0].value}\n          items={scheduleModeItems}\n          customizeItemClickHandler={handleScheduleModeChange} />\n      </div>\n      <div className='Fin-Header Fin-WhiteBack'>\n        <div\n          className='Fin-SubCat'\n          onClick={handleCatSelection}>\n          <div className='Category'>\n            {latestItem.category}\n          </div>\n          <div className='SubCategory'>\n            {latestItem.subcategory}\n          </div>\n        </div>\n        <div className='Fin-Amount'>\n          <input\n            type='number'\n            onFocus={handleAmountFocus}\n            onBlur={handleAmountBlur}\n            onChange={handleAmountChange}\n            defaultValue={parseFloat(latestItem.amount).toFixed(2) || 0} />\n        </div>\n      </div>\n      <div className='Fin-ComCats Fin-WhiteBack'>\n        <div className='Fin-ComCat-Container'>\n          {\n            comCatItems.map((comItem, index) => (\n              <div\n                className='Fin-ComCat'\n                key={index}>\n                <FinComCatItem\n                  category={comItem.category}\n                  subcategory={comItem.subcategory}\n                  onClickHandler={handleCommonCatClick} />\n              </div>\n            ))\n          }\n        </div>\n      </div>\n      <div className='Fin-Comment Fin-WhiteBack'>\n        <SearchDropdown\n          optionList={commentOptions}\n          placeholder='备注'\n          onChangeCallback={handleCommentChange}\n          defaultValue={latestItem.comment} />\n      </div>\n      <div className='Fin-Toolbar Fin-WhiteBack'>\n        <div className='Fin-Btns'>\n          <div\n            className='Fin-Btn Fin-BackBtn'\n            onClick={handleBackBtn}>\n            返回\n          </div>\n          {\n            latestItem.id &&\n            <div\n              className='Fin-Btn Fin-DeleteBtn'\n              onClick={handleDeleteButton}>\n              删除\n            </div>\n          }\n          <div\n            className='Fin-Btn Fin-SaveBtn'\n            onClick={handleSaveButton}>\n            保存\n          </div>\n        </div>\n      </div>\n      {\n        deleteScheduledPopupStatus &&\n        <div className=\"PopupButtons--Container\">\n          <PopupButtons\n            buttons={deleteScheduledPopupButtons}\n            cancelHandler={popupButtonsCancelHandler} />\n        </div>\n      }\n      {\n        updateScheduledPopupStatus &&\n        <div className=\"PopupButtons--Container\">\n          <PopupButtons\n            buttons={updateScheduledPopupButtons}\n            cancelHandler={popupButtonsCancelHandler} />\n        </div>\n      }\n    </div>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  let updatedCatGroup = fin.updatedCatGroup || {};\n  return {\n    updatedCatGroup\n  }\n};\n\nexport default connect(mapStateToProps)(FinItemDetails);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport './index.scss';\n\nconst HeaderToolbar = ({closeHandler, hasSearch = true, barTitle = '', searchHandler, children, dispatch}) => {\n  const handleClose = () => {\n    if (closeHandler) {\n      closeHandler();\n    } else {\n      dispatch({\n        type: 'CHANGE_TO_MAIN'\n      });\n    }\n  }\n\n  const handleSearch = () => {\n    if (searchHandler) {\n      searchHandler();\n    } else {\n      dispatch({\n        type: 'OPEN_SEARCH_FIN_MODE'\n      });\n    }\n  }\n\n  return (\n    <div className='HeaderToolbar'>\n      <div className='HeaderToolbar-Container'>\n        <div\n          className='CloseBtn'\n          onClick={handleClose} />\n        {\n          barTitle &&\n          <div\n            className='BarInfo'>\n            {barTitle}\n          </div>\n        }\n        {\n          !barTitle && children && typeof children === 'function' &&\n          <div\n            className='BarContent'>\n            {children()}\n          </div>\n        }\n        {\n          !barTitle && !children &&\n          <div className='BarHeader' />\n        }\n        {\n          hasSearch &&\n          <div\n            className='ToolBtns'>\n            <div\n              className='SearchBtn'\n              onClick={handleSearch} />\n          </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(HeaderToolbar);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport HeaderToolbar from '../header-toolbar';\n\nimport './index.scss';\n\nconst FinCatSubCat = ({selectedCatGroup = {}, dispatch}) => {\n  const [selectedCat, setSelectedCat] = useState(selectedCatGroup.category || '');\n  const [categoryGroups, setCategoryGroups] = useState({});\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getCategoryGroup')\n      .then(({data}) => {\n        let categoryGroupData = data.data || {};\n        setCategoryGroups(categoryGroupData);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, [])\n\n  const handleCatClick = (cat) => {\n    setSelectedCat(cat);\n  }\n\n  const handleSubCatSelected = (subcat) => {\n    dispatch({\n      type: 'CATEGORY_SELECTION_DONE',\n      updatedCatGroup: {\n        category: selectedCat,\n        subcategory: subcat\n      }\n    });\n  }\n\n  return (\n    <div className='FinCatSubCat'>\n      <HeaderToolbar\n        barTitle='支出类别'\n        hasSearch={false} />\n      <div className='FinCatSubCat-Container'>\n        <div className='Cats'>\n          {\n            Object.keys(categoryGroups).map((cat, index) => (\n              <div\n                className='CatItem'\n                key={index}\n                onClick={() => handleCatClick(cat)}>\n                <div\n                  className={`CatItem-Border ${selectedCat === cat ? 'CatItem-Border-Selected' : ''}`}>\n                  {cat}\n                </div>\n              </div>\n            ))\n          }\n        </div>\n        <div className='SubCats'>\n          {\n            selectedCat && categoryGroups[selectedCat] && categoryGroups[selectedCat].map(({subcategory, isCommon}, index) => (\n              <div\n                className='SubCatItem'\n                onClick={() => handleSubCatSelected(subcategory)}\n                key={index}>\n                <div className={`${index !== categoryGroups[selectedCat].length - 1 ? 'SubCat-Border' : ''}`}>\n                  <div className='SubCat-Text'>\n                    {subcategory}\n                  </div>\n                </div>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin;\n  let selectedCatGroup = fin.selectedCatGroup || {};\n  return {\n    selectedCatGroup\n  };\n};\n\nexport default connect(mapStateToProps)(FinCatSubCat);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FinItem from '../fin-item';\n\nimport './day-expense.scss';\n\nconst weekdayMapping = (date = '2019-04-22') => {\n  const dateObj = new Date(date);\n  const day = dateObj.getDay();\n  const mapping = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n  return mapping[day];\n};\n\nconst DayExpense = ({date = '2019-04-22', amount = 1203, items = []}) => {\n  const day = date.substring(date.length - 2);\n  return (\n    <div className='DayExpense'>\n      <div className='DayExpense-Container'>\n        <div className='DayInfo'>\n          {day}\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              {weekdayMapping(date)}\n            </div>\n            <div className='DayExpenseAmount'>\n              支：{parseFloat(amount).toFixed(2)}\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            {items.map((item, index) => (\n              <div key={item.id}>\n                <FinItem\n                  dayMode={true}\n                  isLast={index === items.length - 1}\n                  item={item} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nDayExpense.propTypes = {\n  date: PropTypes.string,\n  amount: PropTypes.number,\n  items: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default DayExpense;\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport DayExpense from './day-expense';\nimport {DayExpenseLoadingState} from '../loading-state';\n\nimport './month-expense.scss';\n\n// Base width for the highest monthly expense\n// In Pixel\n// const BAR_WIDTH_BASE_PIXEL = 200;\n// In percentage\nconst BAR_WIDTH_BASE_PERC = 1;\nconst API_LOADING_DELAY = 1500;\n\nconst MonthExpense = ({month = '04', year = '2019', amount = 11086.00, barWidthRatio = 1, dayItems = [], dispatch}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [dailyDetails, setDailyDetails] = useState(dayItems);\n  const [isDailyDetailsLoading, setIsDailyDetailsLoading] = useState(false);\n\n  const handleExpansion = () => {\n    if (!expanded) {\n      setExpanded(!expanded);\n      if (dailyDetails.length <= 0) {\n        setIsDailyDetailsLoading(true);\n        Axios.get(`/api/wacai/getFinItemsByMonth?month=${month}&year=${year}`)\n          .then(({data}) => {\n            let responseData = data.data || [];\n            setDailyDetails(responseData);\n\n            setTimeout(() => {\n              setIsDailyDetailsLoading(false);\n            }, API_LOADING_DELAY);\n          }, ({response}) => {\n            if (response.status === 401) {\n              dispatch({\n                type: 'TOKEN_INVALID'\n              });\n            }\n          });\n      }\n    } else {\n      setExpanded(!expanded);\n    }\n  }\n\n  // Dynamically compute bar width\n  const barWidth = barWidthRatio * BAR_WIDTH_BASE_PERC * 100 + '%';\n\n  return (\n    <div className='MonthExpense'>\n      <div\n        className={`MonthExpense-Container ${expanded ? '' : 'MonthExpenseBorder'}`}\n        onClick={handleExpansion}>\n        <div className='MonthTitle'>\n          <div className='Month'>{month}</div>\n          <div className='Year'>{year}</div>\n        </div>\n        <div className='MonthExpense'>\n          <div className='ExpenseTitle'>\n            支出：{parseFloat(amount).toFixed(2)}\n          </div>\n          <div className='ExpenseAmount'>\n            <div\n              className='AmountBar'\n              // style={{width: barWidth + 'px'}}\n              style={{width: barWidth}} />\n          </div>\n        </div>\n        <div className={`MonthExpense-Dropdown ${expanded ? 'MonthExpense-Expanded' : ''}`} />\n      </div>\n      {\n        expanded && (!isDailyDetailsLoading ? dailyDetails.map((dayItem, index) => (\n          <div\n            key={index}>\n            <DayExpense\n              date={dayItem.date}\n              amount={dayItem.amount}\n              items={dayItem.items} />\n          </div>\n        )) : (\n          <DayExpenseLoadingState />\n        ))\n      }\n    </div>\n  );\n};\n\nMonthExpense.propTypes = {\n  month: PropTypes.string,\n  year: PropTypes.string,\n  amount: PropTypes.number,\n  barWidthRatio: PropTypes.number,\n  expansionCallback: PropTypes.func,\n};\n\nexport default connect()(MonthExpense);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport MonthExpense from './month-expense';\nimport HeaderToolbar from '../header-toolbar';\n\nimport historyExpense from './mockData.json';\n\nconst FinItemList = ({dispatch}) => {\n  const [historyExpense, setHistoryExpense] = useState({});\n\n  useEffect(() => {\n    let now = new Date();\n    Axios.get(`/api/wacai/getHistoryExpense?year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\n      .then(({data}) => {\n        let responseData = data.data || {};\n        setHistoryExpense(responseData);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, []);\n\n  return (\n    <div className='FinItemList'>\n      <HeaderToolbar />\n      {\n        historyExpense.items && historyExpense.items.map((monthItem, index) => (\n          <div key={index}>\n            <MonthExpense\n              month={monthItem.month}\n              year={monthItem.year}\n              amount={monthItem.amount}\n              barWidthRatio={monthItem.amount / historyExpense.highestMonthAmount} />\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n\nexport default connect()(FinItemList);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport './template-toolbar.scss';\n\nconst TemplateToolbar = ({dispatch}) => {\n  const createTemplateHandler = () => {\n    dispatch({\n      type: 'CREATE_TEMPLATE'\n    });\n  };\n\n  return (\n    <div className='TemplateToolbar'>\n      <div className='ToolbarContainer'>\n        <div className='ToolbarInfo'>记账模板</div>\n        <div className='ToolbarBtns'>\n          <div\n            className='CreateBtn'\n            onClick={createTemplateHandler}>\n            添加模板\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(TemplateToolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport './fin-template-item.scss';\n\nconst FinTemplateItem = ({item = {}, isLast = false, dispatch}) => {\n  const {comment, category, subcategory} = item;\n\n  const handleItemClick = () => {\n    dispatch({\n      type: 'SELECT_ITEM',\n      item: {\n        comment,\n        category,\n        subcategory,\n        amount: 0\n      }\n    });\n  };\n\n  return (\n    <div className='FinTemplateItem'>\n      <div\n        className={`ItemContainer ${isLast ? '' : 'ItemBorder'}`}\n        onClick={handleItemClick}>\n        <div className='Categories'>\n          <div className='Category'>{category}</div>\n          <div className='SubCategory'>{subcategory}</div>\n        </div>\n        <div className='Comment'>{comment}</div>\n      </div>\n    </div>\n  )\n};\n\nFinTemplateItem.propTypes = {\n  item: PropTypes.object,\n  isLast: PropTypes.bool\n};\n\nexport default connect()(FinTemplateItem);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './create-template.scss';\n\nconst CreateTemplate = ({updatedCatGroup = {}, isCreatingTemplate, dispatch}) => {\n  const [template, setTemplate] = useState(updatedCatGroup);\n\n  useEffect(() => {\n    dispatch({\n      type: 'RESET_UPDATED_CAT_GROUP'\n    });\n  }, []);\n\n  const handleBackBtn = () => {\n    dispatch({\n      type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\n    });\n  };\n\n  const handleSaveButton = () => {\n    if (template.category && template.subcategory && template.comment) {\n      Axios.post('/api/wacai/createFinTemplate', {data: template})\n        .then(() => {\n          dispatch({\n            type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\n          });\n        }, ({response}) => {\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  };\n\n  const handleCatSelection = () => {\n    dispatch({\n      type: 'CHANGE_TO_CATEGORY_SELECTION',\n      selectedCatGroup: {\n        category: template.category,\n        subcategory: template.subcategory\n      }\n    });\n  };\n\n  const handleCommentChange = (evt) => {\n    setTemplate(Object.assign({}, template, {comment: evt.target.value}));\n  };\n\n  return (\n    <div className='CreateTemplate'>\n      <div className='CreatePanel'>\n        <div\n          className='Fin-SubCat'\n          onClick={handleCatSelection}>\n          {template.category} - {template.subcategory}\n        </div>\n        <div className='Fin-Comment'>\n          <input className='CommentInput' placeholder='备注' type='input' onChange={handleCommentChange} value={template.comment} />\n        </div>\n        <div className='Fin-Toolbar'>\n          <div className='Fin-Btns'>\n            <div\n              className='Fin-Btn Fin-BackBtn'\n              onClick={handleBackBtn}>\n              返回\n            </div>\n            <div\n              className='Fin-Btn Fin-SaveBtn'\n              onClick={handleSaveButton}>\n              保存\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  return {\n    updatedCatGroup: fin.updatedCatGroup || {},\n    isCreatingTemplate: fin.isCreatingTemplate\n  };\n};\n\nexport default connect(mapStateToProps)(CreateTemplate);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport HeaderToolbar from '../header-toolbar';\nimport TemplateToolbar from './template-toolbar';\nimport FinTemplateItem from './fin-template-item';\nimport CreateTemplate from './create-template';\n\n// import mockTemplates from './mockData.json';\n\nimport './index.scss';\n\nconst FinTemplateList = ({isCreatingTemplate, dispatch}) => {\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getFinTemplates')\n      .then(({data}) => {\n        let templates = data.data || [];\n        setTemplates(templates);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      })\n  }, [isCreatingTemplate]);\n\n  return (\n    <div className='FinTemplateList'>\n      <HeaderToolbar\n        barTitle={isCreatingTemplate ? '创建模板' : ''}\n        hasSearch={false} />\n      <TemplateToolbar />\n      {\n        isCreatingTemplate ?\n        <CreateTemplate />\n        :\n        <div className='Templates'>\n          {\n            templates.map((item, index) => (\n              <div\n                key={index}\n                className='Template'>\n                <FinTemplateItem\n                  item={item}\n                  isLast={index === templates.length - 1} />\n              </div>\n            ))\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  return {\n    isCreatingTemplate: fin.isCreatingTemplate\n  };\n};\n\nexport default connect(mapStateToProps)(FinTemplateList);\n","import React, {useState, useEffect} from 'react';\n\n// Compute initial number\nconst computeInitialNumber = (total) => {\n  if (total < 1000) {\n    return 0;\n  } else if (total < 5000) {\n    return 1000;\n  } else if (total < 10000) {\n    return 5000;\n  } else if (total < 15000) {\n    return 10000;\n  } else if (total < 20000) {\n    return 15000;\n  } else {\n    return 20000;\n  }\n}\n\nconst AutoUpdateNumber = ({total, start = 0, duration = 200}) => {\n  const [currentVal, setCurrentVal] = useState(start || computeInitialNumber(total));\n  const diff = total - currentVal;\n  const step = diff / duration;\n  // use global variable to store value of each step\n  // state change is async, and cannot be rendered immediately\n  let currentStep = currentVal;\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      currentStep = currentStep + step;\n      if (currentStep >= total) {\n        currentStep = total;\n        clearInterval(interval);\n      }\n      setCurrentVal(currentStep);\n    }, 1);\n  }, [total]);\n\n  return (\n    <div className='AutoUpdateNumber'>\n      {parseFloat(currentVal).toFixed(2)}\n    </div>\n  )\n};\n\nexport default AutoUpdateNumber;\n","import React, { useEffect, useState } from 'react';\nimport {connect} from 'react-redux';\n\nimport './index.scss';\n\nconst ErrorNotification = ({errorMsg, errorTimeout = 1000, dispatch}) => {\n  const [addAnimation, setAddAnimation] = useState(true);\n  useEffect(() => {\n    setAddAnimation(false);\n    setTimeout(() => {\n      setAddAnimation(true);\n      setTimeout(() => {\n        dispatch({\n          type: 'RESET_ERROR_MESSAGE'\n        });\n      }, 1000);\n    }, errorTimeout);\n  }, []);\n  return (\n    <div className={`ErrorNotification ${addAnimation ? 'fadeOutAnimation' : ''}`}>\n      <div className='ErrorMessage-Container'>\n        <div className='ErrorMessage'>\n          {errorMsg}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(ErrorNotification);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst SearchBox = ({customStyles = {}, advancedSearchHanlder = void 0, dispatch}) => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleSearchInputChange = (evt) => {\n    setSearchString(evt.target.value);\n  }\n\n  const handleSearch = () => {\n    if (!searchString) {\n      return;\n    }\n\n    Axios.get(`/api/wacai/searchFinItems?searchString=${searchString}`)\n      .then(({data}) => {\n        let finItems = data.data || [];\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems});\n      });\n  }\n\n  const handleAdvancedSearch = () => {\n    advancedSearchHanlder && advancedSearchHanlder();\n  };\n\n  return (\n    <div\n      className='SearchBox'\n      style={customStyles}>\n      <div className='SearchBox-Container'>\n        <div className='AdvanceSearch'>\n          <div\n            className='AdvanceSearch-Text'\n            onClick={handleAdvancedSearch}>\n            高级搜索\n          </div>\n        </div>\n        <div className='SimpleSearch'>\n          <input\n            placeholder='请输入关键词'\n            onChange={handleSearchInputChange}\n            value={searchString} />\n        </div>\n      </div>\n      <div className='Btns'>\n        <div\n          className='SearchBtn'\n          onClick={handleSearch}>\n          确定\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(SearchBox);\n","import React from 'react';\nimport FinItem from '../fin-item';\n\nimport './search-fin-item-list.scss'\n\nconst SearchFinItemList = ({finItems = []}) => {\n  let total = 0;\n  if (finItems.length > 0) {\n    finItems.forEach((item) => {\n      total = total + item.amount;\n    });\n  }\n\n  return (\n    <div className='SearchFinItemList'>\n      <div className='SearchResultContainer'>\n        <div className='SearchResult-Summary'>\n          <div className='SummaryItem SummaryAmount'>\n            ￥ {parseFloat(total).toFixed(2)}\n          </div>\n          <div className='SummaryItem SummaryCaption'>\n            支出\n          </div>\n        </div>\n      </div>\n      <div className='ListContainer'>\n        {\n          finItems.map((item, index) => (\n            <div\n              className='ListItemContainer'\n              key={index}>\n              <FinItem\n                item={item} />\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default SearchFinItemList;\n","import React, {useState, Fragment} from 'react';\nimport {connect} from 'react-redux';\n\nimport './advance-search-item.scss';\n\nconst AdvanceSearchItem = ({type, name, Comp, defaultValue, formatter = (value) => value, searchParams, dispatch}) => {\n  const [isSelectionPanelOpen, setIsSelectionPanelOpen] = useState(false);\n\n  const setSelectionValue = (value) => {\n    dispatch({\n      type: 'SET_ADVANCE_SEARCH_PARAM',\n      itemType: type,\n      itemValue: value\n    });\n  }\n\n  const toggleSelectionDetailPanel = () => {\n    setIsSelectionPanelOpen(!isSelectionPanelOpen);\n  }\n\n  const formatValue = (value) => {\n    return formatter ? formatter(value) : value;\n  }\n\n  const submitHandler = (value) => {\n    setSelectionValue(value);\n    setIsSelectionPanelOpen(false);\n  }\n\n  const cancelHandler = () => {\n    setIsSelectionPanelOpen(false);\n  }\n\n  return (\n    <Fragment>\n      <div className={`AdvanceSearchItem ${isSelectionPanelOpen && Comp ? 'AdvanceSearchItem-NoBottomBorder' : ''}`}>\n        <div className='ItemName'>\n          <span>{name}</span>\n        </div>\n        <div className='ItemOption'>\n          <div\n            className='ItemOption-Container'\n            onClick={toggleSelectionDetailPanel}>\n            <div className='ItemSelectedValue'>{searchParams[type] ? formatValue(searchParams[type]) : defaultValue}</div>\n            <div className='ItemSelectionButton'>></div>\n          </div>\n        </div>\n      </div>\n      {\n        isSelectionPanelOpen && Comp && <Comp currentValue={searchParams[type]} submitHandler={submitHandler} cancelHandler={cancelHandler} />\n      }\n    </Fragment>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  const searchParams = (state.search || {}).searchParams || {};\n  return {\n    searchParams\n  };\n};\n\nexport default connect(mapStateToProps)(AdvanceSearchItem);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport DropdownList from '../dropdown-list';\nimport {formatDate, formatDateObject} from '../../utils/helper';\nimport DateTime from 'react-datetime';\n\nimport './advance-search-option-panel.scss';\n\nexport const SelectionPanelButtonGroup = ({enableSubmitButton = true, enableCancelButton = true, submitHandler = void 0, cancelHandler = void 0}) => {\n  return (\n    <div className='Selection__ButtonGroups'>\n      {\n        enableSubmitButton &&\n        <div className='SubmitButton' onClick={submitHandler}>\n          确认\n        </div>\n      }\n      {\n        enableCancelButton &&\n        <div className='CancelButton' onClick={cancelHandler}>\n          取消\n        </div>\n      }\n    </div>\n  );\n};\n\nexport const KeywordsSelectionPanel = ({currentValue = '', submitHandler = void 0, cancelHandler = void 0}) => {\n  const [keyword, setKeyword] = useState(currentValue);\n  const onChangeHandler = (evt) => {\n    setKeyword(evt.target.value);\n  }\n  const submitHandlerFn = () => {\n    submitHandler(keyword);\n  }\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n  return (\n    <div className='KeywordsSelectionPanel'>\n      <div className='InputContainer'>\n        <input onChange={onChangeHandler} placeholder='请输入关键字' value={keyword} />\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  );\n};\n\nconst CategorySelectionPanelComp = ({currentValue = {}, submitHandler = void 0, cancelHandler = void 0, dispatch}) => {\n  const [category, setCategory] = useState(currentValue.category || '全部');\n  const [subCategory, setSubCategory] = useState(currentValue.subcategory || '全部');\n  const [categoryGroup, setCategoryGroup] = useState({});\n  const [isSubCategoryDisabled, setIsSubCategoryDisabled] = useState((currentValue.category || '全部') === '全部');\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n\n  const categoryDataProcessor = (data) => {\n    let validCategories = Object.keys(data);\n    validCategories = validCategories.map((item, index) => {\n      return {\n        key: index + 1,\n        value: item\n      };\n    });\n\n    validCategories.unshift({\n      key: 0,\n      value: '全部'\n    });\n\n    return validCategories;\n  }\n\n  const categorySelectionHandler = (item) => {\n    setCategory(item.value);\n    const defaultSubCategories = [{\n      key: 0,\n      value: '全部'\n    }];\n    if (item.value === '全部') {\n      setSubCategories(defaultSubCategories);\n      setIsSubCategoryDisabled(false);\n    } else {\n      let alternateSubCategories = categoryGroup[item.value];\n      alternateSubCategories = alternateSubCategories.map((item, index) => {\n        return {\n          key: index + 1,\n          value: item.subcategory\n        };\n      });\n      setSubCategories([...defaultSubCategories, ...alternateSubCategories]);\n      setIsSubCategoryDisabled(false);\n    }\n  }\n\n  const subCategorySelectionHandler = (item) => {\n    setSubCategory(item.value);\n  }\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getCategoryGroup')\n      .then(({data}) => {\n        let categoryGroupData = data.data || {};\n        setCategoryGroup(categoryGroupData);\n        const categories = categoryDataProcessor(categoryGroupData);\n        setCategories(categories);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, []);\n\n  const submitHandlerFn = () => {\n    submitHandler({\n      category: category,\n      subcategory: subCategory\n    });\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='CategorySelectionPanel'>\n      <div className='CategorySelectionContainer'>\n        <div className='CategoryTitle'>类别</div>\n        <div className='CategorySelection'>\n          <DropdownList\n            defaultSelectedValue={category}\n            items={categories}\n            customizeItemClickHandler={categorySelectionHandler} />\n        </div>\n      </div>\n      <div className='SubCategorySelectionContainer'>\n        <div className='SubCategoryTitle'>子类</div>\n        <div className='SubCategorySelection'>\n          <DropdownList\n            defaultSelectedValue={subCategory}\n            isDisabled={isSubCategoryDisabled}\n            items={subCategories}\n            customizeItemClickHandler={subCategorySelectionHandler} />\n        </div>\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n};\n\nexport const CategorySelectionPanel = connect()(CategorySelectionPanelComp);\n\nconst AmountRangeSelectionPanelComp = ({currentValue = [], submitHandler = () => void 0, cancelHandler = () => void 0, dispatch}) => {\n  const [amountRanges, setAmountRanges] = useState(currentValue);\n\n  const amountRangeAdder = () => {\n    setAmountRanges([...amountRanges, {minAmount: 0, maxAmount: 0}]);\n  }\n\n  const amountRangeRemover = (index) => {\n    const tmpAmountRanges = [...amountRanges];\n    tmpAmountRanges.splice(index, 1);\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const onMinAmountChange = (evt, index) => {\n    const tmpAmountRanges = [...amountRanges];\n    const value = evt.target.value;\n    tmpAmountRanges[index].minAmount = value;\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const onMaxAmountChange = (evt, index) => {\n    const tmpAmountRanges = [...amountRanges];\n    const value = evt.target.value;\n    tmpAmountRanges[index].maxAmount = value;\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const submitHandlerFn = () => {\n    for (const item in amountRanges) {\n      if (amountRanges[item].minAmount > amountRanges[item].maxAmount && amountRanges[item].maxAmount != 0) {\n        dispatch({\n          type: 'SET_ERROR_MESSAGE',\n          message: '金额区间设置有误'\n        });\n\n        return;\n      }\n    }\n\n    submitHandler(amountRanges);\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='AmountRangeSelectionPanel'>\n      <div\n        className='AmountRangeAdder'\n        onClick={amountRangeAdder}>+</div>\n      <div className='AmountRangeContainer'>\n        {\n          amountRanges.map(({minAmount, maxAmount}, index) => (\n            <div className='AmountRangeItem' key={index}>\n              <div className='AmountRangeMain'>\n                <input className='AmountRangeItem--Min' onChange={(evt) => onMinAmountChange(evt, index)} value={minAmount} />\n                <div className='AmountRangeItem--Sep'> - </div>\n                <input className='AmountRangeItem--Max' onChange={(evt) => onMaxAmountChange(evt, index)} value={maxAmount} />\n              </div>\n              <div className='AmountRangeRemover' onClick={() => {amountRangeRemover(index)}}>-</div>\n            </div>\n          ))\n        }\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  );\n};\n\nexport const AmountRangeSelectionPanel = connect()(AmountRangeSelectionPanelComp);\n\nexport const DateRangeSelectionPanel = ({currentValue = {}, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\n  const [selectedDateRange, setSelectedDateRange] = useState(currentValue);\n  const [isFreeDateRangeEnabled, setIsFreeDateRangeEnabled] = useState(currentValue.key === 9);\n  const [customStartDate, setCustomStartDate] = useState(currentValue.key === 9 ? new Date(currentValue.minDate) : new Date());\n  const [startDateStatus, setStartDateStatus] = useState(false);\n  const [customEndDate, setCustomEndDate] = useState(currentValue.key === 9 ? new Date(currentValue.maxDate) : new Date());\n  const [endDateStatus, setEndDateStatus] = useState(false);\n\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = now.getMonth() + 1;\n  const date = now.getDate();\n  const day = now.getDay();\n\n  const getLastSeason = (year, month) => {\n    if (month < 3) {\n      return {\n        minDate: formatDate(year - 1, 9),\n        maxDate: formatDate(year - 1, 12)\n      };\n    } else {\n      return {\n        minDate: formatDate(year, month - (month % 3) - 3),\n        maxDate: formatDate(year, month + (3 - month % 3) - 3)\n      };\n    }\n  }\n\n  const daysInMonth = (year, month) => { // m is 0 indexed: 0-11\n    switch (month) {\n        case 2 :\n            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;\n        case 9 : case 4 : case 6 : case 11 :\n            return 30;\n        default :\n            return 31\n    }\n  }\n\n  const getLastMonth = (year, month) => {\n    if (month === 1) {\n      return {\n        minDate: formatDate(year - 1, 12, 1),\n        maxDate: formatDate(year - 1, 12, 31)\n      }\n    } else {\n      return {\n        minDate: formatDate(year, month - 1, 1),\n        maxDate: formatDate(year, month - 1, daysInMonth(year, month - 1))\n      }\n    }\n  }\n\n  const getThisWeek = (year, month, date, day) => {\n    if (date < day) {\n      const diff = day - date;\n      return {\n        minDate: formatDate(year, month - 1, daysInMonth(year, month - 1) - (diff - 1)),\n        maxDate: formatDate(year, month, date + (7 - day))\n      };\n    } else {\n      return {\n        minDate: formatDate(year, month, date - (day - 1)),\n        maxDate: formatDate(year, month, date + (7 - day))\n      };\n    }\n  }\n\n  const getLastWeek = (year, month, date, day) => {\n    if ((date - 7) <= 0) {\n      return {\n        ...getThisWeek(year, month - 1, daysInMonth(year, month - 1) - (7 - date), day)\n      };\n    } else {\n      return {\n        ...getThisWeek(year, month, date - 7, day)\n      };\n    }\n  }\n\n  const dateRangeOptions = [{\n    key: 0,\n    value: '全部'\n  }, {\n    key: 1,\n    value: '本年',\n    minDate: year,\n    maxDate: year + 1\n  }, {\n    key: 2,\n    value: '去年',\n    minDate: year - 1,\n    maxDate: year\n  }, {\n    key: 3,\n    value: '本季',\n    minDate: formatDate(year, month - (month % 3)),\n    maxDate: formatDate(year, month + (3 - month % 3))\n  }, {\n    key: 4,\n    value: '上季',\n    ...getLastSeason(year, month)\n  }, {\n    key: 5,\n    value: '本月',\n    minDate: formatDate(year, month, 1),\n    maxDate: formatDate(year, month, daysInMonth(year, month))\n  }, {\n    key: 6,\n    value: '上月',\n    ...getLastMonth(year, month)\n  }, {\n    key: 7,\n    value: '本周',\n    ...getThisWeek(year, month, date, day)\n  }, {\n    key: 8,\n    value: '上周',\n    ...getLastWeek(year, month, date, day)\n  }, {\n    key: 9,\n    value: '自定义'\n  }];\n\n  const dateRangeSelectedHandler = (item) => {\n    if (item.key < 9) {\n      setIsFreeDateRangeEnabled(false);\n    } else {\n      setIsFreeDateRangeEnabled(true);\n    }\n    setSelectedDateRange(dateRangeOptions[item.key]);\n  }\n\n  const handleStartDateChange = (newStartDate) => {\n    let newDateString = newStartDate.format('YYYY-MM-DD');\n    setCustomStartDate(new Date(newDateString));\n    setStartDateStatus(!startDateStatus);\n  }\n\n  const handleEndDateChange = (newEndDate) => {\n    let newDateString = newEndDate.format('YYYY-MM-DD');\n    setCustomEndDate(new Date(newDateString));\n    setEndDateStatus(!endDateStatus);\n  }\n\n  const toggleStartDateSelection = () => {\n    setStartDateStatus(!startDateStatus);\n  }\n\n  const toggleEndDateSelection = () => {\n    setEndDateStatus(!endDateStatus);\n  }\n\n  const submitHandlerFn = () => {\n    if (selectedDateRange.key === 9) {\n      submitHandler({\n        ...selectedDateRange,\n        minDate: customStartDate,\n        maxDate: customEndDate\n      });\n    } else {\n      submitHandler(selectedDateRange);\n    }\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='DateRangeSelectionPanel'>\n      <div className='DateRangeDropdownList'>\n        <DropdownList\n          items={dateRangeOptions}\n          defaultSelectedValue={selectedDateRange.value || '全部'}\n          customizeItemClickHandler={dateRangeSelectedHandler} />\n      </div>\n      {\n        isFreeDateRangeEnabled &&\n        <div className='DateRangeSelection--Custom'>\n          <div className='DateRangeSelection DateRangeSelection--CustomStart'>\n            <div className='StartDateContainer' onClick={toggleStartDateSelection}>\n              <div className='Title'>起始时间</div>\n              <div className='Value'>{formatDateObject(customStartDate)}</div>\n            </div>\n            {\n              startDateStatus &&\n              <DateTime\n                input={false}\n                value={customStartDate}\n                defaultValue={customStartDate}\n                onChange={handleStartDateChange}\n                className='DateTimeStyles' />\n            }\n          </div>\n          <div className='DateRangeSelection DateRangeSelection--CustomEnd'>\n            <div className='EndDateContainer' onClick={toggleEndDateSelection}>\n              <div className='Title'>终止时间</div>\n              <div className='Value'>{formatDateObject(customEndDate)}</div>\n            </div>\n            {\n              endDateStatus &&\n              <DateTime\n                input={false}\n                value={customEndDate}\n                defaultValue={customEndDate}\n                onChange={handleEndDateChange}\n                className='DateTimeStyles' />\n            }\n          </div>\n        </div>\n      }\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n}","import {KeywordsSelectionPanel, CategorySelectionPanel, AmountRangeSelectionPanel, DateRangeSelectionPanel} from './advance-search-option-panel';\nimport {formatDateObject} from '../../utils/helper';\n\nexport const ADVANCE_SEARCH_ITEMS = [{\n  type: 'dateRange',\n  name: '日期',\n  defaultValue: '全部',\n  comp: DateRangeSelectionPanel,\n  formatter: (dateRange) => {\n    if (dateRange.minDate && dateRange.maxDate) {\n      let minDate = typeof dateRange.minDate === 'object' ? formatDateObject(dateRange.minDate) : dateRange.minDate;\n      let maxDate = typeof dateRange.maxDate === 'object' ? formatDateObject(dateRange.maxDate) : dateRange.maxDate;\n      return `${minDate} - ${maxDate}`;\n    } else {\n      return '全部';\n    }\n  }\n}, {\n  type: 'amountRanges',\n  name: '金额',\n  defaultValue: '',\n  comp: AmountRangeSelectionPanel,\n  formatter: (amountRanges) => {\n    let validAmountRanges = amountRanges.map(({minAmount, maxAmount}) => {\n      if (+maxAmount === 0) {\n        return `>= ${minAmount}`;\n      } else {\n        return `${minAmount} - ${maxAmount}`;\n      }\n    });\n    return validAmountRanges.join(', ');\n  }\n}, {\n  type: 'category',\n  name: '类别',\n  defaultValue: '全部',\n  comp: CategorySelectionPanel,\n  formatter: ({category, subcategory}) => {\n    return `${category} - ${subcategory}`;\n  }\n}, {\n  type: 'keyword',\n  name: '关键字',\n  defaultValue: '',\n  comp: KeywordsSelectionPanel,\n  formatter: (value) => {\n    return value;\n  }\n}];\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport AdvanceSearchItem from './advance-search-item';\nimport {ADVANCE_SEARCH_ITEMS} from './advance-search-config';\nimport Axios from 'axios';\n\nimport './advance-search.scss';\n\nconst AdvancedSearch = ({searchParams, dispatch, submitHandler = void 0}) => {\n  const handleSubmit = () => {\n    let params = [];\n    Object.keys(searchParams).map((key) => {\n      if (Array.isArray(searchParams[key])) {\n        // Amount Range Handler\n        params.push(`${key}=${JSON.stringify(searchParams[key])}`);\n      } else if (typeof searchParams[key] === 'object') {\n        if (key === 'dateRange') {\n          params.push(`${key}=${JSON.stringify(searchParams[key])}`);\n        } else if (key === 'category') {\n          for (const item in searchParams[key]) {\n            params.push(`${item}=${searchParams[key][item]}`);\n          }\n        }\n      } else {\n        params.push(`${key}=${searchParams[key]}`);\n      }\n    });\n    Axios.get(`/api/wacai/deepSearchFinItems?${params.join('&')}`)\n      .then(({data}) => {\n        submitHandler();\n        let finItems = data.data || [];\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems});\n      });\n  }\n  return (\n    <div className='AdvancedSearch'>\n      <div className='AdvancedSearch-Toolbar'>\n        <div\n          className='SubmitButton'\n          onClick={handleSubmit}>\n          确认\n        </div>\n        <div className='clearFloat' />\n      </div>\n      {\n        ADVANCE_SEARCH_ITEMS && ADVANCE_SEARCH_ITEMS.map(({type, name, comp, defaultValue, formatter}, index) => (\n          <div\n            className='AdvanceSearchItem-Container'\n            key={index}>\n            <AdvanceSearchItem\n              type={type}\n              name={name}\n              Comp={comp}\n              defaultValue={defaultValue}\n              formatter={formatter} />\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const searchParams = (state.search || {}).searchParams || {};\n  return {\n    searchParams\n  }\n}\n\nexport default connect(mapStateToProps)(AdvancedSearch);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport HeaderToolbar from '../header-toolbar';\nimport SearchBox from '../search-box';\nimport SearchFinItemList from './search-fin-item-list';\nimport AdvancedSearch from './advance-search';\n\nimport './index.scss';\n\nconst SearchFinItem = ({finItems = [], dispatch}) => {\n  const [advancedSearchStatus, setAdvancedSearchStatus] = useState(false);\n  const searchBoxStyles = {\n    position: 'relative',\n    top: '50%',\n    transform: 'translateY(-50%)'\n  };\n\n  const toolbarCloseHanlder = () => {\n    if (advancedSearchStatus) {\n      setAdvancedSearchStatus(false);\n    } else {\n      dispatch({\n        type: 'CHANGE_TO_FIN_HISTORY'\n      });\n    }\n  }\n\n  const openAdvancedSearchPanel = () => {\n    setAdvancedSearchStatus(true);\n  };\n\n  const submitHandler = () => {\n    setAdvancedSearchStatus(false);\n  }\n\n  return (\n    <div className='SearchFinItem'>\n      <HeaderToolbar\n        closeHandler={toolbarCloseHanlder}\n        hasSearch={false}\n        barTitle={advancedSearchStatus ? '高级搜索' : ''}\n        >\n        {() => (\n          advancedSearchStatus ?\n          null\n          :\n          <SearchBox\n            customStyles={searchBoxStyles}\n            advancedSearchHanlder={openAdvancedSearchPanel} />\n        )}\n      </HeaderToolbar>\n      {\n        !advancedSearchStatus && finItems.length > 0 &&\n        <SearchFinItemList\n          finItems={finItems} />\n      }\n      {\n        advancedSearchStatus &&\n        <div className='AdvancedSearch-Container'>\n          <AdvancedSearch submitHandler={submitHandler} />\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let search = state.search || {};\n  return {\n    finItems: search.finItems || []\n  };\n};\n\nexport default connect(mapStateToProps)(SearchFinItem);\n","import React, {useEffect, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport FinMain from './modules/fin-main';\nimport FinItemDetails from './modules/fin-item-details';\nimport FinCatSelection from './modules/fin-cat-subcat';\nimport FinItemList from './modules/fin-item-list';\nimport FinTemplateList from './modules/fin-template-list';\nimport AutoUpdateNumber from './modules/autoupdate-number';\nimport ErrorNotification from './modules/error-notification';\nimport SearchFinItem from './modules/search-fin-item';\nimport {formatMonth} from './utils/helper';\n\nimport './App.scss';\n\nconst API_LOADING_DELAY = 500;\n\nconst App = ({pageIndex, errorMsg, selectedItem, dispatch}) => {\n  let [monthTotal, setMonthTotal] = useState(0);\n  let [finList, setFinList] = useState(new Array(5).fill({}));\n  let [isLoading, setIsLoading] = useState(true);\n\n  // Set monthly total amount\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (!selectedItem) {\n      let now = new Date();\n      Axios.get(`/api/wacai/getFinList?year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\n        .then(({data}) => {\n          setTimeout(() => {\n            setIsLoading(false);\n\n            let total = data.total || 0;\n            let finList = data.data || [];\n            setFinList(finList);\n            setMonthTotal(total);\n          }, API_LOADING_DELAY);\n        }, ({response}) => {\n          setIsLoading(false);\n\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  }, [selectedItem]);\n\n  const handleTotalAmountClick = () => {\n    dispatch({\n      type: 'CHANGE_TO_FIN_HISTORY'\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      {\n        errorMsg &&\n        <div className='App-Page-Error-Notification'>\n          <ErrorNotification\n            errorMsg={errorMsg} />\n        </div>\n      }\n      {\n        pageIndex === 'SEARCH_FIN_ITEM' &&\n        <div className='App-Page-Fin-Search'>\n          <SearchFinItem />\n        </div>\n      }\n      {\n        pageIndex === 'CATEGORY_SELECTION' &&\n        <div className='App-Page-Cat-Selection'>\n          <FinCatSelection />\n        </div>\n      }\n      {\n        pageIndex === 'FIN_HISTORY' &&\n        <div className='App-Page-Fin-History'>\n          <FinItemList />\n        </div>\n      }\n      {\n        pageIndex === 'FIN_TEMPLATE_LIST' &&\n        <div className='App-Page-Fin-Template-List'>\n          <FinTemplateList />\n        </div>\n      }\n      {\n        pageIndex === 'MAIN' &&\n        <div className='App-Page-Main'>\n          <div className='App-Header'>\n            <div className='Header-MonthTotal'>\n              <div className='Caption'>本月总计</div>\n              <div\n                className='Amount'\n                onClick={handleTotalAmountClick}>\n                {/* {parseFloat(monthTotal).toFixed(2)} */}\n                <AutoUpdateNumber\n                  total={monthTotal}\n                  duration={100} />\n              </div>\n            </div>\n          </div>\n          {\n            selectedItem ?\n            <div className='App-FinDetails'>\n              <FinItemDetails item={selectedItem} />\n            </div>\n            :\n            <div className='App-Main'>\n              <FinMain isLoading={isLoading} items={finList} />\n            </div>\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  selectedItem: state.fin ? state.fin.selectedItem : null,\n  pageIndex: state.fin ? state.fin.pageIndex : 'MAIN',\n  errorMsg: state.errorMsg ? state.errorMsg.message : '',\n});\n\nexport default connect(mapStateToProps)(App);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst defaultFiles = new Array(4).fill(undefined);\n\nconst FileUploader = ({dispatch}) => {\n  const [username, setUsername] = useState('');\n  const [files, setFiles] = useState(defaultFiles);\n\n  const handleUserNameInput = (evt) => {\n    const value = evt.target.value;\n    setUsername(value);\n  }\n\n  const fileUploadRequest = (file) => {\n    const data = new FormData();\n    data.append('file', file);\n    return Axios.post('/api/file/imageUpload', data);\n  }\n\n  const handleFileUpload = (evt) => {\n    const file = evt.target.files[0];\n    const fileId = +evt.target.parentElement.getAttribute('data-fileid');\n    setFiles(files.map((item, index) => {\n      if (index === fileId) {\n        return file;\n      } else {\n        return item;\n      }\n    }));\n\n    fileUploadRequest(file).then((resp) => {\n      console.log(resp);\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  return (\n    <div className='FileUploader'>\n      <div className='NameInput'>\n        <input type='input' placeholder='Please input your name...' value={username} onChange={handleUserNameInput} />\n      </div>\n      <div className='ImageUploader'>\n        <div className='ImageUploadSpace'>\n          {\n            files.map((file, idx) => (\n              <div className='ImageUploadFrame' key={idx} data-fileId={idx}>\n                <input className={`FileUpload__Input MyWacai-File-Uploader ${file ? 'FileUpload--Transparent' : ''}`} type='file' name='file' onChange={handleFileUpload} />\n                {\n                  file && <div className='FileUpload__Name'>\n                    <div>{file.name}</div>\n                  </div>\n                }\n              </div>\n            ))\n          }\n        </div>\n      </div>\n      <div className='ButtonGroup'>\n        <div className='SubmitButton Button'>Submit</div>\n        <div className='CancelButton Button'>Cancel</div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect()(FileUploader);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {formatDateTime} from '../utils/helper';\n\nconst fin = (state = {}, action) => {\n  switch (action.type) {\n    case 'SELECT_ITEM':\n      if (!action.item.date) {\n        action.item.date = formatDateTime();\n      }\n      return {\n        ...state,\n        pageIndex: 'MAIN',\n        selectedItem: action.item\n      };\n    case 'RESET_SELECTED_ITEM':\n      return {\n        ...state,\n        selectedItem: null\n      };\n    case 'CREATE_ITEM':\n      return {\n        ...state,\n        selectedItem: {\n          category: '周末',\n          subcategory: '晚餐',\n          date: formatDateTime(),\n          amount: 0\n        }\n      };\n    case 'CHANGE_TO_CATEGORY_SELECTION':\n      return {\n        ...state,\n        pageIndex: 'CATEGORY_SELECTION',\n        selectedCatGroup: action.selectedCatGroup || {}\n      };\n    case 'CHANGE_TO_MAIN':\n      return {\n        ...state,\n        pageIndex: 'MAIN',\n        updatedCatGroup: action.updatedCatGroup || {}\n      };\n    case 'CATEGORY_SELECTION_DONE':\n      // Handle category group selection done case\n      // Need to return to template page when there is no selected item.\n      let targetPage = '';\n      if (state.selectedItem) {\n        targetPage = 'MAIN';\n      } else {\n        targetPage = 'FIN_TEMPLATE_LIST'\n      }\n      return {\n        ...state,\n        pageIndex: targetPage,\n        updatedCatGroup: action.updatedCatGroup || {}\n      };\n    case 'CHANGE_TO_FIN_HISTORY':\n      return {\n        ...state,\n        pageIndex: 'FIN_HISTORY'\n      };\n    case 'RESET_UPDATED_CAT_GROUP':\n      return {\n        ...state,\n        updatedCatGroup: {}\n      };\n    case 'CHANGE_TO_FIN_TEMPLATE_LIST':\n      return {\n        ...state,\n        pageIndex: 'FIN_TEMPLATE_LIST',\n        isCreatingTemplate: false\n      };\n    case 'CREATE_TEMPLATE':\n      return {\n        ...state,\n        isCreatingTemplate: true\n      };\n    case 'OPEN_SEARCH_FIN_MODE':\n      return {\n        ...state,\n        pageIndex: 'SEARCH_FIN_ITEM',\n      }\n    default:\n      return state;\n  }\n};\n\nexport default fin;","const errorMsg = (state = {}, action) => {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return {\n        ...state,\n        message: action.message\n      }\n    case 'RESET_ERROR_MESSAGE':\n      return {\n        ...state,\n        message: ''\n      }\n    default:\n      return state;\n  }\n};\n\nexport default errorMsg;\n","const login = (state = {}, action) => {\n  switch (action.type) {\n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        loginStatus: true\n      }\n    case 'TOKEN_INVALID':\n      return {\n        ...state,\n        loginStatus: false\n      }\n    default:\n      return state;\n  }\n};\n\nexport default login;\n","const search = (state = {}, action) => {\n  switch (action.type) {\n    case 'SEARCH_FIN_RESULTS_LOADED':\n      return {\n        ...state,\n        finItems: action.finItems || []\n      }\n    case 'SET_ADVANCE_SEARCH_PARAM':\n      const curSearchParams = state.searchParams || {};\n      const {itemType, itemValue} = action\n      return {\n        ...state,\n        searchParams: Object.assign({}, {...curSearchParams, ...{[itemType]: itemValue}})\n      }\n    default:\n      return state;\n  }\n};\n\nexport default search;\n","import {combineReducers} from 'redux';\nimport fin from './fin';\nimport errorMsg from './errorMsg';\nimport login from './login';\nimport search from './search';\n// import test from './test';\n\nconst reducers = combineReducers({\n  fin,\n  errorMsg,\n  login,\n  search,\n  // test,\n});\n\nexport default reducers;\n","import React, {useState} from 'react';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst Login = ({loginSuccessCallback}) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleUserNameChange = (evt) => {\n    setUsername(evt.target.value);\n  }\n\n  const handlePasswordChange = (evt) => {\n    setPassword(evt.target.value);\n  }\n\n  const validateInput = () => {\n    return username && password;\n  }\n\n  const handleLogin = () => {\n    const inputValid = validateInput();\n    if (!inputValid) {\n      return;\n    }\n\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\n\n    Axios.post(`${API_HOST}/api/user/login`, {data: {username, password}})\n      .then(() => {\n        loginSuccessCallback && loginSuccessCallback();\n      });\n  }\n\n  return (\n    <div className='Login'>\n      <div className='LoginContainer'>\n        <div className='UsernameInput'>\n          <div className='Username-Image'>\n            <input\n              type='input'\n              placeholder='用户名'\n              onChange={handleUserNameChange}\n              value={username} />\n          </div>\n        </div>\n        <div className='PasswordInput'>\n          <div className='Password-Image'>\n            <input\n              type='password'\n              placeholder='密码'\n              onChange={handlePasswordChange}\n              value={password} />\n          </div>\n        </div>\n        <div className='ButtonGroup'>\n          <div\n            className='SubmitButton'\n            onClick={handleLogin}>\n            登录\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport Login from './index';\n\nimport './login-provider.scss';\n\nconst LoginProvider = ({loginStatus, dispatch, children}) => {\n  const handleLoginSuccess = () => {\n    dispatch({\n      type: 'LOGIN_SUCCESS'\n    });\n  }\n\n  useEffect(() => {\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\n    if (loginStatus === undefined) {\n      Axios.get(`${API_HOST}/api/user/validateToken`)\n        .then(() => {\n          handleLoginSuccess();\n        }, () => {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        });\n    }\n  }, [])\n\n  return (\n    // Do not render login panel at first time\n    // Until token validation is complete\n    loginStatus === undefined ?\n    null\n    :\n    <div className='LoginProvider'>\n      {\n        loginStatus ?\n        children\n        :\n        <div className='App-Login'>\n          <Login\n            loginSuccessCallback={handleLoginSuccess} />\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const login = state.login || {};\n  return {\n    loginStatus: login.loginStatus\n  }\n};\n\nexport default connect(mapStateToProps)(LoginProvider);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport Loading from './modules/loading';\nimport FileUploader from './modules/file-uploader';\nimport {withRouter} from 'react-router';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\n// Start: Redux code\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport reducer from './reducers';\n\n// Login Provider\nimport LoginProvider from './modules/login/login-provider';\n\nconst initialState = {\n  fin: {\n    pageIndex: 'MAIN'\n  }\n};\n\nconst store = createStore(\n  reducer,\n  initialState, // preloadedState\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nconst InnerComp = ({location = {pathname: ''}}) => {\n  return (\n    <React.Fragment>\n      {\n        location.pathname.indexOf('fileUploader') > -1 ?\n          <FileUploader />\n          :\n          <App />\n      }\n    </React.Fragment>\n  )\n}\n\nconst InnerCompWithRouter = withRouter(InnerComp);\n\nconst Routers = () => {\n  return (\n    <React.Fragment>\n      <Route exact path={'' || '/'} component={App} key='App'/>\n      <Route path='/fileUploader' component={FileUploader} key=\"FileUploader\"/>\n    </React.Fragment>\n  )\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <LoginProvider>\n      <Router>\n        {/* <InnerCompWithRouter /> */}\n        <Routers />\n      </Router>\n    </LoginProvider>\n    {/* <Loading /> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}