(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(36).concat([function(e,a,t){},,,function(e){e.exports={a:["asfasdf","asd","asax","adsFAS","retvc","tybxcvb","ytrnv","tuvnb","bmui","ewqvzz"]}},,,function(e,a,t){e.exports=t(111)},,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(14),r=t.n(i),o=(t(47),t(1)),l=t(2),s=t(4),m=t.n(s),u=(t(71),function(){return c.a.createElement("div",{className:"FinListItem--LoadingState"},c.a.createElement("div",{className:"FinListItem--Left"},c.a.createElement("div",{className:"FinListItem__Cat"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"FinListItem__Date"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"FinListItem__Comment"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"FinListItem--Right"},c.a.createElement("div",{className:"FinListItem--Amount"},c.a.createElement("div",{className:"LoadingState"}))))}),d=(t(72),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"DayExpense--Loading"},c.a.createElement("div",{className:"DayInfo"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseAmount"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"DayExpenseList"},c.a.createElement(u,null),c.a.createElement(u,null)))),c.a.createElement("div",{className:"DayExpense--Loading"},c.a.createElement("div",{className:"DayInfo"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseAmount"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"DayExpenseList"},c.a.createElement(u,null),c.a.createElement(u,null)))))}),E=(t(73),Object(l.b)()(function(e){var a=e.item,t=e.isLoading,n=e.dayMode,i=void 0!==n&&n,r=e.isLast,o=void 0!==r&&r,l=e.dispatch,s=a.category,m=a.subcategory,d=a.date,E=a.amount,v=a.comment,p=a.isScheduled;return c.a.createElement("div",{className:"FinItemPanel forbid-select",onClick:function(){l({type:"SELECT_ITEM",item:a})}},c.a.createElement("div",{className:"FinItem ".concat(o?"":"FinItem-Border")},t?c.a.createElement(u,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Fin-Left"},c.a.createElement("div",{className:"Fin-SubCat"},s," - ",m),c.a.createElement("div",{className:"Fin-Info Fin-Date"},c.a.createElement("span",null,i?d.substring(11):d)),c.a.createElement("div",{className:"Fin-Info Fin-Comment"},p&&c.a.createElement("span",{className:"Fin-IsScheduled"},"\u5468\u671f"),c.a.createElement("span",null,v))),c.a.createElement("div",{className:"Fin-Right"},c.a.createElement("span",{className:"Fin-Amount"},parseFloat(E).toFixed(2))))))})),v=(t(74),Object(l.b)()(function(e){var a=e.isLoading,t=e.items,n=e.dispatch;return c.a.createElement("div",{className:"FinMain"},c.a.createElement("div",{className:"App-Toolbar"},c.a.createElement("div",{className:"App-Toolbtn"},c.a.createElement("div",{className:"App-Btn forbid-select App-CreateItem",onClick:function(){n({type:"CREATE_ITEM"})}},"\u8bb0\u4e00\u7b14"),c.a.createElement("div",{className:"App-Btn forbid-select App-CreateFast",onClick:function(){n({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})}},"\u901f\u8bb0"))),c.a.createElement("div",{className:"App-Container"},c.a.createElement("div",{className:"App-FinList"},t.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(E,{isLoading:a,item:e}))}))))})),p=t(3),f=(t(75),function(e){var a=e.category,t=e.subcategory,n=e.onClickHandler,i=void 0===n?function(){}:n;return c.a.createElement("div",{className:"FinComCatItem",onClick:function(){return i(a,t)}},c.a.createElement("span",{className:"SubCat-Name"},t))}),N=t(39),g=(t(76),function(e){var a=e.optionList,t=void 0===a?N.a:a,i=e.placeholder,r=void 0===i?"":i,l=e.onChangeCallback,s=e.defaultValue,m=void 0===s?"":s,u=e.searchOptions,d=void 0===u?5:u,E=Object(n.useState)(m),v=Object(o.a)(E,2),p=v[0],f=v[1],g=Object(n.useState)([]),b=Object(o.a)(g,2),O=b[0],y=b[1],C=Object(n.useState)(!1),h=Object(o.a)(C,2),S=h[0],I=h[1];Object(n.useEffect)(function(){var e=function(e){var a=e.target.getAttribute("class")||"";a.indexOf("InputField")<0&&a.indexOf("OptionContainer")<0&&(I(!1),y([]))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]);var A=function(e){var a=e.target.innerText;f(a),y([]),l&&l(a)};return c.a.createElement("div",{className:"SearchDropdown"},c.a.createElement("div",{className:"Dropdown-Input ".concat(S?"SearchDropdown-Focused":"")},c.a.createElement("div",{className:"Dropdown-SearchImage"},c.a.createElement("input",{className:"InputField",placeholder:r,type:"input",onChange:function(e){var a=e.target.value,n=t.filter(function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1});I(!0),f(a),y(a?n.slice(0,d):[]),l&&l(a)},value:p}))),c.a.createElement("div",{className:"OptionList ".concat(S?"SearchDropdown-Focused":"")},O&&O.length>0&&O.map(function(e,a){return c.a.createElement("div",{key:a,className:"OptionContainer",onClick:A},c.a.createElement("div",{className:"Option"},e))})))}),b=(t(77),function(e){var a=e.buttons,t=void 0===a?[]:a,n=e.cancelHandler,i=void 0===n?function(){}:n;return c.a.createElement("div",{className:"PopupButtons"},c.a.createElement("div",{className:"PopupButtons--CustomItems"},t.map(function(e,a){return c.a.createElement("div",{key:a,className:"PopupButton--Item",onClick:e.clickHandler},c.a.createElement("span",{className:"PopupButton--ItemTitle"},e.name))})),c.a.createElement("div",{key:t.length,className:"PopupButtons--CancelItem",onClick:function(){i()}},c.a.createElement("span",{className:"PopupButton--ItemTitle"},"\u53d6\u6d88")))}),O=t(19),y=t.n(O),C=(t(88),function(e){var a=e.defaultSelectedValue,t=void 0===a?"":a,i=e.items,r=void 0===i?[]:i,l=e.customizeItemClickHandler,s=void 0===l?function(){}:l,m=e.isDisabled,u=void 0!==m&&m,d=Object(n.useState)(!1),E=Object(o.a)(d,2),v=E[0],p=E[1],f=Object(n.useState)(t),N=Object(o.a)(f,2),g=N[0],b=N[1];return Object(n.useEffect)(function(){var e=function(e){(e.target.getAttribute("class")||"").indexOf("DropdownList-Element")<0&&p(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]),c.a.createElement("div",{className:"DropdownList DropdownList-Element ".concat(v?"DropdownList--Open":""," ").concat(u?"DropdownList--disabled":"")},c.a.createElement("div",{className:"DropdownHeader DropdownList-Element ".concat(v?"DropdownHeader--Open":""),onClick:function(){p(!v&&!u)}},g),v&&c.a.createElement("div",{className:"DropdownPanel DropdownList-Element"},r.map(function(e){return c.a.createElement("div",{className:"DropdownList__Item DropdownList-Element",key:e.key,onClick:function(){return function(e){p(!1),b(e.value),s(e)}(e)}},e.value)})))}),h=(t(89),function(e){var a=e.defaultValue,t=void 0===a?"0":a,i=e.confirmCallback,r=void 0===i?function(){}:i,l=Object(n.useState)(t),s=Object(o.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)("0"),E=Object(o.a)(d,2),v=E[0],p=E[1],f=Object(n.useState)(""),N=Object(o.a)(f,2),g=N[0],b=N[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2),C=y[0],h=y[1],S=function(e){e.stopPropagation(),C||(T(),b(e.target.innerText),h(!0))},I=function(e){e.stopPropagation();var a=e.target.innerText;C?(p(m),u(""+a),h(!1)):u("0"===m?""+a:m+""+a)},A=function(e){return Math.floor(e)===e?e+"":Math.floor(10*e)===10*e?e.toFixed(1):e.toFixed(2)},T=function(){var e=m;switch(g){case"+":e=parseFloat(v)+parseFloat(m),u(A(e));break;case"-":e=parseFloat(v)-parseFloat(m),u(A(e));break;case"\xd7":e=parseFloat(v)*parseFloat(m),u(A(e));break;case"\xf7":e=parseFloat(v)/parseFloat(m),u(A(e))}return p("0"),e};return c.a.createElement("div",{className:"Calculator"},c.a.createElement("div",{className:"NumberContainer"},m),c.a.createElement("div",{className:"OperatorContainer"},c.a.createElement("div",{className:"OperatorRow BasicOperators"},c.a.createElement("div",{className:"OperatorItem Operand",onClick:S},"+"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:S},"-"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:S},"\xd7"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:S},"\xf7")),c.a.createElement("div",{className:"OperatorRow NumberPad-1"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"1"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"2"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"3"),c.a.createElement("div",{className:"OperatorItem Backspace",onClick:function(e){e.stopPropagation(),u(m.slice(0,-1))}})),c.a.createElement("div",{className:"OperatorRow NumberPad-4"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"4"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"5"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"6"),c.a.createElement("div",{className:"OperatorItem Operand Clear",onClick:function(e){e.stopPropagation(),u("0"),p("0"),b("")}},"C")),c.a.createElement("div",{className:"OperatorRow NumberPad-7"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"7"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"8"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"9"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:function(e){e.stopPropagation(),T(),b(""),p("0"),h(!1)}},"=")),c.a.createElement("div",{className:"OperatorRow NumberPad-0"},c.a.createElement("div",{className:"OperatorItem OperatorItem--TwoSpan",onClick:I},"0"),c.a.createElement("div",{className:"OperatorItem",onClick:function(e){e.stopPropagation(),C?(p(m),u("0."),h(!1)):u(m+".")}},"."),c.a.createElement("div",{className:"OperatorItem ConfirmBtn",onClick:function(e){e.stopPropagation();var a=T();r(a)}},"\u786e\u8ba4"))))}),S=[{category:"\u4ea4\u901a",subcategory:"\u6253\u8f66"},{category:"\u751f\u6d3b",subcategory:"\u6c34\u7535\u7164\u6c14"},{category:"\u9a90\u9a90",subcategory:"\u73a9\u5177"},{category:"\u751f\u6d3b",subcategory:"\u751f\u6d3b\u7528\u54c1"},{category:"\u5468\u672b",subcategory:"\u665a\u9910"},{category:"\u5468\u672b",subcategory:"\u5348\u9910"}],I=function(e){return e<10?"0".concat(e):"".concat(e)},A=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[];return n.push(e),n.push(I(a)),n.push(I(t)),n.join("-")},T=function(e){var a=[];return a.push(e.getFullYear()),a.push(I(e.getMonth()+1)),a.push(I(e.getDate())),a.join("-")},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,a=e.getFullYear(),t=e.getMonth(),n=e.getDate(),c=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return"".concat(a,"-").concat(I(t+1),"-").concat(I(n)," ").concat(I(c),":").concat(I(i),":").concat(I(r))},j=function(){for(var e=[],a=0;a<36;a++)e[a]="0123456789ABCDEF".substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]="0123456789ABCDEF".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var t=e.join("");return t},_=(t(90),[{key:0,value:"\u975e\u5468\u671f\u5165\u8d26"},{key:1,value:"\u6bcf\u5929\u5165\u8d26"},{key:2,value:"\u6bcf\u5468\u5165\u8d26"},{key:3,value:"\u6bcf\u6708\u5165\u8d26"},{key:4,value:"\u6bcf\u5e74\u5165\u8d26"}]),F=Object(l.b)(function(e){return{updatedCatGroup:(e.fin||{}).updatedCatGroup||{}}})(function(e){var a=e.item,t=void 0===a?{amount:0}:a,i=e.updatedCatGroup,r=e.dispatch,l=Object(n.useState)(Object(p.a)({},t,i)),s=Object(o.a)(l,2),u=s[0],d=s[1],E=Object(n.useState)([]),v=Object(o.a)(E,2),N=v[0],O=v[1],I=Object(n.useState)(!1),A=Object(o.a)(I,2),T=A[0],D=A[1],F=Object(n.useState)(!1),k=Object(o.a)(F,2),L=k[0],P=k[1],w=Object(n.useState)(!1),M=Object(o.a)(w,2),R=M[0],x=M[1],H=!!t.id,B=Object(n.useRef)(null);Object(n.useEffect)(function(){m.a.get("/api/wacai/getAllComment").then(function(e){var a=e.data.data||[],t=[];a.forEach(function(e){t.push(e.comment)}),O(t)}),r({type:"RESET_UPDATED_CAT_GROUP"})},[]);var G=function(e,a){d(Object.assign({},u,{category:e,subcategory:a}))},V=function(e){var a=e.repeatRecord,t=void 0!==a&&a,n=function(e){var a=e.category,t=e.subcategory,n=(e.comment,e.amount);return a&&t?n?null:{errorMsg:"\u8bf7\u8f93\u5165\u6709\u6548\u91d1\u989d\uff01"}:{errorMsg:"\u8bf7\u9009\u62e9\u7c7b\u522b\uff01"}}(u);if(n)r({type:"SET_MESSAGE",notificationType:"error",message:n.errorMsg});else{var c="",i={};if(u.id){if(u.isScheduled>0)return void P(!0);c="/api/wacai/updateFinItem",i=Object(p.a)({},u)}else u.isScheduled>0?(c="/api/wacai/createScheduledFinItem",i=Object(p.a)({},u)):(c="/api/wacai/createFinItem",i=Object(p.a)({},u,{id:j()}));r({type:"APP_LOADING"}),m.a.post(c,{data:i}).then(function(){r({type:"APP_LOADED"}),r({type:"SET_MESSAGE",notificationType:"info",message:"\u4fdd\u5b58\u6210\u529f"}),t?(d(Object.assign({},u,{amount:0})),B.current.value="0.00"):r({type:"RESET_SELECTED_ITEM"})})}},U=function(){D(!1),P(!1)},Y=[{name:"\u53ea\u5220\u9664\u8fd9\u4e00\u7b14",clickHandler:function(){r({type:"APP_LOADING"}),m.a.delete("/api/wacai/deleteFinItem?id=".concat(u.id)).then(function(){r({type:"APP_LOADED"}),D(!1),r({type:"RESET_SELECTED_ITEM"})},function(e){var a=e.response;r({type:"APP_LOADED"}),D(!1),401===a.status&&r({type:"TOKEN_INVALID"})})}},{name:"\u5220\u9664\u8fd9\u4e00\u7b14\u4ee5\u53ca\u4ee5\u540e\u6240\u6709",clickHandler:function(){r({type:"APP_LOADING"});var e=new Date;m.a.delete("/api/wacai/deleteScheduledFinItem?scheduleId=".concat(u.scheduleId,"&year=").concat(e.getFullYear(),"&month=").concat(e.getMonth(),"&day=").concat(e.getDate())).then(function(){r({type:"APP_LOADED"}),D(!1),r({type:"RESET_SELECTED_ITEM"})},function(e){var a=e.response;r({type:"APP_LOADED"}),D(!1),401===a.status&&r({type:"TOKEN_INVALID"})})}}],W=[{name:"\u53ea\u66f4\u65b0\u8fd9\u4e00\u7b14",clickHandler:function(){P(!1);var e=Object(p.a)({},u);r({type:"APP_LOADING"}),m.a.post("/api/wacai/updateFinItem",{data:e}).then(function(){r({type:"APP_LOADED"}),r({type:"RESET_SELECTED_ITEM"})})}},{name:"\u66f4\u65b0\u8fd9\u4e00\u7b14\u4ee5\u53ca\u4ee5\u540e\u6240\u6709",clickHandler:function(){var e=Object(p.a)({},u),a={},t=new Date;a.scheduledId=e.scheduledId,a.year=t.getFullYear(),a.month=t.getMonth(),a.day=t.getDate(),r({type:"APP_LOADING"}),m.a.post("/api/wacai/updateScheduledFinItem",{data:e,options:a}).then(function(){r({type:"APP_LOADED"}),P(!1),r({type:"RESET_SELECTED_ITEM"})})}}];return c.a.createElement("div",{className:"FinItemDetails"},c.a.createElement("div",{className:"Fin-Nav"},c.a.createElement("div",{className:"Fin-Nav-Out"},"\u652f\u51fa"),c.a.createElement("div",{className:"Fin-Nav-Arrow"})),c.a.createElement("div",{className:"Fin-Date Fin-WhiteBack"},c.a.createElement(y.a,{value:new Date(u.date.replace(/-/g,"/")),defaultValue:new Date,onChange:function(e){var a=e.format("YYYY-MM-DD hh:mm:ss");d(Object.assign({},u,{date:a}))},inputProps:{disabled:H&&u.isScheduled>0}})),c.a.createElement("div",{className:"Fin-Schedule Fin-WhiteBack"},c.a.createElement(C,{isDisabled:H,defaultSelectedValue:_[u.isScheduled||0].value,items:_,customizeItemClickHandler:function(e){var a=e.key;d(Object.assign({},u,{isScheduled:a}))}})),c.a.createElement("div",{className:"Fin-Header Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-SubCat",onClick:function(){r({type:"CHANGE_TO_CATEGORY_SELECTION",selectedCatGroup:{category:u.category,subcategory:u.subcategory}})}},c.a.createElement("div",{className:"Category"},u.category),c.a.createElement("div",{className:"SubCategory"},u.subcategory)),c.a.createElement("div",{className:"Fin-Amount"},c.a.createElement("input",{type:"number",ref:B,onFocus:function(e){u.amount?e.target.value=u.amount:e.target.value=""},onBlur:function(e){e.target.value=parseFloat(u.amount).toFixed(2)},onChange:function(e){var a=parseFloat(e.target.value);Number.isNaN(a)&&(a=0),d(Object.assign({},u,{amount:a}))},defaultValue:parseFloat(u.amount).toFixed(2)||"0.00"}),c.a.createElement("div",{className:"CalculatorIcon",onClick:function(){x(!R)}},R&&c.a.createElement("div",{className:"CalculatorPanel"},c.a.createElement(h,{defaultValue:u.amount+"",confirmCallback:function(e){var a=+parseFloat(e).toFixed(2);d(Object.assign({},u,{amount:a})),x(!1),B.current.value=parseFloat(e).toFixed(2)}}))))),c.a.createElement("div",{className:"Fin-ComCats Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-ComCat-Container"},S.map(function(e,a){return c.a.createElement("div",{className:"Fin-ComCat",key:a},c.a.createElement(f,{category:e.category,subcategory:e.subcategory,onClickHandler:G}))}))),c.a.createElement("div",{className:"Fin-Comment Fin-WhiteBack"},c.a.createElement(g,{optionList:N,placeholder:"\u5907\u6ce8",onChangeCallback:function(e){d(Object.assign({},u,{comment:e}))},defaultValue:u.comment})),c.a.createElement("div",{className:"Fin-FullDetails Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-Place"},c.a.createElement(g,{optionList:N,placeholder:"\u5546\u573a",onChangeCallback:function(e){d(Object.assign({},u,{place:e}))},defaultValue:u.place})),c.a.createElement("div",{className:"Fin-City"},c.a.createElement("input",{type:"input",placeholder:"\u57ce\u5e02",onChange:function(e){var a=e.target.value||"";d(Object.assign({},u,{city:a}))},defaultValue:u.city||"\u4e0a\u6d77"}))),c.a.createElement("div",{className:"Fin-Toolbar Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-Btns"},c.a.createElement("div",{className:"Fin-Btn Fin-BackBtn",onClick:function(){r({type:"RESET_SELECTED_ITEM"})}},"\u8fd4\u56de"),u.id?c.a.createElement("div",{className:"Fin-Btn Fin-DeleteBtn",onClick:function(){u.isScheduled>0?D(!0):(r({type:"APP_LOADING"}),m.a.delete("/api/wacai/deleteFinItem?id=".concat(u.id)).then(function(){r({type:"APP_LOADED"}),r({type:"RESET_SELECTED_ITEM"})},function(e){var a=e.response;r({type:"APP_LOADED"}),401===a.status&&r({type:"TOKEN_INVALID"})}))}},"\u5220\u9664"):c.a.createElement("div",{className:"Fin-Btn Fin-RepeatBtn",onClick:function(){V({repeatRecord:!0})}},"\u4fdd\u5b58\u518d\u8bb0"),c.a.createElement("div",{className:"Fin-Btn Fin-SaveBtn",onClick:V},"\u4fdd\u5b58"))),T&&c.a.createElement("div",{className:"PopupButtons--Container"},c.a.createElement(b,{buttons:Y,cancelHandler:U})),L&&c.a.createElement("div",{className:"PopupButtons--Container"},c.a.createElement(b,{buttons:W,cancelHandler:U})))}),k=(t(91),Object(l.b)()(function(e){var a=e.closeHandler,t=e.hasSearch,n=void 0===t||t,i=e.barTitle,r=void 0===i?"":i,o=e.searchHandler,l=e.children,s=e.dispatch;return c.a.createElement("div",{className:"HeaderToolbar"},c.a.createElement("div",{className:"HeaderToolbar-Container"},c.a.createElement("div",{className:"CloseBtn",onClick:function(){a?a():s({type:"CHANGE_TO_MAIN"})}}),r&&c.a.createElement("div",{className:"BarInfo"},r),!r&&l&&"function"===typeof l&&c.a.createElement("div",{className:"BarContent"},l()),!r&&!l&&c.a.createElement("div",{className:"BarHeader"}),n&&c.a.createElement("div",{className:"ToolBtns"},c.a.createElement("div",{className:"SearchBtn",onClick:function(){o?o():s({type:"OPEN_SEARCH_FIN_MODE"})}}))))})),L=(t(92),Object(l.b)(function(e){return{selectedCatGroup:e.fin.selectedCatGroup||{}}})(function(e){var a=e.selectedCatGroup,t=void 0===a?{}:a,i=e.dispatch,r=Object(n.useState)(t.category||""),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)({}),E=Object(o.a)(d,2),v=E[0],p=E[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getCategoryGroup").then(function(e){var a=e.data.data||{};p(a)},function(e){401===e.response.status&&i({type:"TOKEN_INVALID"})})},[]);return c.a.createElement("div",{className:"FinCatSubCat"},c.a.createElement(k,{barTitle:"\u652f\u51fa\u7c7b\u522b",hasSearch:!1}),c.a.createElement("div",{className:"FinCatSubCat-Container"},c.a.createElement("div",{className:"Cats"},Object.keys(v).map(function(e,a){return c.a.createElement("div",{className:"CatItem",key:a,onClick:function(){return function(e){u(e)}(e)}},c.a.createElement("div",{className:"CatItem-Border ".concat(s===e?"CatItem-Border-Selected":"")},e))})),c.a.createElement("div",{className:"SubCats"},s&&v[s]&&v[s].map(function(e,a){var t=e.subcategory;return e.isCommon,c.a.createElement("div",{className:"SubCatItem",onClick:function(){i({type:"CATEGORY_SELECTION_DONE",updatedCatGroup:{category:s,subcategory:t}})},key:a},c.a.createElement("div",{className:"".concat(a!==v[s].length-1?"SubCat-Border":"")},c.a.createElement("div",{className:"SubCat-Text"},t)))}))))})),P=(t(93),function(e){var a=e.date,t=void 0===a?"2019-04-22":a,n=e.amount,i=void 0===n?1203:n,r=e.items,o=void 0===r?[]:r,l=t.substring(t.length-2);return c.a.createElement("div",{className:"DayExpense"},c.a.createElement("div",{className:"DayExpense-Container"},c.a.createElement("div",{className:"DayInfo"},l),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2019-04-22";return["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"][new Date(e).getDay()]}(t)),c.a.createElement("div",{className:"DayExpenseAmount"},"\u652f\uff1a",parseFloat(i).toFixed(2))),c.a.createElement("div",{className:"DayExpenseList"},o.map(function(e,a){return c.a.createElement("div",{key:e.id},c.a.createElement(E,{dayMode:!0,isLast:a===o.length-1,item:e}))})))))}),w=(t(36),Object(l.b)()(function(e){var a=e.month,t=void 0===a?"04":a,i=e.year,r=void 0===i?"2019":i,l=e.amount,s=void 0===l?11086:l,u=e.barWidthRatio,E=void 0===u?1:u,v=e.dayItems,p=void 0===v?[]:v,f=e.dispatch,N=Object(n.useState)(!1),g=Object(o.a)(N,2),b=g[0],O=g[1],y=Object(n.useState)(p),C=Object(o.a)(y,2),h=C[0],S=C[1],I=Object(n.useState)(!1),A=Object(o.a)(I,2),T=A[0],D=A[1],j=1*E*100+"%";return c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"MonthExpense-Container ".concat(b?"":"MonthExpenseBorder"),onClick:function(){b?O(!b):(O(!b),h.length<=0&&(D(!0),m.a.get("/api/wacai/getFinItemsByMonth?month=".concat(t,"&year=").concat(r)).then(function(e){var a=e.data.data||[];S(a),setTimeout(function(){D(!1)},0)},function(e){401===e.response.status&&f({type:"TOKEN_INVALID"})})))}},c.a.createElement("div",{className:"MonthTitle"},c.a.createElement("div",{className:"Month"},t),c.a.createElement("div",{className:"Year"},r)),c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"ExpenseTitle"},"\u652f\u51fa\uff1a",parseFloat(s).toFixed(2)),c.a.createElement("div",{className:"ExpenseAmount"},c.a.createElement("div",{className:"AmountBar",style:{width:j}}))),c.a.createElement("div",{className:"MonthExpense-Dropdown ".concat(b?"MonthExpense-Expanded":"")})),b&&(T?c.a.createElement(d,null):h.map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(P,{date:e.date,amount:e.amount,items:e.items}))})))})),M=Object(l.b)()(function(e){var a=e.dispatch,t=Object(n.useState)({}),i=Object(o.a)(t,2),r=i[0],l=i[1];return Object(n.useEffect)(function(){var e=new Date;m.a.get("/api/wacai/getHistoryExpense?year=".concat(e.getFullYear(),"&month=").concat(e.getMonth()+1)).then(function(e){var a=e.data.data||{};l(a)},function(e){401===e.response.status&&a({type:"TOKEN_INVALID"})})},[]),c.a.createElement("div",{className:"FinItemList"},c.a.createElement(k,null),r.items&&r.items.map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(w,{month:e.month,year:e.year,amount:e.amount,barWidthRatio:e.amount/r.highestMonthAmount}))}))}),R=(t(94),Object(l.b)()(function(e){var a=e.dispatch;return c.a.createElement("div",{className:"TemplateToolbar"},c.a.createElement("div",{className:"ToolbarContainer"},c.a.createElement("div",{className:"ToolbarInfo"},"\u8bb0\u8d26\u6a21\u677f"),c.a.createElement("div",{className:"ToolbarBtns"},c.a.createElement("div",{className:"CreateBtn",onClick:function(){a({type:"CREATE_TEMPLATE"})}},"\u6dfb\u52a0\u6a21\u677f"))))})),x=(t(95),Object(l.b)()(function(e){var a=e.item,t=void 0===a?{}:a,n=e.isLast,i=void 0!==n&&n,r=e.dispatch,o=t.comment,l=t.category,s=t.subcategory,m=t.place;return c.a.createElement("div",{className:"FinTemplateItem"},c.a.createElement("div",{className:"ItemContainer ".concat(i?"":"ItemBorder"),onClick:function(){r({type:"SELECT_ITEM",item:{comment:o,category:l,subcategory:s,place:m,amount:0}})}},c.a.createElement("div",{className:"Categories"},c.a.createElement("div",{className:"Category"},l),c.a.createElement("div",{className:"SubCategory"},s)),c.a.createElement("div",{className:"Comment"},o)))})),H=(t(96),Object(l.b)(function(e){var a=e.fin||{};return{updatedCatGroup:a.updatedCatGroup||{},isCreatingTemplate:a.isCreatingTemplate}})(function(e){var a=e.updatedCatGroup,t=e.dispatch,i=Object(n.useState)(a),r=Object(o.a)(i,2),l=r[0],s=r[1];Object(n.useEffect)(function(){t({type:"RESET_UPDATED_CAT_GROUP"})},[]);return c.a.createElement("div",{className:"CreateTemplate"},c.a.createElement("div",{className:"CreatePanel"},c.a.createElement("div",{className:"Fin-SubCat",onClick:function(){t({type:"CHANGE_TO_CATEGORY_SELECTION",selectedCatGroup:{category:l.category,subcategory:l.subcategory}})}},l.category," - ",l.subcategory),c.a.createElement("div",{className:"Fin-Comment"},c.a.createElement("input",{className:"CommentInput",placeholder:"\u5907\u6ce8",type:"input",onChange:function(e){s(Object.assign({},l,{comment:e.target.value}))},value:l.comment})),c.a.createElement("div",{className:"Fin-Place"},c.a.createElement("input",{className:"PlaceInput",placeholder:"\u5546\u573a",type:"input",onChange:function(e){s(Object.assign({},l,{place:e.target.value}))},value:l.place})),c.a.createElement("div",{className:"Fin-Toolbar"},c.a.createElement("div",{className:"Fin-Btns"},c.a.createElement("div",{className:"Fin-Btn Fin-BackBtn",onClick:function(){t({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})}},"\u8fd4\u56de"),c.a.createElement("div",{className:"Fin-Btn Fin-SaveBtn",onClick:function(){l.category&&l.subcategory&&l.comment&&m.a.post("/api/wacai/createFinTemplate",{data:l}).then(function(){t({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})},function(e){401===e.response.status&&t({type:"TOKEN_INVALID"})})}},"\u4fdd\u5b58")))))})),B=(t(97),Object(l.b)(function(e){return{isCreatingTemplate:(e.fin||{}).isCreatingTemplate}})(function(e){var a=e.isCreatingTemplate,t=e.dispatch,i=Object(n.useState)([]),r=Object(o.a)(i,2),l=r[0],s=r[1];return Object(n.useEffect)(function(){m.a.get("/api/wacai/getFinTemplates").then(function(e){var a=e.data.data||[];s(a)},function(e){401===e.response.status&&t({type:"TOKEN_INVALID"})})},[a]),c.a.createElement("div",{className:"FinTemplateList"},c.a.createElement(k,{barTitle:a?"\u521b\u5efa\u6a21\u677f":"",hasSearch:!1}),c.a.createElement(R,null),a?c.a.createElement(H,null):c.a.createElement("div",{className:"Templates"},l.map(function(e,a){return c.a.createElement("div",{key:a,className:"Template"},c.a.createElement(x,{item:e,isLast:a===l.length-1}))})))})),G=function(e){var a=e.total,t=e.start,i=void 0===t?0:t,r=e.duration,l=void 0===r?200:r,s=Object(n.useState)(i||function(e){return e<1e3?0:e<5e3?1e3:e<1e4?5e3:e<15e3?1e4:e<2e4?15e3:2e4}(a)),m=Object(o.a)(s,2),u=m[0],d=m[1],E=(a-u)/l,v=u;return Object(n.useEffect)(function(){var e=setInterval(function(){(v+=E)>=a&&(v=a,clearInterval(e)),d(v)},1)},[a]),c.a.createElement("div",{className:"AutoUpdateNumber"},parseFloat(u).toFixed(2))},V=(t(98),Object(l.b)()(function(e){var a=e.type,t=e.message,i=e.errorTimeout,r=void 0===i?1e3:i,l=e.dispatch,s=Object(n.useState)(!0),m=Object(o.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){d(!1),setTimeout(function(){d(!0),setTimeout(function(){l({type:"RESET_MESSAGE"})},1e3)},r)},[]),c.a.createElement("div",{className:"Notification ".concat(u?"fadeOutAnimation":"")},c.a.createElement("div",{className:"".concat("error"===a?"Message-Container Error":"Message-Container Info")},c.a.createElement("div",{className:"".concat("error"===a?"ErrorMessage":"InfoMessage")},t)))})),U=(t(99),Object(l.b)()(function(e){var a=e.customStyles,t=void 0===a?{}:a,i=e.advancedSearchHanlder,r=void 0===i?void 0:i,l=e.dispatch,s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"SearchBox",style:t},c.a.createElement("div",{className:"SearchBox-Container"},c.a.createElement("div",{className:"AdvanceSearch"},c.a.createElement("div",{className:"AdvanceSearch-Text",onClick:function(){r&&r()}},"\u9ad8\u7ea7\u641c\u7d22")),c.a.createElement("div",{className:"SimpleSearch"},c.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",onChange:function(e){E(e.target.value)},value:d}))),c.a.createElement("div",{className:"Btns"},c.a.createElement("div",{className:"SearchBtn",onClick:function(){if(d){var e=new Date;m.a.get("/api/wacai/searchFinItems?searchString=".concat(d,"&year=").concat(e.getFullYear(),"&month=").concat(e.getMonth()+1)).then(function(e){var a=e.data.data||[];l({type:"SEARCH_FIN_RESULTS_LOADED",finItems:a})})}}},"\u786e\u5b9a")))})),Y=function(e){var a=e.month,t=void 0===a?"04":a,i=e.year,r=void 0===i?"2019":i,l=e.amount,s=void 0===l?11086:l,m=e.barWidthRatio,u=void 0===m?1:m,d=e.dayItems,E=void 0===d?[]:d,v=Object(n.useState)(!1),p=Object(o.a)(v,2),f=p[0],N=p[1],g=1*u*100+"%",b=function(e){var a={};return e.map(function(e){var t=new Date(e.date),n=I(t.getDate()),c=I(t.getMonth()+1),i=t.getFullYear();a["".concat(i,"-").concat(c,"-").concat(n)]?(a["".concat(i,"-").concat(c,"-").concat(n)].amount+=e.amount,a["".concat(i,"-").concat(c,"-").concat(n)].items.push(e)):a["".concat(i,"-").concat(c,"-").concat(n)]={amount:e.amount,items:[e]}}),a}(E);return c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"MonthExpense-Container ".concat(f?"":"MonthExpenseBorder"),onClick:function(){N(!f)}},c.a.createElement("div",{className:"MonthTitle"},c.a.createElement("div",{className:"Month"},t),c.a.createElement("div",{className:"Year"},r)),c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"ExpenseTitle"},"\u652f\u51fa\uff1a",parseFloat(s).toFixed(2)),c.a.createElement("div",{className:"ExpenseAmount"},c.a.createElement("div",{className:"AmountBar",style:{width:g}}))),c.a.createElement("div",{className:"MonthExpense-Dropdown ".concat(f?"MonthExpense-Expanded":"")})),f&&Object.keys(b).sort().reverse().map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(P,{date:e,amount:b[e].amount,items:b[e].items}))}))},W=(t(100),function(e){var a=e.finItems,t=void 0===a?[]:a,n=0;t.length>0&&t.forEach(function(e){n+=e.amount});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={},t=0;return e.map(function(e,t){var n=new Date(e.date),c=I(n.getMonth()+1),i=n.getFullYear();a["".concat(i,"-").concat(c)]?(a["".concat(i,"-").concat(c)].amount+=e.amount,a["".concat(i,"-").concat(c)].dayItems.push(e)):a["".concat(i,"-").concat(c)]={amount:e.amount,dayItems:[e]}}),Object.values(a).forEach(function(e){e.amount>t&&(t=e.amount)}),{highestMonthAmount:t,items:a}}(t);return c.a.createElement("div",{className:"SearchFinItemList"},c.a.createElement("div",{className:"SearchResultContainer"},c.a.createElement("div",{className:"SearchResult-Summary"},c.a.createElement("div",{className:"SummaryItem SummaryAmount"},"\uffe5 ",parseFloat(n).toFixed(2)),c.a.createElement("div",{className:"SummaryItem SummaryCaption"},"\u652f\u51fa"))),c.a.createElement("div",{className:"ListContainer"},t.length>0&&Object.keys(i.items).sort().reverse().map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(Y,{month:e.split("-")[1],year:e.split("-")[0],amount:i.items[e].amount,barWidthRatio:i.items[e].amount/i.highestMonthAmount,dayItems:i.items[e].dayItems}))})))}),K=(t(101),Object(l.b)(function(e){return{searchParams:(e.search||{}).searchParams||{}}})(function(e){var a,t=e.type,i=e.name,r=e.Comp,l=e.defaultValue,s=e.formatter,m=void 0===s?function(e){return e}:s,u=e.searchParams,d=e.dispatch,E=Object(n.useState)(!1),v=Object(o.a)(E,2),p=v[0],f=v[1];return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"AdvanceSearchItem ".concat(p&&r?"AdvanceSearchItem-NoBottomBorder":"")},c.a.createElement("div",{className:"ItemName"},c.a.createElement("span",null,i)),c.a.createElement("div",{className:"ItemOption"},c.a.createElement("div",{className:"ItemOption-Container",onClick:function(){f(!p)}},c.a.createElement("div",{className:"ItemSelectedValue"},u[t]?(a=u[t],m?m(a):a):l),c.a.createElement("div",{className:"ItemSelectionButton"},">")))),p&&r&&c.a.createElement(r,{currentValue:u[t],submitHandler:function(e){!function(e){d({type:"SET_ADVANCE_SEARCH_PARAM",itemType:t,itemValue:e})}(e),f(!1)},cancelHandler:function(){f(!1)}}))})),z=t(13),J=(t(102),function(e){var a=e.enableSubmitButton,t=void 0===a||a,n=e.enableCancelButton,i=void 0===n||n,r=e.submitHandler,o=void 0===r?void 0:r,l=e.cancelHandler,s=void 0===l?void 0:l;return c.a.createElement("div",{className:"Selection__ButtonGroups"},t&&c.a.createElement("div",{className:"SubmitButton",onClick:o},"\u786e\u8ba4"),i&&c.a.createElement("div",{className:"CancelButton",onClick:s},"\u53d6\u6d88"))}),X=Object(l.b)()(function(e){var a=e.currentValue,t=void 0===a?{}:a,i=e.submitHandler,r=void 0===i?void 0:i,l=e.cancelHandler,s=void 0===l?void 0:l,u=e.dispatch,d=Object(n.useState)(t.category||"\u5168\u90e8"),E=Object(o.a)(d,2),v=E[0],p=E[1],f=Object(n.useState)(t.subcategory||"\u5168\u90e8"),N=Object(o.a)(f,2),g=N[0],b=N[1],O=Object(n.useState)({}),y=Object(o.a)(O,2),h=y[0],S=y[1],I=Object(n.useState)("\u5168\u90e8"===(t.category||"\u5168\u90e8")),A=Object(o.a)(I,2),T=A[0],D=A[1],j=Object(n.useState)([]),_=Object(o.a)(j,2),F=_[0],k=_[1],L=Object(n.useState)([]),P=Object(o.a)(L,2),w=P[0],M=P[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getCategoryGroup").then(function(e){var a=e.data.data||{};S(a);var t=function(e){var a=Object.keys(e);return(a=a.map(function(e,a){return{key:a+1,value:e}})).unshift({key:0,value:"\u5168\u90e8"}),a}(a);k(t)},function(e){401===e.response.status&&u({type:"TOKEN_INVALID"})})},[]);return c.a.createElement("div",{className:"CategorySelectionPanel"},c.a.createElement("div",{className:"CategorySelectionContainer"},c.a.createElement("div",{className:"CategoryTitle"},"\u7c7b\u522b"),c.a.createElement("div",{className:"CategorySelection"},c.a.createElement(C,{defaultSelectedValue:v,items:F,customizeItemClickHandler:function(e){p(e.value);var a=[{key:0,value:"\u5168\u90e8"}];if("\u5168\u90e8"===e.value)M(a),D(!1);else{var t=h[e.value];t=t.map(function(e,a){return{key:a+1,value:e.subcategory}}),M([].concat(a,Object(z.a)(t))),D(!1)}}}))),c.a.createElement("div",{className:"SubCategorySelectionContainer"},c.a.createElement("div",{className:"SubCategoryTitle"},"\u5b50\u7c7b"),c.a.createElement("div",{className:"SubCategorySelection"},c.a.createElement(C,{defaultSelectedValue:g,isDisabled:T,items:w,customizeItemClickHandler:function(e){b(e.value)}}))),c.a.createElement(J,{submitHandler:function(){r({category:v,subcategory:g})},cancelHandler:function(){s()}}))}),q=[{type:"dateRange",name:"\u65e5\u671f",defaultValue:"\u5168\u90e8",comp:function(e){var a=e.currentValue,t=void 0===a?{}:a,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,m=Object(n.useState)(t),u=Object(o.a)(m,2),d=u[0],E=u[1],v=Object(n.useState)(9===t.key),f=Object(o.a)(v,2),N=f[0],g=f[1],b=Object(n.useState)(9===t.key?new Date(t.minDate):new Date),O=Object(o.a)(b,2),h=O[0],S=O[1],I=Object(n.useState)(!1),D=Object(o.a)(I,2),j=D[0],_=D[1],F=Object(n.useState)(9===t.key?new Date(t.maxDate):new Date),k=Object(o.a)(F,2),L=k[0],P=k[1],w=Object(n.useState)(!1),M=Object(o.a)(w,2),R=M[0],x=M[1],H=new Date,B=H.getFullYear(),G=H.getMonth()+1,V=H.getDate(),U=H.getDay(),Y=function(e,a){switch(a){case 2:return e%4==0&&e%100||e%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}},W=function(e,a,t,n){if(t<n){var c=n-t;return{minDate:A(e,a-1,Y(e,a-1)-(c-1)),maxDate:A(e,a,t+(7-n))}}return{minDate:A(e,a,t-(n-1)),maxDate:A(e,a,t+(7-n))}},K=[{key:0,value:"\u5168\u90e8"},{key:1,value:"\u672c\u5e74",minDate:A(B,1,1),maxDate:A(B,12,31)},{key:2,value:"\u53bb\u5e74",minDate:A(B-1,1,1),maxDate:A(B-1,12,31)},{key:3,value:"\u672c\u5b63",minDate:A(B,G-G%3+1,1),maxDate:A(B,G+(3-G%3),31)},Object(p.a)({key:4,value:"\u4e0a\u5b63"},function(e,a){return a<3?{minDate:A(e-1,9,1),maxDate:A(e-1,12,31)}:{minDate:A(e,a-a%3-2,1),maxDate:A(e,a+(3-a%3)-3,31)}}(B,G)),{key:5,value:"\u672c\u6708",minDate:A(B,G,1),maxDate:A(B,G,Y(B,G))},Object(p.a)({key:6,value:"\u4e0a\u6708"},function(e,a){return 1===a?{minDate:A(e-1,12,1),maxDate:A(e-1,12,31)}:{minDate:A(e,a-1,1),maxDate:A(e,a-1,Y(e,a-1))}}(B,G)),Object(p.a)({key:7,value:"\u672c\u5468"},W(B,G,V,U)),Object(p.a)({key:8,value:"\u4e0a\u5468"},function(e,a,t,n){return t-7<=0?Object(p.a)({},W(e,a-1,Y(e,a-1)-(7-t),n)):Object(p.a)({},W(e,a,t-7,n))}(B,G,V,U)),{key:9,value:"\u81ea\u5b9a\u4e49"}];return c.a.createElement("div",{className:"DateRangeSelectionPanel"},c.a.createElement("div",{className:"DateRangeDropdownList"},c.a.createElement(C,{items:K,defaultSelectedValue:d.value||"\u5168\u90e8",customizeItemClickHandler:function(e){e.key<9?g(!1):g(!0),E(K[e.key])}})),N&&c.a.createElement("div",{className:"DateRangeSelection--Custom"},c.a.createElement("div",{className:"DateRangeSelection DateRangeSelection--CustomStart"},c.a.createElement("div",{className:"StartDateContainer",onClick:function(){_(!j)}},c.a.createElement("div",{className:"Title"},"\u8d77\u59cb\u65f6\u95f4"),c.a.createElement("div",{className:"Value"},T(h))),j&&c.a.createElement(y.a,{input:!1,value:h,defaultValue:h,onChange:function(e){var a=e.format("YYYY-MM-DD");S(new Date(a)),_(!j)},className:"DateTimeStyles StartDatePicker",timeFormat:!1})),c.a.createElement("div",{className:"DateRangeSelection DateRangeSelection--CustomEnd"},c.a.createElement("div",{className:"EndDateContainer",onClick:function(){x(!R)}},c.a.createElement("div",{className:"Title"},"\u7ec8\u6b62\u65f6\u95f4"),c.a.createElement("div",{className:"Value"},T(L))),R&&c.a.createElement(y.a,{input:!1,value:L,defaultValue:L,onChange:function(e){var a=e.format("YYYY-MM-DD");P(new Date(a)),x(!R)},className:"DateTimeStyles EndDatePicker",timeFormat:!1}))),c.a.createElement(J,{submitHandler:function(){9===d.key?r(Object(p.a)({},d,{minDate:h,maxDate:L})):r(d)},cancelHandler:function(){s()}}))},formatter:function(e){if(e.minDate&&e.maxDate){var a="object"===typeof e.minDate?T(e.minDate):e.minDate,t="object"===typeof e.maxDate?T(e.maxDate):e.maxDate;return"".concat(a," - ").concat(t)}return"\u5168\u90e8"}},{type:"amountRanges",name:"\u91d1\u989d",defaultValue:"",comp:Object(l.b)()(function(e){var a=e.currentValue,t=void 0===a?[]:a,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,m=e.dispatch,u=Object(n.useState)(t),d=Object(o.a)(u,2),E=d[0],v=d[1];return c.a.createElement("div",{className:"AmountRangeSelectionPanel"},c.a.createElement("div",{className:"AmountRangeAdder",onClick:function(){v([].concat(Object(z.a)(E),[{minAmount:0,maxAmount:0}]))}},"+"),c.a.createElement("div",{className:"AmountRangeContainer"},E.map(function(e,a){var t=e.minAmount,n=e.maxAmount;return c.a.createElement("div",{className:"AmountRangeItem",key:a},c.a.createElement("div",{className:"AmountRangeMain"},c.a.createElement("input",{className:"AmountRangeItem--Min",onChange:function(e){return function(e,a){var t=Object(z.a)(E),n=e.target.value;t[a].minAmount=n,v(Object(z.a)(t))}(e,a)},value:t}),c.a.createElement("div",{className:"AmountRangeItem--Sep"}," - "),c.a.createElement("input",{className:"AmountRangeItem--Max",onChange:function(e){return function(e,a){var t=Object(z.a)(E),n=e.target.value;t[a].maxAmount=n,v(Object(z.a)(t))}(e,a)},value:n})),c.a.createElement("div",{className:"AmountRangeRemover",onClick:function(){!function(e){var a=Object(z.a)(E);a.splice(e,1),v(Object(z.a)(a))}(a)}},"-"))})),c.a.createElement(J,{submitHandler:function(){for(var e in E)if(E[e].minAmount>E[e].maxAmount&&0!=E[e].maxAmount)return void m({type:"SET_MESSAGE",notificationType:"error",message:"\u91d1\u989d\u533a\u95f4\u8bbe\u7f6e\u6709\u8bef"});r(E)},cancelHandler:function(){s()}}))}),formatter:function(e){return e.map(function(e){var a=e.minAmount,t=e.maxAmount;return 0===+t?">= ".concat(a):"".concat(a," - ").concat(t)}).join(", ")}},{type:"category",name:"\u7c7b\u522b",defaultValue:"\u5168\u90e8",comp:X,formatter:function(e){var a=e.category,t=e.subcategory;return"".concat(a," - ").concat(t)}},{type:"keyword",name:"\u5173\u952e\u5b57",defaultValue:"",comp:function(e){var a=e.currentValue,t=void 0===a?"":a,i=e.submitHandler,r=void 0===i?void 0:i,l=e.cancelHandler,s=void 0===l?void 0:l,m=Object(n.useState)(t),u=Object(o.a)(m,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"KeywordsSelectionPanel"},c.a.createElement("div",{className:"InputContainer"},c.a.createElement("input",{onChange:function(e){E(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",value:d})),c.a.createElement(J,{submitHandler:function(){r(d)},cancelHandler:function(){s()}}))},formatter:function(e){return e}}],$=(t(103),Object(l.b)(function(e){return{searchParams:(e.search||{}).searchParams||{}}})(function(e){var a=e.searchParams,t=e.dispatch,n=e.submitHandler,i=void 0===n?void 0:n;return c.a.createElement("div",{className:"AdvancedSearch"},c.a.createElement("div",{className:"AdvancedSearch-Toolbar"},c.a.createElement("div",{className:"SubmitButton",onClick:function(){var e=[];Object.keys(a).map(function(t){if(Array.isArray(a[t]))e.push("".concat(t,"=").concat(JSON.stringify(a[t])));else if("object"===typeof a[t]){if("dateRange"===t)e.push("".concat(t,"=").concat(JSON.stringify(a[t])));else if("category"===t)for(var n in a[t])e.push("".concat(n,"=").concat(a[t][n]))}else e.push("".concat(t,"=").concat(a[t]))}),m.a.get("/api/wacai/deepSearchFinItems?".concat(e.join("&"))).then(function(e){var a=e.data;i();var n=a.data||[];t({type:"SEARCH_FIN_RESULTS_LOADED",finItems:n})})}},"\u786e\u8ba4"),c.a.createElement("div",{className:"clearFloat"})),q&&q.map(function(e,a){var t=e.type,n=e.name,i=e.comp,r=e.defaultValue,o=e.formatter;return c.a.createElement("div",{className:"AdvanceSearchItem-Container",key:a},c.a.createElement(K,{type:t,name:n,Comp:i,defaultValue:r,formatter:o}))}))})),Q=(t(104),Object(l.b)(function(e){return{finItems:(e.search||{}).finItems||[]}})(function(e){var a=e.finItems,t=void 0===a?[]:a,i=e.dispatch,r=Object(n.useState)(!1),l=Object(o.a)(r,2),s=l[0],m=l[1],u={position:"relative",top:"50%",transform:"translateY(-50%)"},d=function(){m(!0)};return c.a.createElement("div",{className:"SearchFinItem"},c.a.createElement(k,{closeHandler:function(){s?m(!1):i({type:"CHANGE_TO_FIN_HISTORY"})},hasSearch:!1,barTitle:s?"\u9ad8\u7ea7\u641c\u7d22":""},function(){return s?null:c.a.createElement(U,{customStyles:u,advancedSearchHanlder:d})}),!s&&t.length>0&&c.a.createElement(W,{finItems:t}),s&&c.a.createElement("div",{className:"AdvancedSearch-Container"},c.a.createElement($,{submitHandler:function(){m(!1)}})))})),Z=(t(105),function(e){var a={width:e.width||"4em",height:e.height||"4em"};return c.a.createElement("div",{className:"Loading",style:a})}),ee=(t(106),Object(l.b)(function(e){return{selectedItem:e.fin?e.fin.selectedItem:null,pageIndex:e.fin?e.fin.pageIndex:"MAIN",isAppLoading:e.fin&&e.fin.isAppLoading,notificationType:e.notification?e.notification.notificationType:"",notificationMsg:e.notification?e.notification.notificationMsg:""}})(function(e){var a=e.pageIndex,t=e.notificationType,i=e.notificationMsg,r=e.selectedItem,l=e.isAppLoading,s=e.dispatch,u=Object(n.useState)(0),d=Object(o.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(0),N=Object(o.a)(f,2),g=N[0],b=N[1],O=Object(n.useState)(0),y=Object(o.a)(O,2),C=y[0],h=y[1],S=Object(n.useState)(new Array(5).fill({})),I=Object(o.a)(S,2),A=I[0],T=I[1],D=Object(n.useState)(!0),j=Object(o.a)(D,2),_=j[0],k=j[1];Object(n.useEffect)(function(){if(k(!0),!r){var e=new Date;m.a.get("/api/wacai/getFinList?year=".concat(e.getFullYear(),"&month=").concat(e.getMonth()+1,"&day=").concat(e.getDate(),"&dayOfWeek=").concat(e.getDay(),"&top=").concat(15)).then(function(e){var a=e.data;setTimeout(function(){k(!1);var e=a.monthTotal,t=void 0===e?0:e,n=a.weekTotal,c=void 0===n?0:n,i=a.dayTotal,r=void 0===i?0:i,o=a.data||[];T(o),p(t),b(c),h(r)},0)},function(e){var a=e.response;k(!1),401===a.status&&s({type:"TOKEN_INVALID"})})}},[r]);return c.a.createElement("div",{className:"App"},i&&c.a.createElement("div",{className:"App-Page-Notification"},c.a.createElement(V,{type:t,message:i})),l&&c.a.createElement("div",{className:"App-Page-Loading"},c.a.createElement("div",{className:"LoadingContainer"},c.a.createElement(Z,null))),"SEARCH_FIN_ITEM"===a&&c.a.createElement("div",{className:"App-Page-Fin-Search"},c.a.createElement(Q,null)),"CATEGORY_SELECTION"===a&&c.a.createElement("div",{className:"App-Page-Cat-Selection"},c.a.createElement(L,null)),"FIN_HISTORY"===a&&c.a.createElement("div",{className:"App-Page-Fin-History"},c.a.createElement(M,null)),"FIN_TEMPLATE_LIST"===a&&c.a.createElement("div",{className:"App-Page-Fin-Template-List"},c.a.createElement(B,null)),"MAIN"===a&&c.a.createElement("div",{className:"App-Page-Main"},c.a.createElement("div",{className:"App-Header"},c.a.createElement("div",{className:"Header-MonthTotal"},c.a.createElement("div",{className:"Caption"},"\u672c\u6708\u603b\u8ba1"),c.a.createElement("div",{className:"Amount",onClick:function(){s({type:"CHANGE_TO_FIN_HISTORY"})}},c.a.createElement(G,{total:E,duration:100}))),c.a.createElement("div",{className:"Header-WeekDayTotal"},c.a.createElement("div",{className:"Caption"},"\u672c\u5468\u603b\u8ba1"),c.a.createElement("div",{className:"Amount"},c.a.createElement(G,{total:g,duration:100})),c.a.createElement("div",{className:"Caption"},"\u4eca\u65e5\u603b\u8ba1"),c.a.createElement("div",{className:"Amount"},c.a.createElement(G,{total:C,duration:100})))),r?c.a.createElement("div",{className:"App-FinDetails"},c.a.createElement(F,{item:r})):c.a.createElement("div",{className:"App-Main"},c.a.createElement(v,{isLoading:_,items:A}))))})),ae=(t(107),new Array(4).fill(void 0)),te=Object(l.b)()(function(e){e.dispatch;var a=Object(n.useState)(""),t=Object(o.a)(a,2),i=t[0],r=t[1],l=Object(n.useState)(ae),s=Object(o.a)(l,2),u=s[0],d=s[1],E=function(e){var a=e.target.files[0],t=+e.target.parentElement.getAttribute("data-fileid");d(u.map(function(e,n){return n===t?a:e})),function(e){var a=new FormData;return a.append("file",e),m.a.post("/api/file/imageUpload",a)}(a).then(function(e){console.log(e)},function(e){console.log(e)})};return c.a.createElement("div",{className:"FileUploader"},c.a.createElement("div",{className:"NameInput"},c.a.createElement("input",{type:"input",placeholder:"Please input your name...",value:i,onChange:function(e){var a=e.target.value;r(a)}})),c.a.createElement("div",{className:"ImageUploader"},c.a.createElement("div",{className:"ImageUploadSpace"},u.map(function(e,a){return c.a.createElement("div",{className:"ImageUploadFrame",key:a,"data-fileId":a},c.a.createElement("input",{className:"FileUpload__Input MyWacai-File-Uploader ".concat(e?"FileUpload--Transparent":""),type:"file",name:"file",onChange:E}),e&&c.a.createElement("div",{className:"FileUpload__Name"},c.a.createElement("div",null,e.name)))}))),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement("div",{className:"SubmitButton Button"},"Submit"),c.a.createElement("div",{className:"CancelButton Button"},"Cancel")))}),ne=t(10),ce=t(41),ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var oe=t(17),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECT_ITEM":return a.item.date||(a.item.date=D()),Object(p.a)({},e,{pageIndex:"MAIN",selectedItem:a.item});case"RESET_SELECTED_ITEM":return Object(p.a)({},e,{selectedItem:null});case"CREATE_ITEM":var t=function(){var e=new Date,a=e.getDay(),t="\u5468\u672b",n="\u665a\u9910";if(0===a||6===a){t="\u5468\u672b";var c=e.getHours();c<=10?n="\u65e9\u9910":c<15&&c>10?n="\u5348\u9910":c<20&&c>16&&(n="\u665a\u9910")}return{category:t,subcategory:n}}(),n=t.category,c=t.subcategory;return Object(p.a)({},e,{selectedItem:{category:n,subcategory:c,date:D(),amount:0}});case"CHANGE_TO_CATEGORY_SELECTION":return Object(p.a)({},e,{pageIndex:"CATEGORY_SELECTION",selectedCatGroup:a.selectedCatGroup||{}});case"CHANGE_TO_MAIN":return Object(p.a)({},e,{pageIndex:"MAIN",updatedCatGroup:a.updatedCatGroup||{}});case"CATEGORY_SELECTION_DONE":var i="";return i=e.selectedItem?"MAIN":"FIN_TEMPLATE_LIST",Object(p.a)({},e,{pageIndex:i,updatedCatGroup:a.updatedCatGroup||{}});case"CHANGE_TO_FIN_HISTORY":return Object(p.a)({},e,{pageIndex:"FIN_HISTORY"});case"RESET_UPDATED_CAT_GROUP":return Object(p.a)({},e,{updatedCatGroup:{}});case"CHANGE_TO_FIN_TEMPLATE_LIST":return Object(p.a)({},e,{pageIndex:"FIN_TEMPLATE_LIST",isCreatingTemplate:!1});case"CREATE_TEMPLATE":return Object(p.a)({},e,{isCreatingTemplate:!0});case"OPEN_SEARCH_FIN_MODE":return Object(p.a)({},e,{pageIndex:"SEARCH_FIN_ITEM"});case"APP_LOADING":return Object(p.a)({},e,{isAppLoading:!0});case"APP_LOADED":return Object(p.a)({},e,{isAppLoading:!1});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MESSAGE":return Object(p.a)({},e,{notificationType:a.notificationType,notificationMsg:a.message});case"RESET_MESSAGE":return Object(p.a)({},e,{notificationType:"",notificationMsg:""});default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_SUCCESS":return Object(p.a)({},e,{loginStatus:!0});case"TOKEN_INVALID":return Object(p.a)({},e,{loginStatus:!1});default:return e}},ue=t(20),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SEARCH_FIN_RESULTS_LOADED":return Object(p.a)({},e,{finItems:a.finItems||[]});case"SET_ADVANCE_SEARCH_PARAM":var t=e.searchParams||{},n=a.itemType,c=a.itemValue;return Object(p.a)({},e,{searchParams:Object.assign({},Object(p.a)({},t,Object(ue.a)({},n,c)))});default:return e}},Ee=Object(oe.b)({fin:le,notification:se,login:me,search:de}),ve=(t(108),function(e){var a=e.loginSuccessCallback,t=Object(n.useState)(""),i=Object(o.a)(t,2),r=i[0],l=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{className:"LoginContainer"},c.a.createElement("div",{className:"UsernameInput"},c.a.createElement("div",{className:"Username-Image"},c.a.createElement("input",{type:"input",placeholder:"\u7528\u6237\u540d",onChange:function(e){l(e.target.value)},value:r}))),c.a.createElement("div",{className:"PasswordInput"},c.a.createElement("div",{className:"Password-Image"},c.a.createElement("input",{type:"password",placeholder:"\u5bc6\u7801",onChange:function(e){E(e.target.value)},value:d}))),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement("div",{className:"SubmitButton",onClick:function(){if(r&&d){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_COOKIE_NAME:"DAVID_FIN",REACT_APP_USERNAME:"wanderyt",REACT_APP_PASSWORD:"password"}).REACT_SERVER_API_HOST||"";m.a.post("".concat(e,"/api/user/login"),{data:{username:r,password:d}}).then(function(){a&&a()})}}},"\u767b\u5f55"))))}),pe=(t(109),Object(l.b)(function(e){return{loginStatus:(e.login||{}).loginStatus}})(function(e){var a=e.loginStatus,t=e.dispatch,i=e.children,r=function(){t({type:"LOGIN_SUCCESS"})};return Object(n.useEffect)(function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_COOKIE_NAME:"DAVID_FIN",REACT_APP_USERNAME:"wanderyt",REACT_APP_PASSWORD:"password"}).REACT_SERVER_API_HOST||"";void 0===a&&m.a.get("".concat(e,"/api/user/validateToken")).then(function(){r()},function(){t({type:"TOKEN_INVALID"})})},[]),void 0===a?null:c.a.createElement("div",{className:"LoginProvider"},a?i:c.a.createElement("div",{className:"App-Login"},c.a.createElement(ve,{loginSuccessCallback:r})))})),fe=Object(oe.c)(Ee,{fin:{pageIndex:"MAIN"}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(ne.e)(function(e){var a=e.location,t=void 0===a?{pathname:""}:a;return c.a.createElement(c.a.Fragment,null,t.pathname.indexOf("fileUploader")>-1?c.a.createElement(te,null):c.a.createElement(ee,null))});r.a.render(c.a.createElement(l.a,{store:fe},c.a.createElement(pe,null,c.a.createElement(ce.a,null,c.a.createElement(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne.a,{exact:!0,path:"/",component:ee,key:"App"}),c.a.createElement(ne.a,{path:"/fileUploader",component:te,key:"FileUploader"}))},null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("","/service-worker.js");ie?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):re(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):re(a,e)})}}()}]),[[42,1,2]]]);
//# sourceMappingURL=main.9491ef39.chunk.js.map