{"version":3,"sources":["modules/loading-state/fin-list-item.js","modules/loading-state/day-expense.js","modules/fin-item/index.js","modules/fin-main/index.js","modules/fin-com-cat-item/index.js","modules/search-dropdown/index.js","modules/popup-buttons/index.js","modules/dropdown-list/index.js","modules/calculator/index.js","modules/hash-tag/hash-tag-item.js","modules/hash-tag/index.js","modules/modal-mask/index.js","modules/checkbox/index.tsx","modules/comment-hint-dialog/index.tsx","context/CommentContext.tsx","context/TagContext.tsx","modules/fin-item-details/config.js","utils/helper.ts","modules/fin-item-details/util.js","modules/fin-item-details/index.js","modules/header-toolbar/index.js","modules/fin-cat-subcat/index.js","modules/fin-item-list/day-expense.js","modules/fin-item-list/month-expense.js","modules/bottom-button-group/index.js","modules/fin-item-list/index.js","modules/fin-template-list/template-toolbar.js","modules/fin-template-list/fin-template-item.js","modules/fin-template-list/create-template.js","modules/fin-template-list/index.js","modules/autoupdate-number/index.js","modules/notification/index.js","modules/search-box/index.js","modules/search-fin-item/search-fin-item-by-month.js","modules/search-fin-item/search-fin-item-list.js","modules/search-fin-item/advance-search-item.js","modules/multi-selection/index.js","modules/search-fin-item/advance-search-option-panel.js","modules/search-fin-item/advance-search-config.js","modules/search-fin-item/advance-search.js","modules/search-fin-item/index.js","modules/loading/index.js","App.js","modules/file-uploader/index.js","serviceWorker.js","reducers/fin.js","reducers/notification.js","reducers/login.js","reducers/search.js","reducers/index.js","modules/login/index.js","modules/login/login-provider.js","index.js"],"names":["FinListItem","react_default","a","createElement","className","DayExpense","Fragment","loading_state_fin_list_item","connect","_ref","item","isLoading","_ref$dayMode","dayMode","_ref$isLast","isLast","dispatch","category","subcategory","date","amount","comment","isScheduled","onClick","type","concat","substring","parseFloat","toFixed","items","map","index","key","modules_fin_item","FinComCatItem","_ref$onClickHandler","onClickHandler","SearchDropdown","_ref$optionList","optionList","options","filterFunction","_ref$placeholder","placeholder","onChangeCallback","_ref$defaultValue","defaultValue","_ref$searchOptions","searchOptions","_useState","useState","_useState2","Object","slicedToArray","value","setValue","_useState3","_useState4","validOptions","setValidOptions","_useState5","_useState6","isFocused","setIsFocused","useEffect","dropdownClickHandler","evt","classes","target","getAttribute","indexOf","document","addEventListener","removeEventListener","handleOptionSelection","curValue","innerText","onChange","newOptions","slice","length","option","defaultProps","PopupButtons","_ref$buttons","buttons","_ref$cancelHandler","cancelHandler","buttonItem","clickHandler","name","DropdownList","_ref$defaultSelectedV","defaultSelectedValue","_ref$items","_ref$customizeItemCli","customizeItemClickHandler","_ref$isDisabled","isDisabled","isOpen","setIsOpen","selectedValue","setSelectedValue","handleItemClick","Calculator","_ref$confirmCallback","confirmCallback","operator","setOperator","lastOperand","setLastOperand","_useState7","_useState8","isOperating","setIsOperating","handleOperand","stopPropagation","calculateOutput","handleNumber","number","checkDigits","num","Math","floor","result","HashTagItem","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleSelection","currState","state","isSelected","setState","tag","nextProps","_this$props$tag","React","Component","HashTagManagement","_ref$tags","tags","_ref$selectedTags","selectedTags","toggleTagSelection","hash_tag_hash_tag_item","ModalMask","modalMaskCls","extraCls","children","Checkbox","disabled","_ref$className","_ref$defaultChecked","defaultChecked","checked","setChecked","CommentHintDialog","closeCallback","successCallback","_ref$commentKeyWord","commentKeyWord","_useMemo","useMemo","placeList","categoryGroupList","_ref2","place","push","categoryString","_useMemo2","selectedPlace","setSelectedPlace","selectedCategory","setSelectedCategory","isPlaceConfirmed","setIsPlaceConfirmed","isCategoryConfirmed","setIsCategoryConfirmed","modules_modal_mask","modules_dropdown_list","src_modules_checkbox","_selectedCategory$spl","split","_selectedCategory$spl2","assign","CommentContext","createContext","CommentProvider","setIsLoading","commentOptions","setCommentOptions","placeOptions","setPlaceOptions","commentFullInfoOptions","setCommentFullInfoOptions","Axios","get","then","data","commentsResponse","comments","forEach","Provider","TagContext","TagProvider","setTags","responseData","comCatItems","padZero","day","formatDate","year","month","arguments","undefined","validDatePart","join","formatDateObject","dateObj","getFullYear","getMonth","getDate","formatDateTime","Date","hour","getHours","minute","getMinutes","second","getSeconds","uuid","s","i","substr","random","commentFilterFn","filter","toLowerCase","sort","reverse","placeFilterFn","scheduleModeItems","FinItemDetails","_ref$item","city","_ref$updatedCatGroup","updatedCatGroup","objectSpread","latestItem","setLatestItem","setSelectedTags","deleteScheduledPopupStatus","setDeleteScheduledPopupStatus","updateScheduledPopupStatus","setUpdateScheduledPopupStatus","_useState9","_useState10","calculatorStatus","setCalculatorStatus","_useState11","_useState12","commentHintDialogStatus","setCommentHintDialogStatus","isUpdate","id","amountInputRef","useRef","tagInputRef","_useCommentContext","context","useContext","console","log","useCommentContext","basicTagList","useTagContext","_useState13","_useState14","tagList","setTagList","_useState15","_useState16","filteredTagList","setFilteredTagList","handleCommonCatClick","handleSaveButton","_ref5","_ref5$repeatRecord","repeatRecord","isInvalid","_ref4","errorMsg","validateFinItem","notificationType","message","requestUrl","post","current","popupButtonsCancelHandler","deleteScheduledPopupButtons","delete","_ref7","response","status","now","scheduleId","_ref8","updateScheduledPopupButtons","scheduledId","DateTime_default","replace","newDate","newDateString","format","inputProps","newItem","newScheduleMode","currentItem","selectedCatGroup","ref","onFocus","onBlur","newAmount","Number","isNaN","modules_calculator","comItem","modules_fin_com_cat_item","modules_search_dropdown","newValue","triggerHint","_ref6","currInput","newTag","toConsumableArray","modules_hash_tag","newSelectedTags","splice","modules_popup_buttons","modules_comment_hint_dialog","_ref3","fin","CommentContext_CommentProvider","TagContext_TagProvider","fin_item_details_FinItemDetails","closeHandler","_ref$hasSearch","hasSearch","_ref$barTitle","barTitle","searchHandler","_ref$selectedCatGroup","selectedCat","setSelectedCat","categoryGroups","setCategoryGroups","categoryGroupData","modules_header_toolbar","keys","cat","handleCatClick","isCommon","_ref$date","_ref$amount","getDay","weekdayMapping","_ref$month","_ref$year","_ref$barWidthRatio","barWidthRatio","_ref$dayItems","dayItems","expanded","setExpanded","dailyDetails","setDailyDetails","isDailyDetailsLoading","setIsDailyDetailsLoading","barWidth","setTimeout","style","width","loading_state_day_expense","dayItem","modules_fin_item_list_day_expense","goToMainPage","isExpanded","_ref$goToMainPage","scrollIntoViewRef","buttonExpanded","setbuttonExpanded","scrollIntoView","behavior","block","historyExpense","setHistoryExpense","btnExpanded","setBtnExpanded","headerEl","monthItem","fin_item_list_month_expense","highestMonthAmount","modules_bottom_button_group","isCreatingTemplate","template","setTemplate","templates","setTemplates","fin_template_list_template_toolbar","fin_template_list_create_template","fin_template_list_fin_template_item","AutoUpdateNumber","total","_ref$start","start","_ref$duration","duration","computeInitialNumber","currentVal","setCurrentVal","step","currentStep","interval","setInterval","clearInterval","_ref$errorTimeout","errorTimeout","addAnimation","setAddAnimation","_ref$customStyles","customStyles","_ref$advancedSearchHa","advancedSearchHanlder","searchString","setSearchString","finItems","SearchFinItemByMonth","transformedDayItems","itemDate","translateDayItems","SearchFinItemList","_ref$finItems","values","expense","translateFinItems","search_fin_item_by_month","searchParams","search","Comp","_ref$formatter","formatter","isSelectionPanelOpen","setIsSelectionPanelOpen","react","currentValue","submitHandler","itemType","itemValue","setSelectionValue","MultiSelection","_ref$defaultSelection","defaultSelection","_ref$validSeletions","validSeletions","_ref$handleSelection","handleSelection","selections","setSelections","onCheckChange","selectionItem","tempSelections","uncheckedItemIndex","selection","SelectionPanelButtonGroup","_ref$enableSubmitButt","enableSubmitButton","_ref$enableCancelButt","enableCancelButton","_ref$submitHandler","CategorySelectionPanel","_ref3$currentValue","_ref3$submitHandler","_ref3$cancelHandler","setCategory","subCategory","setSubCategory","categoryGroup","setCategoryGroup","isSubCategoryDisabled","setIsSubCategoryDisabled","categories","setCategories","subCategories","setSubCategories","validCategories","unshift","categoryDataProcessor","defaultSubCategories","alternateSubCategories","advance_search_option_panel_SelectionPanelButtonGroup","AmountRangeSelectionPanel","_ref6$currentValue","_ref6$submitHandler","_ref6$cancelHandler","amountRanges","setAmountRanges","minAmount","maxAmount","tmpAmountRanges","onMinAmountChange","onMaxAmountChange","amountRangeRemover","ADVANCE_SEARCH_ITEMS","comp","_ref8$currentValue","_ref8$submitHandler","_ref8$cancelHandler","_useState17","_useState18","selectedDateRange","setSelectedDateRange","_useState19","_useState20","isFreeDateRangeEnabled","setIsFreeDateRangeEnabled","_useState21","minDate","_useState22","customStartDate","setCustomStartDate","_useState23","_useState24","startDateStatus","setStartDateStatus","_useState25","maxDate","_useState26","customEndDate","setCustomEndDate","_useState27","_useState28","endDateStatus","setEndDateStatus","daysInMonth","getThisWeek","diff","dateRangeOptions","getLastSeason","getLastMonth","getLastWeek","input","newStartDate","timeFormat","newEndDate","dateRange","_ref9","_ref9$currentValue","_ref9$submitHandler","_ref9$cancelHandler","_useState29","_useState30","validCities","setValidCities","_useState31","_useState32","selectedCities","setSelectedCities","_ref10","cities","modules_multi_selection","_ref2$currentValue","_ref2$submitHandler","_ref2$cancelHandler","keyword","setKeyword","_ref11","_ref11$currentValue","_ref11$submitHandler","_ref11$cancelHandler","_useState33","_useState34","validTags","setValidTags","_useState35","_useState36","_ref12","params","Array","isArray","JSON","stringify","searchLoading","search_fin_item_advance_search_item","advancedSearchStatus","setAdvancedSearchStatus","searchBoxStyles","position","top","transform","openAdvancedSearchPanel","modules_search_box","search_fin_item_search_fin_item_list","search_fin_item_advance_search","Loading","height","selectedItem","pageIndex","isAppLoading","notification","notificationMsg","monthTotal","setMonthTotal","weekTotal","setWeekTotal","dayTotal","setDayTotal","fill","finList","setFinList","_data$monthTotal","_data$weekTotal","_data$dayTotal","src_modules_notification","modules_loading","modules_search_fin_item","modules_fin_cat_subcat","fin_item_list","modules_fin_template_list","window","location","reload","autoupdate_number","modules_fin_item_details","modules_fin_main","defaultFiles","username","setUsername","files","setFiles","handleFileUpload","file","fileId","parentElement","FormData","append","fileUploadRequest","resp","err","idx","data-fileId","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","action","_getPreselectedCatego","hours","getPreselectedCategories","targetPage","login","loginStatus","curSearchParams","defineProperty","reducers","combineReducers","Login","loginSuccessCallback","password","setPassword","API_HOST","process","REACT_SERVER_API_HOST","handleLoginSuccess","src_modules_login","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","withRouter","_ref$location","pathname","modules_file_uploader","src_App_0","ReactDOM","render","es","login_login_provider","react_router_dom","react_router","path","component","FileUploader","exact","App","getElementById","URL","href","origin","fetch","contentType","headers","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.86c34a5d.chunk.js","sourcesContent":["import React from 'react';\nimport './fin-list-item.scss';\n\nconst FinListItem = () => {\n  return (\n    <div className='FinListItem--LoadingState'>\n      <div className='FinListItem--Left'>\n        <div className='FinListItem__Cat'>\n          <div className='LoadingState' />\n        </div>\n        <div className='FinListItem__Date'>\n          <div className='LoadingState' />\n        </div>\n        <div className='FinListItem__Comment'>\n          <div className='LoadingState' />\n        </div>\n      </div>\n      <div className='FinListItem--Right'>\n        <div className='FinListItem--Amount'>\n          <div className='LoadingState' />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FinListItem;\n","import React from 'react';\nimport FinListItem from './fin-list-item';\n\nimport './day-expense.scss';\n\nconst DayExpense = () => {\n  return (\n    <React.Fragment>\n      <div className='DayExpense--Loading'>\n        <div className='DayInfo'>\n          <div className='LoadingState'></div>\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              <div className='LoadingState'></div>\n            </div>\n            <div className='DayExpenseAmount'>\n              <div className='LoadingState'></div>\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            <FinListItem />\n            <FinListItem />\n          </div>\n        </div>\n      </div>\n      <div className='DayExpense--Loading'>\n        <div className='DayInfo'>\n          <div className='LoadingState'></div>\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              <div className='LoadingState'></div>\n            </div>\n            <div className='DayExpenseAmount'>\n              <div className='LoadingState'></div>\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            <FinListItem />\n            <FinListItem />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default DayExpense;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {FinListItemLoadingState} from '../loading-state';\n\nimport './index.scss';\n\nconst FinItem = ({item, isLoading, dayMode = false, isLast = false, dispatch}) => {\n  const {category, subcategory, date, amount, comment, isScheduled} = item;\n\n  const selectItem = () => {\n    dispatch({\n      type: 'SELECT_ITEM',\n      item\n    });\n  };\n\n  return (\n    <div className='FinItemPanel forbid-select'\n      onClick={selectItem}>\n      <div className={`FinItem ${isLast ? '' : 'FinItem-Border'}`}>\n        {\n          isLoading ?\n            <FinListItemLoadingState />\n            :\n            <React.Fragment>\n              <div className='Fin-Left'>\n                <div className='Fin-SubCat'>{category} - {subcategory}</div>\n                <div className='Fin-Info Fin-Date'>\n                  <span>\n                    {dayMode ? date.substring(11) : date}\n                  </span>\n                </div>\n                <div className='Fin-Info Fin-Comment'>\n                  {\n                    isScheduled && <span className='Fin-IsScheduled'>周期</span>\n                  }\n                  <span>{comment}</span>\n                </div>\n              </div>\n              <div className='Fin-Right'>\n                <span className='Fin-Amount'>{parseFloat(amount).toFixed(2)}</span>\n              </div>\n            </React.Fragment>\n        }\n      </div>\n    </div>\n  );\n};\n\nFinItem.propTypes = {\n  item: PropTypes.object\n};\n\nexport default connect()(FinItem);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport FinItem from '../fin-item';\n\nimport './index.scss';\n\nconst FinMain = ({isLoading, items, dispatch}) => {\n  const handleCreateItem = () => {\n    dispatch({type: 'CREATE_ITEM'});\n  }\n  const handleCreateByTemplate = () => {\n    dispatch({type: 'CHANGE_TO_FIN_TEMPLATE_LIST'});\n  }\n  return (\n    <div className='FinMain'>\n      <div className='App-Toolbar'>\n        <div className='App-Toolbtn'>\n          <div\n            className={`App-Btn forbid-select App-CreateItem`}\n            onClick={handleCreateItem}>\n            记一笔\n          </div>\n          <div\n            className={`App-Btn forbid-select App-CreateFast`}\n            onClick={handleCreateByTemplate}>\n            速记\n          </div>\n        </div>\n      </div>\n      <div className='App-Container'>\n        <div className='App-FinList'>\n          {\n            items.map((item, index) => {\n              return (\n                <div key={index}>\n                  {\n                    <FinItem isLoading={isLoading} item={item} />\n                  }\n                </div>\n              );\n            })\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(FinMain);\n","import React from 'react';\n\nimport './index.scss';\n\nconst FinComCatItem = ({category, subcategory, onClickHandler = () => void 0}) => {\n  return (\n    <div\n      className='FinComCatItem'\n      onClick={() => onClickHandler(category, subcategory)}>\n      <span className='SubCat-Name'>{subcategory}</span>\n    </div>\n  );\n};\n\nexport default FinComCatItem;\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {options} from './mockOptions.json';\n\nimport './index.scss';\n\nconst SearchDropdown = ({optionList = options, filterFunction, placeholder = '', onChangeCallback, defaultValue = '', searchOptions = 5}) => {\n  const [value, setValue] = useState(defaultValue);\n  const [validOptions, setValidOptions] = useState([]);\n  const [isFocused, setIsFocused] = useState(false);\n\n  useEffect(() => {\n    setValue(defaultValue);\n    const dropdownClickHandler = (evt) => {\n      const classes = evt.target.getAttribute('class') || '';\n      if (classes.indexOf('InputField') < 0 && classes.indexOf('OptionContainer') < 0) {\n        setIsFocused(false);\n        setValidOptions([]);\n      }\n    }\n    document.addEventListener('click', dropdownClickHandler);\n\n    return () => {\n      document.removeEventListener('click', dropdownClickHandler);\n    }\n  }, [defaultValue]);\n\n  const handleInputChange = (evt) => {\n    const curValue = evt.target.value;\n    // const newOptions = optionList.filter((option) => option.toLowerCase().indexOf(curValue.toLowerCase()) > -1);\n    const newOptions = filterFunction(optionList, curValue) || [];\n    setIsFocused(true);\n    setValue(curValue);\n    setValidOptions(curValue ? newOptions.slice(0, searchOptions) : []);\n    onChangeCallback && onChangeCallback(curValue, false);\n  }\n\n  const handleOptionSelection = (evt) => {\n    const curValue = evt.target.innerText;\n    setValue(curValue);\n    setValidOptions([]);\n    onChangeCallback && onChangeCallback(curValue, true);\n  }\n\n  return (\n    <div className='SearchDropdown'>\n      <div className={`Dropdown-Input ${isFocused ? 'SearchDropdown-Focused': ''}`}>\n        <div className='Dropdown-SearchImage'>\n          <input\n            className='InputField'\n            placeholder={placeholder}\n            type='input'\n            onChange={handleInputChange}\n            value={value} />\n          </div>\n      </div>\n      <div className={`OptionList ${isFocused ? 'SearchDropdown-Focused': ''}`}>\n        {\n          validOptions && validOptions.length > 0 && validOptions.map((option, index) => (\n            <div\n              key={index}\n              className='OptionContainer'\n              onClick={handleOptionSelection}>\n              <div className='Option'>\n                {option}\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nSearchDropdown.propTypes = {\n  optionList: PropTypes.array,\n  filterFunction: PropTypes.func,\n  placeholder: PropTypes.string,\n  onChangeCallback: PropTypes.func,\n  defaultValue: PropTypes.string,\n  searchOptions: PropTypes.number,\n};\n\nSearchDropdown.defaultProps = {\n  filterFunction: () => void 0\n};\n\nexport default SearchDropdown;\n","import React from 'react';\n\nimport './index.scss';\n\nconst PopupButtons = ({buttons = [], cancelHandler = () => void 0}) => {\n\n  const defaultCancelHandler = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='PopupButtons'>\n      <div className='PopupButtons--CustomItems'>\n        {\n          buttons.map((buttonItem, index) => (\n            <div\n              key={index}\n              className='PopupButton--Item'\n              onClick={buttonItem.clickHandler}>\n              <span className='PopupButton--ItemTitle'>{buttonItem.name}</span>\n            </div>\n          ))\n        }\n      </div>\n      <div\n        key={buttons.length}\n        className='PopupButtons--CancelItem'\n        onClick={defaultCancelHandler}>\n        <span className='PopupButton--ItemTitle'>取消</span>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupButtons;\n","import React, { useState, useEffect } from 'react';\n\nimport './index.scss';\n\nconst DropdownList = ({defaultSelectedValue = '', items = [], customizeItemClickHandler = (item) => void 0, isDisabled = false}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedValue, setSelectedValue] = useState(defaultSelectedValue);\n\n  const toggleClickDropdownHeader = () => {\n    if (items.length === 1) {\n      return null;\n    }\n    setIsOpen(!isOpen && !isDisabled);\n  }\n\n  const handleItemClick = (item) => {\n    setIsOpen(false);\n    if (typeof item === 'string') {\n      setSelectedValue(item);\n    } else {\n      setSelectedValue(item.value);\n    }\n    customizeItemClickHandler(item);\n  }\n\n  useEffect(() => {\n    const dropdownClickHandler = (evt) => {\n      const classes = evt.target.getAttribute('class') || '';\n      if (classes.indexOf('DropdownList-Element') < 0) {\n        setIsOpen(false);\n      }\n    }\n    document.addEventListener('click', dropdownClickHandler);\n\n    return () => {\n      document.removeEventListener('click', dropdownClickHandler);\n    }\n  }, []);\n\n  return (\n    <div className={`DropdownList DropdownList-Element ${isOpen ? 'DropdownList--Open' : ''} ${isDisabled ? 'DropdownList--disabled' : ''}`}>\n      <div\n        className={`DropdownHeader DropdownList-Element ${isOpen ? 'DropdownHeader--Open' : ''}`}\n        onClick={toggleClickDropdownHeader}>\n        {selectedValue}\n      </div>\n      {\n        isOpen &&\n        <div className='DropdownPanel DropdownList-Element'>\n          {\n            items.map((item, index) => (\n              <div\n                className='DropdownList__Item DropdownList-Element'\n                key={item.key || index}\n                onClick={() => handleItemClick(item)}>\n                {item.value || item}\n              </div>\n            ))\n          }\n        </div>\n      }\n\n    </div>\n  );\n}\n\nexport default DropdownList;\n","import React, {useState} from 'react';\n\nimport './index.scss';\n\nconst Calculator = ({defaultValue = '0', confirmCallback = () => void 0}) => {\n  const [value, setValue] = useState(defaultValue);\n  const [operator, setOperator] = useState('0');\n  const [lastOperand, setLastOperand] = useState('');\n  const [isOperating, setIsOperating] = useState(false);\n\n  const handleOperand = (evt) => {\n    evt.stopPropagation();\n    // If previous input is operand (isOperating is true)\n    // do not calculate\n    // otherwise\n    // 1. calculate previous result\n    // 2. set current operand\n    // 3. set operating to be true\n    if (!isOperating) {\n      calculateOutput();\n      setLastOperand(evt.target.innerText);\n      setIsOperating(true);\n    }\n  }\n\n  const handleNumber = (evt) => {\n    evt.stopPropagation();\n    let number = evt.target.innerText;\n    let input;\n    // if previous input is operand (isOperating is true)\n    // 1. set current number to be operator\n    // 2. reinput the number\n    // 3. clear isOperating status\n    if (isOperating) {\n      setOperator(value);\n      input = '' + number;\n      setValue(input);\n      setIsOperating(false);\n    } else {\n      // otherwise, continue to input\n      input = value === '0' ? ('' + number) : (value + '' + number);\n      setValue(input);\n    }\n  }\n\n  const handlePoint = (evt) => {\n    evt.stopPropagation();\n    // if previous input is operand (isOperating is true)\n    // 1. set current number to be operator\n    // 2. reinput the number\n    // 3. clear isOperating status\n    let input;\n    if (isOperating) {\n      setOperator(value);\n      input = '0.';\n      setValue(input);\n      setIsOperating(false);\n    } else {\n      // otherwise, continue to input\n      input = value + '.';\n      setValue(input);\n    }\n  }\n\n  const checkDigits = (num) => {\n    // check whether it is decimal\n    if (Math.floor(num) === num) {\n      return num + '';\n    } else if (Math.floor(num * 10) === num * 10) {\n      return num.toFixed(1);\n    } else {\n      return num.toFixed(2);\n    }\n  }\n\n  const calculateOutput = () => {\n    let curValue = value;\n    switch (lastOperand) {\n      case '+':\n        curValue = parseFloat(operator) + parseFloat(value);\n        setValue(checkDigits(curValue));\n        break;\n      case '-':\n        curValue = parseFloat(operator) - parseFloat(value);\n        setValue(checkDigits(curValue));\n        break;\n      case '×':\n        curValue = parseFloat(operator) * parseFloat(value);\n        setValue(checkDigits(curValue));\n        break;\n      case '÷':\n        curValue = parseFloat(operator) / parseFloat(value);\n        setValue(checkDigits(curValue));\n        break;\n    }\n    setOperator('0');\n    return curValue;\n  }\n\n  const handleBackspace = (evt) => {\n    evt.stopPropagation();\n    setValue(value.slice(0, -1));\n  }\n\n  const handleClear = (evt) => {\n    evt.stopPropagation();\n    setValue('0');\n    setOperator('0');\n    setLastOperand('');\n  }\n\n  const handleEqual = (evt) => {\n    evt.stopPropagation();\n    calculateOutput();\n    // Reset all states\n    setLastOperand('');\n    setOperator('0');\n    setIsOperating(false);\n  }\n\n  const handleConfirm = (evt) => {\n    evt.stopPropagation();\n    let result = calculateOutput();\n    confirmCallback(result);\n  }\n\n  return (\n    <div className='Calculator'>\n      <div className='NumberContainer'>{value}</div>\n      <div className='OperatorContainer'>\n        <div className='OperatorRow BasicOperators'>\n          <div className='OperatorItem Operand' onClick={handleOperand}>+</div>\n          <div className='OperatorItem Operand' onClick={handleOperand}>-</div>\n          <div className='OperatorItem Operand' onClick={handleOperand}>×</div>\n          <div className='OperatorItem Operand' onClick={handleOperand}>÷</div>\n        </div>\n        <div className='OperatorRow NumberPad-1'>\n          <div className='OperatorItem' onClick={handleNumber}>1</div>\n          <div className='OperatorItem' onClick={handleNumber}>2</div>\n          <div className='OperatorItem' onClick={handleNumber}>3</div>\n          <div className='OperatorItem Backspace' onClick={handleBackspace}></div>\n        </div>\n        <div className='OperatorRow NumberPad-4'>\n          <div className='OperatorItem' onClick={handleNumber}>4</div>\n          <div className='OperatorItem' onClick={handleNumber}>5</div>\n          <div className='OperatorItem' onClick={handleNumber}>6</div>\n          <div className='OperatorItem Operand Clear' onClick={handleClear}>C</div>\n        </div>\n        <div className='OperatorRow NumberPad-7'>\n          <div className='OperatorItem' onClick={handleNumber}>7</div>\n          <div className='OperatorItem' onClick={handleNumber}>8</div>\n          <div className='OperatorItem' onClick={handleNumber}>9</div>\n          <div className='OperatorItem Operand' onClick={handleEqual}>=</div>\n        </div>\n        <div className='OperatorRow NumberPad-0'>\n          <div className='OperatorItem OperatorItem--TwoSpan' onClick={handleNumber}>0</div>\n          <div className='OperatorItem' onClick={handlePoint}>.</div>\n          <div className='OperatorItem ConfirmBtn' onClick={handleConfirm}>确认</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Calculator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './hash-tag-item.scss';\n\nclass HashTagItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isSelected: props.isSelected\n    };\n  }\n\n  toggleSelection = () => {\n    const currState = this.state.isSelected;\n    this.setState({\n      isSelected: !currState\n    });\n\n    this.props.toggleSelection && this.props.toggleSelection(this.props.tag, !currState);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isSelected: nextProps.isSelected\n    });\n  }\n\n  render() {\n    const {tag = ''} = this.props;\n    const {isSelected} = this.state;\n\n    return (\n      <div className={`HashTagItem ${isSelected ? 'HashTagItem--Selected' : ''}`} onClick={this.toggleSelection}>\n        <div className='HashTag__Content'>\n          {tag}\n        </div>\n        <div className='HashTag__Flag' />\n      </div>\n    );\n  }\n}\n\nHashTagItem.propTypes = {\n  tag: PropTypes.string,\n  isSelected: PropTypes.bool\n};\n\nexport default HashTagItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport HashTagItem from './hash-tag-item';\n\nimport './index.scss';\n\nconst HashTagManagement = ({tags = [], selectedTags = [], toggleTagSelection}) => {\n  if (!tags || tags.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className='HashTagManagement'>\n      {\n        tags.map((tag, index) => {\n          return (\n            <div className='HashTag__Item'\n              key={index}>\n              <HashTagItem tag={tag} isSelected={selectedTags.indexOf(tag) > -1} toggleSelection={toggleTagSelection} />\n            </div>\n          );\n        })\n      }\n    </div>\n  );\n}\n\nHashTagManagement.propTypes = {\n  tags: PropTypes.array,\n  selectedTags: PropTypes.array,\n  toggleTagSelection: PropTypes.func\n};\n\nexport default HashTagManagement;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './index.scss';\n\n/**\n * A component that shows a modal mask over the entire screen. It uses RGBA as background color\n * so opacity is achieved without using the CSS opacity property, so that children are not affected. We\n * provide a default z-index of 9999, but that can be customized. All children provided will\n * be added as children of the component.\n *\n * Developers can modify this component to expose more things to be customized as needed.\n */\n\nclass ModalMask extends React.Component {\n  onClick = () => {\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  }\n\n  render() {\n    let modalMaskCls = 'ModalMask__container';\n\n    // Add any extra CSS class\n    if (this.props.extraCls) {\n      modalMaskCls += ' ' + this.props.extraCls;\n    }\n\n    return <div className={modalMaskCls} onClick={this.onClick}><div className='ModalMask__content'>{this.props.children}</div></div>;\n  }\n}\n\nModalMask.propTypes = {\n  extraCls: PropTypes.string,\n  onClick: PropTypes.func\n};\n\nModalMask.defaultProps = {\n  extraCls: ''\n};\n\nexport default ModalMask;\n","import React, {ChangeEvent, FC, useEffect, useState} from 'react';\nimport './index.scss';\n\ninterface Props {\n  disabled?: boolean;\n  onChange?: (evt: ChangeEvent) => void;\n  defaultChecked?: boolean;\n  className?: string\n};\n\nconst Checkbox: FC<Props> = ({disabled, onChange, className = '', defaultChecked = false}) => {\n  const [checked, setChecked] = useState<boolean>(defaultChecked);\n\n  useEffect(() => {\n    setChecked(defaultChecked);\n  }, [defaultChecked])\n\n  return (\n    <input\n      type=\"checkbox\"\n      disabled={disabled}\n      onChange={onChange}\n      checked={checked}\n      className={className}\n    />\n  );\n};\n\nexport default Checkbox;\n","import React, {useState, useMemo, FC} from 'react';\nimport ModalMask from '../modal-mask';\nimport DropdownList from '../dropdown-list';\nimport Checkbox from '../checkbox';\n\nimport './index.scss';\n\nconst CATEGORY_JOINT = ' - ';\n\ninterface OptionItem {\n  place: string;\n  category: string;\n  subcategory: string;\n  comment: string;\n};\n\ninterface ISuccessCallbackParam {\n  place?: string,\n  category?: string,\n  subcategory?: string\n};\n\ninterface ISuccessCallback {\n  (param: ISuccessCallbackParam) : void;\n}\n\ninterface Props {\n  closeCallback: () => void;\n  successCallback: ISuccessCallback;\n  optionList: Array<OptionItem>;\n  commentKeyWord: string;\n};\n\nconst CommentHintDialog : FC<Props> = ({closeCallback, successCallback, optionList = [], commentKeyWord = ''}) => {\n  const buildList = () => {\n    const placeList = [], categoryGroupList = [];\n    optionList.map(({place, category, subcategory, comment}) => {\n      if (commentKeyWord === comment) {\n        placeList.indexOf(place) < 0 && placeList.push(place);\n        const categoryString = `${category}${CATEGORY_JOINT}${subcategory}`;\n        categoryGroupList.indexOf(categoryString) < 0 && categoryGroupList.push(categoryString);\n      }\n    });\n    return [placeList, categoryGroupList];\n  };\n\n  const [placeList, categoryGroupList] = useMemo(buildList, [optionList, commentKeyWord]);\n  const [selectedPlace, setSelectedPlace] = useState(placeList[0]);\n  const [selectedCategory, setSelectedCategory] = useState(categoryGroupList[0]);\n  const [isPlaceConfirmed, setIsPlaceConfirmed] = useState<boolean>(true);\n  const [isCategoryConfirmed, setIsCategoryConfirmed] = useState<boolean>(true);\n\n  const placeSelectionHandler = (place) => {\n    setSelectedPlace(place);\n  };\n\n  const categorySelectionHandler = (category) => {\n    setSelectedCategory(category);\n  };\n\n  const confirmSelection = () => {\n    const [category, subcategory] = selectedCategory.split(CATEGORY_JOINT);\n    let result = {};\n    if (isPlaceConfirmed) {\n      result = Object.assign({}, {place: selectedPlace});\n    }\n    if (isCategoryConfirmed) {\n      result = Object.assign(result, {category, subcategory});\n    }\n    successCallback(result);\n  };\n\n  const checkPlaceChange = (evt) => {\n    setIsPlaceConfirmed(evt.target.checked);\n  };\n\n  const checkCategoryChange = (evt) => {\n    setIsCategoryConfirmed(evt.target.checked);\n  };\n\n  return (\n    <ModalMask>\n      <div className='CommentHintDialog'>\n        <div className='CommentHintDialog__Content'>\n          <div className='CommentHintDialog-Close' onClick={closeCallback} />\n          <div className='CommentHint__Title'>\n            <div className='Title'>Choose Details</div>\n          </div>\n          <div className='CommentHint__Content'>\n            <div className='CommentHint__Dropdown Place-DropdownList'>\n              <DropdownList\n                defaultSelectedValue={placeList[0]}\n                items={placeList}\n                customizeItemClickHandler={placeSelectionHandler} />\n              <Checkbox onChange={checkPlaceChange} defaultChecked={isPlaceConfirmed} />\n            </div>\n            <div className='CommentHint__Dropdown Category-DropdownList'>\n              <DropdownList\n                defaultSelectedValue={categoryGroupList[0]}\n                items={categoryGroupList}\n                customizeItemClickHandler={categorySelectionHandler} />\n              <Checkbox onChange={checkCategoryChange} defaultChecked={isCategoryConfirmed} />\n            </div>\n          </div>\n          <div className='CommentHint__Footer'>\n            <div className='MyWacai-Button ConfirmBtn' onClick={confirmSelection}>确定</div>\n            <div className='MyWacai-Button CancelBtn' onClick={closeCallback}>取消</div>\n          </div>\n        </div>\n      </div>\n    </ModalMask>\n  );\n};\n\nCommentHintDialog.defaultProps = {\n  closeCallback: () => void 0,\n  successCallback: () => void 0,\n  optionList: []\n};\n\nexport default CommentHintDialog;\n","import React, { FC, useEffect, useState } from 'react';\nimport Axios from 'axios';\n\ninterface ICommentOption {\n  comment: string;\n  date: string;\n};\n\ninterface ICommentFullInfoOption {\n  comment: string;\n  category: string;\n  subcategory: string;\n  place: string;\n};\n\ninterface ICommentContext {\n  commentOptions: Array<ICommentOption>;\n  placeOptions: Array<string>;\n  commentFullInfoOptions: Array<ICommentFullInfoOption>;\n};\n\nconst CommentContext = React.createContext<ICommentContext>(null);\n\nconst useCommentContext = () => {\n  const context = React.useContext(CommentContext);\n\n  if (!context) {\n    // dispatch({\n    //   type: 'SET_MESSAGE',\n    //   notificationType: 'error',\n    //   message: '评论未成功获取'\n    // });\n    console.log('comments are not fetched!');\n  }\n\n  return context || {};\n};\n\nconst CommentProvider: FC<{}> = ({children}) => {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [commentOptions, setCommentOptions] = useState<Array<ICommentOption>>(null);\n  const [placeOptions, setPlaceOptions] = useState<Array<string>>();\n  const [commentFullInfoOptions, setCommentFullInfoOptions] = useState<Array<ICommentFullInfoOption>>();\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getAllCommentWithOptions')\n      .then(({data}) => {\n        let commentsResponse = data.data.comments || [];\n        let placeOptions = [];\n        commentsResponse.forEach((option) => {\n          placeOptions.push(option.comment);\n        });\n        setCommentOptions(commentsResponse);\n        setPlaceOptions(placeOptions);\n        setCommentFullInfoOptions(data.data.options || []);\n        setIsLoading(false);\n      });\n  }, []);\n\n  return (\n    !isLoading ?\n      <CommentContext.Provider value={{\n        commentOptions,\n        placeOptions,\n        commentFullInfoOptions\n      }}>{children}</CommentContext.Provider>\n      :\n      null\n  );\n};\n\nexport {\n  CommentProvider,\n  useCommentContext,\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport Axios from 'axios';\n\nconst TagContext = React.createContext<Array<string>>(null);\n\nconst useTagContext = () => {\n  const context = React.useContext(TagContext);\n\n  if (!context) {\n    // dispatch({\n    //   type: 'SET_MESSAGE',\n    //   notificationType: 'error',\n    //   message: '标签未成功获取'\n    // });\n    console.log('tags are not fetched!');\n  }\n\n  return context || {};\n};\n\nconst TagProvider: FC<{}> = ({children}) => {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [tags, setTags] = useState<Array<string>>(null);\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getAllTags')\n      .then(({data}) => {\n        let responseData = data.data || [];\n        setTags(responseData);\n        setIsLoading(false);\n      });\n  }, []);\n\n  return (\n    !isLoading ?\n      <TagContext.Provider value={tags}>{children}</TagContext.Provider>\n      :\n      null\n  );\n};\n\nexport {\n  TagProvider,\n  useTagContext,\n};\n","export const comCatItems = [{\n  category: '交通',\n  subcategory: '打车'\n}, {\n  category: '生活',\n  subcategory: '水电煤气'\n}, {\n  category: '骐骐',\n  subcategory: '玩具'\n}, {\n  category: '生活',\n  subcategory: '生活用品'\n}, {\n  category: '周末',\n  subcategory: '晚餐'\n}, {\n  category: '周末',\n  subcategory: '午餐'\n}];","const padZero = (day) => {\n  if (day < 10) {\n    return `0${day}`;\n  } else {\n    return `${day}`;\n  }\n};\n\nconst formatDate = (year, month = 1, day = 1) => {\n  let validDatePart = [];\n  validDatePart.push(year);\n  validDatePart.push(padZero(month));\n  validDatePart.push(padZero(day));\n  return validDatePart.join('-');\n}\n\nconst formatDateObject = (dateObj) => {\n  let validDatePart = [];\n  validDatePart.push(dateObj.getFullYear());\n  validDatePart.push(padZero(dateObj.getMonth() + 1));\n  validDatePart.push(padZero(dateObj.getDate()));\n  return validDatePart.join('-');\n}\n\nconst formatDateTime = (date = new Date()) => {\n  let year = date.getFullYear();\n  let month = date.getMonth();\n  let day = date.getDate();\n  let hour = date.getHours();\n  let minute = date.getMinutes();\n  let second = date.getSeconds();\n\n  return `${year}-${padZero(month + 1)}-${padZero(day)} ${padZero(hour)}:${padZero(minute)}:${padZero(second)}`;\n};\n\nconst formatMonth = (date = new Date()) => {\n  let year = date.getFullYear();\n  let month = date.getMonth();\n\n  return `${year}-${padZero(month + 1)}`;\n};\n\nconst uuid = () => {\n  let s = [];\n  let hexDigits = \"0123456789ABCDEF\";\n  for (let i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n  s[8] = s[13] = s[18] = s[23] = \"-\";\n\n  let uuid = s.join(\"\");\n  return uuid;\n}\n\n/**\n * Get preselected category / subcategory/\n * Support weekend presetting\n * @returns {object} category group - {category, subcategory}\n */\nconst getPreselectedCategories = () => {\n  let now = new Date();\n  let day = now.getDay(); // [0 - 6], [Sunday - Saturday]\n  let category = '周末', subcategory = '晚餐';\n  if (day === 0 || day === 6) {\n    category = '周末';\n    let hours = now.getHours();\n    if (hours <= 10) {\n      subcategory = '早餐';\n    } else if (hours < 15 && hours > 10) {\n      subcategory = '午餐';\n    } else if (hours < 20 && hours > 16) {\n      subcategory = '晚餐';\n    }\n  }\n\n  return {\n    category,\n    subcategory\n  };\n}\n\nexport {\n  padZero,\n  formatDateTime,\n  formatMonth,\n  uuid,\n  formatDate,\n  formatDateObject,\n  getPreselectedCategories\n};","/**\n * Rebuild comment full info options\n * @param {array} options - comment full info options\n * @param {string} options[0].comment - comment\n * @param {string} options[0].category - category\n * @param {string} options[0].subcategory - subcategory\n * @param {string} options[0].place - place\n */\nconst restructureCommentOptions = (options = []) => {\n  const result = {};\n  options.forEach((option) => {\n    if (result[option.comment]) {\n      result[option.comment].push({\n        category: option.category,\n        subcategory: option.subcategory,\n        place: option.place,\n      });\n    } else {\n      result[option.comment] = [{\n        category: option.category,\n        subcategory: option.subcategory,\n        place: option.place,\n      }];\n    }\n  })\n  return result;\n};\n\n/**\n * Filter comment for search dropdown\n * @param {array} options - comment option list\n * @param {string} options[0].comment - comment option\n * @param {string} options[0].date - date for each place\n * @param {string} value - current value\n * @param {number} num - filter list count, default to 3\n */\nconst commentFilterFn = (options = [], value = '', num = 3) => {\n  let validList = options.filter((option) => option.comment.toLowerCase().indexOf(value.toLowerCase()) > -1) || [];\n  let result = validList.map((item) => item.date + 'dateComment' + item.comment).sort().reverse().map((item) => item.slice(item.indexOf('dateComment') + 11));\n  return result.slice(0, num);\n};\n\n/**\n * Filter place for search dropdown\n * @param {array} options - place option list\n * @param {string} options[0] - place option\n * @param {string} value - current value\n * @param {number} num - filter list count, default to 3\n */\nconst placeFilterFn = (options = [], value = '', num = 3) => {\n  let list = options.filter((option) => option.toLowerCase().indexOf(value.toLowerCase()) > -1) || [];\n  return list.slice(0, num);\n};\n\nexport {\n  restructureCommentOptions,\n  commentFilterFn,\n  placeFilterFn\n};\n","import React, {useState, useEffect, useRef} from 'react';\nimport FinComCatItem from '../fin-com-cat-item';\nimport SearchDropdown from '../search-dropdown';\nimport PopupButtons from '../popup-buttons';\nimport DateTime from 'react-datetime';\nimport DropdownList from '../dropdown-list';\nimport Calculator from '../calculator';\nimport HashTagManagement from '../hash-tag';\nimport CommentHintDialog from '../comment-hint-dialog';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport {CommentProvider, useCommentContext} from '../../context/CommentContext';\nimport {TagProvider, useTagContext} from '../../context/TagContext';\n\nimport {comCatItems} from './config';\nimport {uuid} from '../../utils/helper';\nimport {commentFilterFn, placeFilterFn} from './util';\n\nimport './index.scss';\n\nconst scheduleModeItems = [{\n  key: 0,\n  value: '非周期入账'\n}, {\n  key: 1,\n  value: '每天入账'\n}, {\n  key: 2,\n  value: '每周入账'\n}, {\n  key: 3,\n  value: '每月入账'\n}, {\n  key: 4,\n  value: '每年入账'\n}];\n\nconst DEFAULT_CITY = '上海';\n\nconst FinItemDetails = ({item = {amount: 0, city: DEFAULT_CITY}, updatedCatGroup = {}, dispatch}) => {\n  const [latestItem, setLatestItem] = useState({...item, ...updatedCatGroup});\n  const [selectedTags, setSelectedTags] = useState(item.tags ? item.tags.split(',') : []);\n  const [deleteScheduledPopupStatus, setDeleteScheduledPopupStatus] = useState(false);\n  const [updateScheduledPopupStatus, setUpdateScheduledPopupStatus] = useState(false);\n  const [calculatorStatus, setCalculatorStatus] = useState(false);\n  const [commentHintDialogStatus, setCommentHintDialogStatus] = useState(false);\n  const isUpdate = !!item.id;\n  const amountInputRef = useRef(null);\n  const tagInputRef = useRef(null);\n\n  const {commentOptions, placeOptions, commentFullInfoOptions} = useCommentContext();\n  const basicTagList = useTagContext();\n  const [tagList, setTagList] = useState(basicTagList);\n  const [filteredTagList, setFilteredTagList] = useState(basicTagList);\n\n  const handleBackBtn = () => {\n    dispatch({\n      type: 'RESET_SELECTED_ITEM',\n    });\n  }\n\n  const handleCommonCatClick = (category, subcategory) => {\n    setLatestItem(Object.assign({}, latestItem, {category, subcategory}));\n  }\n\n  const handleCommentChange = (newValue, triggerHint) => {\n    const isCommentValid = commentFullInfoOptions.filter(({comment}) => comment === newValue).length > 0;\n    if (isCommentValid && triggerHint) {\n      setCommentHintDialogStatus(true);\n    }\n    setLatestItem(Object.assign({}, latestItem, {comment: newValue}));\n  }\n\n  const toggleCommentHintDialogStatus = () => {\n    setCommentHintDialogStatus(!commentHintDialogStatus);\n  };\n\n  const saveCommentHintResult = ({place, category, subcategory}) => {\n    const result = {};\n    if (place) {\n      result.place = place;\n    }\n\n    if (category && subcategory) {\n      result.category = category;\n      result.subcategory = subcategory;\n    }\n\n    setLatestItem(Object.assign({}, latestItem, result));\n    setCommentHintDialogStatus(false);\n  };\n\n  const handleDateTimeChange = (newDate) => {\n    let newDateString = newDate.format('YYYY-MM-DD hh:mm:ss');\n    setLatestItem(Object.assign({}, latestItem, {date: newDateString}));\n  }\n\n  const handleScheduleModeChange = (newItem) => {\n    let newScheduleMode = newItem.key;\n    setLatestItem(Object.assign({}, latestItem, {isScheduled: newScheduleMode}));\n  }\n\n  const handlePlaceChange = (place) => {\n    setLatestItem(Object.assign({}, latestItem, {place: place}));\n  }\n\n  const handleCityChange = (evt) => {\n    let city = evt.target.value || '';\n    setLatestItem(Object.assign({}, latestItem, {city: city}));\n  }\n\n  const handleCatSelection = () => {\n    dispatch({\n      type: 'CHANGE_TO_CATEGORY_SELECTION',\n      currentItem: latestItem,\n      selectedCatGroup: {\n        category: latestItem.category,\n        subcategory: latestItem.subcategory\n      }\n    });\n  }\n\n  const handleAmountFocus = (evt) => {\n    if (latestItem.amount) {\n      evt.target.value = latestItem.amount;\n    } else {\n      evt.target.value = '';\n    }\n  }\n\n  const handleAmountChange = (evt) => {\n    let newAmount = parseFloat(evt.target.value);\n    if (Number.isNaN(newAmount)) {\n      newAmount = 0;\n    }\n    setLatestItem(Object.assign({}, latestItem, {amount: newAmount}));\n  }\n\n  const handleAmountBlur = (evt) => {\n    evt.target.value = parseFloat(latestItem.amount).toFixed(2);\n  }\n\n  const validateFinItem = ({category, subcategory, comment, amount}) => {\n    if (!category || !subcategory) {\n      return {\n        errorMsg: '请选择类别！'\n      }\n    } else if (!amount) {\n      return {\n        errorMsg: '请输入有效金额！'\n      }\n    }\n\n    return null;\n  }\n\n  const handleSaveButton = ({repeatRecord = false}) => {\n    let isInvalid = validateFinItem(latestItem);\n    if (isInvalid) {\n      dispatch({\n        type: 'SET_MESSAGE',\n        notificationType: 'error',\n        message: isInvalid.errorMsg\n      });\n      return;\n    }\n\n    let requestUrl = '', data = {};\n    if (latestItem.id) {\n      if (latestItem.isScheduled > 0) {\n        setUpdateScheduledPopupStatus(true);\n        return;\n      } else {\n        requestUrl = '/api/wacai/updateFinItem';\n        data = {...latestItem, tags: selectedTags.join(',')};\n      }\n    } else {\n      if (latestItem.isScheduled > 0) {\n        requestUrl = '/api/wacai/createScheduledFinItem';\n        data = {...latestItem, tags: selectedTags.join(',')};\n      } else {\n        requestUrl = '/api/wacai/createFinItem';\n        data = {...latestItem, tags: selectedTags.join(','), id: uuid()};\n      }\n    }\n\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    Axios.post(requestUrl, {data})\n      .then(() => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        dispatch({\n          type: 'SET_MESSAGE',\n          notificationType: 'info',\n          message: '保存成功'\n        });\n\n        if (repeatRecord) {\n          setLatestItem(Object.assign({}, latestItem, {amount: 0}));\n          amountInputRef.current.value = '0.00';\n        } else {\n          dispatch({\n            type: 'RESET_SELECTED_ITEM'\n          });\n        }\n      });\n  }\n\n  const updateSingleScheduledItem = () => {\n    setUpdateScheduledPopupStatus(false);\n    const requestUrl = '/api/wacai/updateFinItem';\n    const data = {...latestItem};\n\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    Axios.post(requestUrl, {data})\n      .then(() => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      });\n  }\n\n  const updateSeriesScheduledItems = () => {\n    const requestUrl = '/api/wacai/updateScheduledFinItem';\n    const data = {...latestItem};\n    const options = {};\n    const now = new Date();\n    options.scheduledId = data.scheduledId;\n    options.year = now.getFullYear();\n    options.month = now.getMonth();\n    options.day = now.getDate();\n\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    Axios.post(requestUrl, {data, options})\n      .then(() => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        setUpdateScheduledPopupStatus(false);\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      });\n  }\n\n  const handleDeleteButton = () => {\n    if (latestItem.isScheduled > 0) {\n      setDeleteScheduledPopupStatus(true);\n    } else {\n      // App Loading Status\n      dispatch({\n        type: 'APP_LOADING'\n      });\n\n      Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`)\n        .then(() => {\n          // App Loaded Status\n          dispatch({\n            type: 'APP_LOADED'\n          });\n\n          dispatch({\n            type: 'RESET_SELECTED_ITEM'\n          });\n        }, ({response}) => {\n          // App Loaded Status\n          dispatch({\n            type: 'APP_LOADED'\n          });\n\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  }\n\n  const popupButtonsCancelHandler = () => {\n    setDeleteScheduledPopupStatus(false);\n    setUpdateScheduledPopupStatus(false);\n  }\n\n  const deleteSingleScheduledItem = () => {\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    Axios.delete(`/api/wacai/deleteFinItem?id=${latestItem.id}`)\n      .then(() => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        setDeleteScheduledPopupStatus(false);\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      }, ({response}) => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        setDeleteScheduledPopupStatus(false);\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }\n\n  const deleteSeriesScheduledItems = () => {\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    const now = new Date();\n    Axios.delete(`/api/wacai/deleteScheduledFinItem?scheduleId=${latestItem.scheduleId}&year=${now.getFullYear()}&month=${now.getMonth()}&day=${now.getDate()}`)\n      .then(() => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        setDeleteScheduledPopupStatus(false);\n        dispatch({\n          type: 'RESET_SELECTED_ITEM'\n        });\n      }, ({response}) => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n\n        setDeleteScheduledPopupStatus(false);\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }\n\n  const deleteScheduledPopupButtons = [{\n    name: '只删除这一笔',\n    clickHandler: deleteSingleScheduledItem\n  }, {\n    name: '删除这一笔以及以后所有',\n    clickHandler: deleteSeriesScheduledItems\n  }];\n\n  const updateScheduledPopupButtons = [{\n    name: '只更新这一笔',\n    clickHandler: updateSingleScheduledItem\n  }, {\n    name: '更新这一笔以及以后所有',\n    clickHandler: updateSeriesScheduledItems\n  }];\n\n  const toggleCalculator = () => {\n    setCalculatorStatus(!calculatorStatus);\n  }\n\n  const handleCalculatorCallback = (result) => {\n    let amount = +parseFloat(result).toFixed(2);\n    setLatestItem(Object.assign({}, latestItem, {amount}));\n    setCalculatorStatus(false);\n\n    // Set input value\n    amountInputRef.current.value = parseFloat(result).toFixed(2);\n  }\n\n  const handleRepeatButton = () => {\n    handleSaveButton({repeatRecord: true});\n  }\n\n  const handleTagInputChange = (evt) => {\n    const currInput = evt.target.value;\n    setFilteredTagList(tagList.filter((tag) => tag.indexOf(currInput) > -1));\n  }\n\n  const handleTagAdd = () => {\n    const newTag = tagInputRef.current.value;\n    if (tagList.indexOf(newTag) < 0) {\n      setTagList([newTag, ...tagList]);\n      setFilteredTagList([newTag, ...tagList]);\n    } else {\n      setFilteredTagList([...tagList]);\n    }\n\n    // Automatically add new tag to selected list\n    selectedTags.indexOf(newTag) < 0 && setSelectedTags([...selectedTags, newTag]);\n\n    // clear value once new tag is added\n    tagInputRef.current.value = '';\n  }\n\n  const toggleTagSelection = (tag, isSelected) => {\n    const index = selectedTags.indexOf(tag);\n    let newSelectedTags = selectedTags.slice();\n    if (index > -1) {\n      newSelectedTags.splice(index, 1);\n      setSelectedTags(newSelectedTags);\n    } else {\n      setSelectedTags([...selectedTags, tag]);\n    }\n  }\n\n  /*\n    Format change from '2019-04-20 19:20:00' to '2019/04/20 19:20:00'\n    Required on mobile browser difference\n    latestItem.date.replace(/-/g, '/')\n  */\n  return (\n    <div className='FinItemDetails'>\n      <div className='Fin-Nav'>\n        <div className='Fin-Nav-Out'>支出</div>\n        <div className='Fin-Nav-Arrow' />\n      </div>\n      <div className='Fin-Date Fin-WhiteBack'>\n        <DateTime\n          value={new Date(latestItem.date.replace(/-/g, '/'))}\n          defaultValue={new Date()}\n          onChange={handleDateTimeChange}\n          inputProps={{disabled: isUpdate && latestItem.isScheduled > 0}} />\n      </div>\n      <div className='Fin-Schedule Fin-WhiteBack'>\n        <DropdownList\n          isDisabled={isUpdate}\n          defaultSelectedValue={scheduleModeItems[latestItem.isScheduled || 0].value}\n          items={scheduleModeItems}\n          customizeItemClickHandler={handleScheduleModeChange} />\n      </div>\n      <div className='Fin-Header Fin-WhiteBack'>\n        <div\n          className='Fin-SubCat'\n          onClick={handleCatSelection}>\n          <div className='Category'>\n            {latestItem.category}\n          </div>\n          <div className='SubCategory'>\n            {latestItem.subcategory}\n          </div>\n        </div>\n        <div className='Fin-Amount'>\n          <input\n            type='number'\n            ref={amountInputRef}\n            onFocus={handleAmountFocus}\n            onBlur={handleAmountBlur}\n            onChange={handleAmountChange}\n            defaultValue={parseFloat(latestItem.amount).toFixed(2) || '0.00'} />\n            {/* value={latestItem.amount || 0} /> */}\n          <div className='CalculatorIcon' onClick={toggleCalculator}>\n            {\n              calculatorStatus &&\n              <div className='CalculatorPanel'>\n                <Calculator defaultValue={latestItem.amount + ''} confirmCallback={handleCalculatorCallback} />\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n      <div className='Fin-ComCats Fin-WhiteBack'>\n        <div className='Fin-ComCat-Container'>\n          {\n            comCatItems.map((comItem, index) => (\n              <div\n                className='Fin-ComCat'\n                key={index}>\n                <FinComCatItem\n                  category={comItem.category}\n                  subcategory={comItem.subcategory}\n                  onClickHandler={handleCommonCatClick} />\n              </div>\n            ))\n          }\n        </div>\n      </div>\n      <div className='Fin-Comment Fin-WhiteBack'>\n        <SearchDropdown\n          optionList={commentOptions}\n          filterFunction={commentFilterFn}\n          placeholder='备注'\n          onChangeCallback={handleCommentChange}\n          defaultValue={latestItem.comment} />\n      </div>\n      <div className='Fin-FullDetails Fin-WhiteBack'>\n        <div className='Fin-Place'>\n          <SearchDropdown\n            optionList={placeOptions}\n            filterFunction={placeFilterFn}\n            placeholder='商场'\n            onChangeCallback={handlePlaceChange}\n            defaultValue={latestItem.place} />\n        </div>\n        <div className='Fin-City'>\n          <input\n            type='input'\n            placeholder='城市'\n            onChange={handleCityChange}\n            defaultValue={latestItem.city || DEFAULT_CITY} />\n        </div>\n      </div>\n      <div className='Fin-Toolbar Fin-WhiteBack'>\n        <div className='Fin-Btns'>\n          <div\n            className='Fin-Btn Fin-BackBtn'\n            onClick={handleBackBtn}>\n            返回\n          </div>\n          {\n            latestItem.id ?\n            <div\n              className='Fin-Btn Fin-DeleteBtn'\n              onClick={handleDeleteButton}>\n              删除\n            </div>\n            :\n            <div\n              className='Fin-Btn Fin-RepeatBtn'\n              onClick={handleRepeatButton}>\n              保存再记\n            </div>\n          }\n          <div\n            className='Fin-Btn Fin-SaveBtn'\n            onClick={handleSaveButton}>\n            保存\n          </div>\n        </div>\n      </div>\n      <div className='Fin-Tags Fin-WhiteBack'>\n        <div className='Fin-Tags-Add'>\n          <input\n            type='input'\n            ref={tagInputRef}\n            placeholder='新加标签'\n            onChange={handleTagInputChange}\n            defaultValue='' />\n          <div className='Fin-Tags-Add-Btn' onClick={handleTagAdd} />\n        </div>\n        <div className='Fin-TagsManagement'>\n          <HashTagManagement tags={filteredTagList} selectedTags={selectedTags} toggleTagSelection={toggleTagSelection} />\n        </div>\n      </div>\n      {\n        deleteScheduledPopupStatus &&\n        <div className=\"PopupButtons--Container\">\n          <PopupButtons\n            buttons={deleteScheduledPopupButtons}\n            cancelHandler={popupButtonsCancelHandler} />\n        </div>\n      }\n      {\n        updateScheduledPopupStatus &&\n        <div className=\"PopupButtons--Container\">\n          <PopupButtons\n            buttons={updateScheduledPopupButtons}\n            cancelHandler={popupButtonsCancelHandler} />\n        </div>\n      }\n      {\n        commentHintDialogStatus &&\n        <div className=\"FinDetails__CommentHintDialog\">\n          <CommentHintDialog closeCallback={toggleCommentHintDialogStatus} successCallback={saveCommentHintResult} optionList={commentFullInfoOptions} commentKeyWord={latestItem.comment} />\n        </div>\n      }\n    </div>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  let updatedCatGroup = fin.updatedCatGroup || {};\n  return {\n    updatedCatGroup\n  }\n};\n\nconst WrappedFinItemDetails = (props) => {\n  return (\n    <CommentProvider>\n      <TagProvider>\n        <FinItemDetails {...props} />\n      </TagProvider>\n    </CommentProvider>\n  );\n};\n\nexport default connect(mapStateToProps)(WrappedFinItemDetails);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport './index.scss';\n\nconst HeaderToolbar = ({closeHandler, hasSearch = true, barTitle = '', searchHandler, children, dispatch}) => {\n  const handleClose = () => {\n    if (closeHandler) {\n      closeHandler();\n    } else {\n      dispatch({\n        type: 'CHANGE_TO_MAIN'\n      });\n    }\n  }\n\n  const handleSearch = () => {\n    if (searchHandler) {\n      searchHandler();\n    } else {\n      dispatch({\n        type: 'OPEN_SEARCH_FIN_MODE'\n      });\n    }\n  }\n\n  return (\n    <div className='HeaderToolbar'>\n      <div className='HeaderToolbar-Container'>\n        <div\n          className='CloseBtn'\n          onClick={handleClose} />\n        {\n          barTitle &&\n          <div\n            className='BarInfo'>\n            {barTitle}\n          </div>\n        }\n        {\n          !barTitle && children && typeof children === 'function' &&\n          <div\n            className='BarContent'>\n            {children()}\n          </div>\n        }\n        {\n          !barTitle && !children &&\n          <div className='BarHeader' />\n        }\n        {\n          hasSearch &&\n          <div\n            className='ToolBtns'>\n            <div\n              className='SearchBtn'\n              onClick={handleSearch} />\n          </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(HeaderToolbar);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport HeaderToolbar from '../header-toolbar';\n\nimport './index.scss';\n\nconst FinCatSubCat = ({selectedCatGroup = {}, dispatch}) => {\n  const [selectedCat, setSelectedCat] = useState(selectedCatGroup.category || '');\n  const [categoryGroups, setCategoryGroups] = useState({});\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getCategoryGroup')\n      .then(({data}) => {\n        let categoryGroupData = data.data || {};\n        setCategoryGroups(categoryGroupData);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, [])\n\n  const handleCatClick = (cat) => {\n    setSelectedCat(cat);\n  }\n\n  const handleSubCatSelected = (subcat) => {\n    dispatch({\n      type: 'CATEGORY_SELECTION_DONE',\n      updatedCatGroup: {\n        category: selectedCat,\n        subcategory: subcat\n      }\n    });\n  }\n\n  return (\n    <div className='FinCatSubCat'>\n      <HeaderToolbar\n        barTitle='支出类别'\n        hasSearch={false} />\n      <div className='FinCatSubCat-Container'>\n        <div className='Cats'>\n          {\n            Object.keys(categoryGroups).map((cat, index) => (\n              <div\n                className='CatItem'\n                key={index}\n                onClick={() => handleCatClick(cat)}>\n                <div\n                  className={`CatItem-Border ${selectedCat === cat ? 'CatItem-Border-Selected' : ''}`}>\n                  {cat}\n                </div>\n              </div>\n            ))\n          }\n        </div>\n        <div className='SubCats'>\n          {\n            selectedCat && categoryGroups[selectedCat] && categoryGroups[selectedCat].map(({subcategory, isCommon}, index) => (\n              <div\n                className='SubCatItem'\n                onClick={() => handleSubCatSelected(subcategory)}\n                key={index}>\n                <div className={`${index !== categoryGroups[selectedCat].length - 1 ? 'SubCat-Border' : ''}`}>\n                  <div className='SubCat-Text'>\n                    {subcategory}\n                  </div>\n                </div>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin;\n  let selectedCatGroup = fin.selectedCatGroup || {};\n  return {\n    selectedCatGroup\n  };\n};\n\nexport default connect(mapStateToProps)(FinCatSubCat);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FinItem from '../fin-item';\n\nimport './day-expense.scss';\n\nconst weekdayMapping = (date = '2019-04-22') => {\n  const dateObj = new Date(date);\n  const day = dateObj.getDay();\n  const mapping = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n  return mapping[day];\n};\n\nconst DayExpense = ({date = '2019-04-22', amount = 1203, items = []}) => {\n  const day = date.substring(date.length - 2);\n  return (\n    <div className='DayExpense'>\n      <div className='DayExpense-Container'>\n        <div className='DayInfo'>\n          {day}\n        </div>\n        <div className='DayExpenseInfo'>\n          <div className='DayHeader'>\n            <div className='DayHeader-Weekday'>\n              {weekdayMapping(date)}\n            </div>\n            <div className='DayExpenseAmount'>\n              支：{parseFloat(amount).toFixed(2)}\n            </div>\n          </div>\n          <div className='DayExpenseList'>\n            {items.map((item, index) => (\n              <div key={item.id}>\n                <FinItem\n                  dayMode={true}\n                  isLast={index === items.length - 1}\n                  item={item} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nDayExpense.propTypes = {\n  date: PropTypes.string,\n  amount: PropTypes.number,\n  items: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default DayExpense;\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport DayExpense from './day-expense';\nimport {DayExpenseLoadingState} from '../loading-state';\n\nimport './month-expense.scss';\n\n// Base width for the highest monthly expense\n// In Pixel\n// const BAR_WIDTH_BASE_PIXEL = 200;\n// In percentage\nconst BAR_WIDTH_BASE_PERC = 1;\nconst API_LOADING_DELAY = 0;\n\nconst MonthExpense = ({month = '04', year = '2019', amount = 11086.00, barWidthRatio = 1, dayItems = [], dispatch}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [dailyDetails, setDailyDetails] = useState(dayItems);\n  const [isDailyDetailsLoading, setIsDailyDetailsLoading] = useState(false);\n\n  const handleExpansion = () => {\n    if (!expanded) {\n      setExpanded(!expanded);\n      if (dailyDetails.length <= 0) {\n        setIsDailyDetailsLoading(true);\n        Axios.get(`/api/wacai/getFinItemsByMonth?month=${month}&year=${year}`)\n          .then(({data}) => {\n            let responseData = data.data || [];\n            setDailyDetails(responseData);\n\n            setTimeout(() => {\n              setIsDailyDetailsLoading(false);\n            }, API_LOADING_DELAY);\n          }, ({response}) => {\n            if (response.status === 401) {\n              dispatch({\n                type: 'TOKEN_INVALID'\n              });\n            }\n          });\n      }\n    } else {\n      setExpanded(!expanded);\n    }\n  }\n\n  // Dynamically compute bar width\n  const barWidth = barWidthRatio * BAR_WIDTH_BASE_PERC * 100 + '%';\n\n  return (\n    <div className='MonthExpense'>\n      <div\n        className={`MonthExpense-Container ${expanded ? '' : 'MonthExpenseBorder'}`}\n        onClick={handleExpansion}>\n        <div className='MonthTitle'>\n          <div className='Month'>{month}</div>\n          <div className='Year'>{year}</div>\n        </div>\n        <div className='MonthExpense'>\n          <div className='ExpenseTitle'>\n            支出：{parseFloat(amount).toFixed(2)}\n          </div>\n          <div className='ExpenseAmount'>\n            <div\n              className='AmountBar'\n              // style={{width: barWidth + 'px'}}\n              style={{width: barWidth}} />\n          </div>\n        </div>\n        <div className={`MonthExpense-Dropdown ${expanded ? 'MonthExpense-Expanded' : ''}`} />\n      </div>\n      {\n        expanded && (!isDailyDetailsLoading ? dailyDetails.map((dayItem, index) => (\n          <div\n            key={index}>\n            <DayExpense\n              date={dayItem.date}\n              amount={dayItem.amount}\n              items={dayItem.items} />\n          </div>\n        )) : (\n          <DayExpenseLoadingState />\n        ))\n      }\n    </div>\n  );\n};\n\nMonthExpense.propTypes = {\n  month: PropTypes.string,\n  year: PropTypes.string,\n  amount: PropTypes.number,\n  barWidthRatio: PropTypes.number,\n  expansionCallback: PropTypes.func,\n};\n\nexport default connect()(MonthExpense);\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport './index.scss';\n\nconst BottomButtonGroup = ({isExpanded = false, goToMainPage = () => void 0, scrollIntoViewRef}) => {\n  const [buttonExpanded, setbuttonExpanded] = useState(false);\n\n  const toggleExpandedButton = () => {\n    setbuttonExpanded(!buttonExpanded);\n  };\n\n  const goToTop = () => {\n    // window.scrollTo(0, 0);\n    scrollIntoViewRef.current.scrollIntoView({behavior: \"smooth\", block: \"start\"});\n    setbuttonExpanded(false);\n  };\n\n  const goToMain = () => {\n    goToMainPage();\n    setbuttonExpanded(false);\n  }\n\n  return (\n    <div className='BottomButtonGroup'>\n      <div className={`ControlButton ${buttonExpanded ? 'buttonExpanded' : ''}`} onClick={toggleExpandedButton} />\n      {\n        buttonExpanded &&\n        <div className='Bottom_ButtonGroup'>\n          <div className='BottomButton BackToTop' onClick={goToTop} />\n          <div className='BottomButton BackToMain' onClick={goToMain} />\n        </div>\n      }\n    </div>\n  );\n};\n\nBottomButtonGroup.propTypes = {\n  isExpanded: PropTypes.bool,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  goToMainPage: () => {\n    dispatch({\n      type: 'CHANGE_TO_MAIN',\n    });\n  }\n});\n\nexport default connect(null, mapDispatchToProps)(BottomButtonGroup);\n","import React, {useState, useEffect, useRef} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport MonthExpense from './month-expense';\nimport HeaderToolbar from '../header-toolbar';\nimport BottomButtonGroup from '../bottom-button-group';\n\n// import historyExpense from './mockData.json';\n\nconst FinItemList = ({dispatch}) => {\n  const [historyExpense, setHistoryExpense] = useState({});\n  const [btnExpanded, setBtnExpanded] = useState(false);\n  const headerEl = useRef(null);\n\n  useEffect(() => {\n    let now = new Date();\n    Axios.get(`/api/wacai/getHistoryExpense?year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\n      .then(({data}) => {\n        let responseData = data.data || {};\n        setBtnExpanded(false);\n        setHistoryExpense(responseData);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, []);\n\n  // useRef need to be used together with useEffect\n  // as ref element could be binded only after rendering done\n  useEffect(() => {\n  }, [headerEl]);\n\n  return (\n    <div className='FinItemList' ref={headerEl}>\n      <HeaderToolbar />\n      {\n        historyExpense.items && historyExpense.items.map((monthItem, index) => (\n          <div key={index}>\n            <MonthExpense\n              month={monthItem.month}\n              year={monthItem.year}\n              amount={monthItem.amount}\n              barWidthRatio={monthItem.amount / historyExpense.highestMonthAmount} />\n          </div>\n        ))\n      }\n      {\n        historyExpense.items && <BottomButtonGroup isExpanded={btnExpanded} scrollIntoViewRef={headerEl} />\n      }\n    </div>\n  );\n};\n\nexport default connect()(FinItemList);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport './template-toolbar.scss';\n\nconst TemplateToolbar = ({dispatch}) => {\n  const createTemplateHandler = () => {\n    dispatch({\n      type: 'CREATE_TEMPLATE'\n    });\n  };\n\n  return (\n    <div className='TemplateToolbar'>\n      <div className='ToolbarContainer'>\n        <div className='ToolbarInfo'>记账模板</div>\n        <div className='ToolbarBtns'>\n          <div\n            className='CreateBtn'\n            onClick={createTemplateHandler}>\n            添加模板\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(TemplateToolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport './fin-template-item.scss';\n\nconst FinTemplateItem = ({item = {}, isLast = false, dispatch}) => {\n  const {comment, category, subcategory, place} = item;\n\n  const handleItemClick = () => {\n    dispatch({\n      type: 'SELECT_ITEM',\n      item: {\n        comment,\n        category,\n        subcategory,\n        place,\n        amount: 0\n      }\n    });\n  };\n\n  return (\n    <div className='FinTemplateItem'>\n      <div\n        className={`ItemContainer ${isLast ? '' : 'ItemBorder'}`}\n        onClick={handleItemClick}>\n        <div className='Categories'>\n          <div className='Category'>{category}</div>\n          <div className='SubCategory'>{subcategory}</div>\n        </div>\n        <div className='Comment'>{comment}</div>\n      </div>\n    </div>\n  )\n};\n\nFinTemplateItem.propTypes = {\n  item: PropTypes.object,\n  isLast: PropTypes.bool\n};\n\nexport default connect()(FinTemplateItem);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './create-template.scss';\n\nconst CreateTemplate = ({updatedCatGroup, dispatch}) => {\n  const [template, setTemplate] = useState(updatedCatGroup);\n\n  useEffect(() => {\n    dispatch({\n      type: 'RESET_UPDATED_CAT_GROUP'\n    });\n  }, []);\n\n  const handleBackBtn = () => {\n    dispatch({\n      type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\n    });\n  };\n\n  const handleSaveButton = () => {\n    if (template.category && template.subcategory && template.comment) {\n      Axios.post('/api/wacai/createFinTemplate', {data: template})\n        .then(() => {\n          dispatch({\n            type: 'CHANGE_TO_FIN_TEMPLATE_LIST'\n          });\n        }, ({response}) => {\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  };\n\n  const handleCatSelection = () => {\n    dispatch({\n      type: 'CHANGE_TO_CATEGORY_SELECTION',\n      selectedCatGroup: {\n        category: template.category,\n        subcategory: template.subcategory\n      }\n    });\n  };\n\n  const handleCommentChange = (evt) => {\n    setTemplate(Object.assign({}, template, {comment: evt.target.value}));\n  };\n\n  const handlePlaceChange = (evt) => {\n    setTemplate(Object.assign({}, template, {place: evt.target.value}));\n  };\n\n  return (\n    <div className='CreateTemplate'>\n      <div className='CreatePanel'>\n        <div\n          className='Fin-SubCat'\n          onClick={handleCatSelection}>\n          {template.category} - {template.subcategory}\n        </div>\n        <div className='Fin-Comment'>\n          <input\n            className='CommentInput'\n            placeholder='备注'\n            type='input'\n            onChange={handleCommentChange}\n            value={template.comment} />\n        </div>\n        <div className='Fin-Place'>\n          <input\n            className='PlaceInput'\n            placeholder='商场'\n            type='input'\n            onChange={handlePlaceChange}\n            value={template.place} />\n        </div>\n        <div className='Fin-Toolbar'>\n          <div className='Fin-Btns'>\n            <div\n              className='Fin-Btn Fin-BackBtn'\n              onClick={handleBackBtn}>\n              返回\n            </div>\n            <div\n              className='Fin-Btn Fin-SaveBtn'\n              onClick={handleSaveButton}>\n              保存\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  return {\n    updatedCatGroup: fin.updatedCatGroup || {},\n    isCreatingTemplate: fin.isCreatingTemplate\n  };\n};\n\nexport default connect(mapStateToProps)(CreateTemplate);\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport HeaderToolbar from '../header-toolbar';\nimport TemplateToolbar from './template-toolbar';\nimport FinTemplateItem from './fin-template-item';\nimport CreateTemplate from './create-template';\n\n// import mockTemplates from './mockData.json';\n\nimport './index.scss';\n\nconst FinTemplateList = ({isCreatingTemplate, dispatch}) => {\n  const [templates, setTemplates] = useState([]);\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getFinTemplates')\n      .then(({data}) => {\n        let templates = data.data || [];\n        setTemplates(templates);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      })\n  }, [isCreatingTemplate]);\n\n  return (\n    <div className='FinTemplateList'>\n      <HeaderToolbar\n        barTitle={isCreatingTemplate ? '创建模板' : ''}\n        hasSearch={false} />\n      <TemplateToolbar />\n      {\n        isCreatingTemplate ?\n        <CreateTemplate />\n        :\n        <div className='Templates'>\n          {\n            templates.map((item, index) => (\n              <div\n                key={index}\n                className='Template'>\n                <FinTemplateItem\n                  item={item}\n                  isLast={index === templates.length - 1} />\n              </div>\n            ))\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let fin = state.fin || {};\n  return {\n    isCreatingTemplate: fin.isCreatingTemplate\n  };\n};\n\nexport default connect(mapStateToProps)(FinTemplateList);\n","import React, {useState, useEffect} from 'react';\n\n// Compute initial number\nconst computeInitialNumber = (total) => {\n  if (total < 1000) {\n    return 0;\n  } else if (total < 5000) {\n    return 1000;\n  } else if (total < 10000) {\n    return 5000;\n  } else if (total < 15000) {\n    return 10000;\n  } else if (total < 20000) {\n    return 15000;\n  } else {\n    return 20000;\n  }\n}\n\nconst AutoUpdateNumber = ({total, start = 0, duration = 200}) => {\n  const [currentVal, setCurrentVal] = useState(start || computeInitialNumber(total));\n  const diff = total - currentVal;\n  const step = diff / duration;\n  // use global variable to store value of each step\n  // state change is async, and cannot be rendered immediately\n  let currentStep = currentVal;\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      currentStep = currentStep + step;\n      if (currentStep >= total) {\n        currentStep = total;\n        clearInterval(interval);\n      }\n      setCurrentVal(currentStep);\n    }, 1);\n  }, [total]);\n\n  return (\n    <div className='AutoUpdateNumber'>\n      {parseFloat(currentVal).toFixed(2)}\n    </div>\n  )\n};\n\nexport default AutoUpdateNumber;\n","import React, { useEffect, useState } from 'react';\nimport {connect} from 'react-redux';\n\nimport './index.scss';\n\nconst Notification = ({type, message, errorTimeout = 1000, dispatch}) => {\n  const [addAnimation, setAddAnimation] = useState(true);\n  useEffect(() => {\n    setAddAnimation(false);\n    setTimeout(() => {\n      setAddAnimation(true);\n      setTimeout(() => {\n        dispatch({\n          type: 'RESET_MESSAGE'\n        });\n      }, 1000);\n    }, errorTimeout);\n  }, []);\n  return (\n    <div className={`Notification ${addAnimation ? 'fadeOutAnimation' : ''}`}>\n      <div className={`${type === 'error' ? 'Message-Container Error' : 'Message-Container Info'}`}>\n        <div className={`${type === 'error' ? 'ErrorMessage' : 'InfoMessage'}`}>\n          {message}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(Notification);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst SearchBox = ({customStyles = {}, advancedSearchHanlder = void 0, dispatch}) => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleSearchInputChange = (evt) => {\n    setSearchString(evt.target.value);\n  }\n\n  const handleSearch = () => {\n    if (!searchString) {\n      return;\n    }\n\n    let now = new Date();\n    Axios.get(`/api/wacai/searchFinItems?searchString=${searchString}&year=${now.getFullYear()}&month=${now.getMonth() + 1}`)\n      .then(({data}) => {\n        let finItems = data.data || [];\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems});\n      });\n  }\n\n  const handleAdvancedSearch = () => {\n    advancedSearchHanlder && advancedSearchHanlder();\n  };\n\n  return (\n    <div\n      className='SearchBox'\n      style={customStyles}>\n      <div className='SearchBox-Container'>\n        <div className='AdvanceSearch'>\n          <div\n            className='AdvanceSearch-Text'\n            onClick={handleAdvancedSearch}>\n            高级搜索\n          </div>\n        </div>\n        <div className='SimpleSearch'>\n          <input\n            type=\"text\"\n            placeholder='请输入关键词'\n            onChange={handleSearchInputChange}\n            value={searchString} />\n        </div>\n      </div>\n      <div className='Btns'>\n        <div\n          className='SearchBtn'\n          onClick={handleSearch}>\n          确定\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connect()(SearchBox);\n","import React, {useState} from 'react';\nimport DayExpense from '../fin-item-list/day-expense';\nimport PropTypes from 'prop-types';\nimport {padZero} from '../../utils/helper';\n\nimport '../fin-item-list/month-expense.scss';\n\nconst BAR_WIDTH_BASE_PERC = 1;\n\nconst SearchFinItemByMonth = ({month = '04', year = '2019', amount = 11086.00, barWidthRatio = 1, dayItems = []}) => {\n  const [expanded, setExpanded] = useState(false);\n\n  const handleExpansion = () => {\n    setExpanded(!expanded);\n  }\n\n  // Dynamically compute bar width\n  const barWidth = barWidthRatio * BAR_WIDTH_BASE_PERC * 100 + '%';\n\n  const translateDayItems = (items) => {\n    let dayItems = {};\n    items.map((item) => {\n      // Issue: https://stackoverflow.com/questions/4310953/invalid-date-in-safari\n      // Mobile Safari does not support YYYY-MM-DD as a standard date\n      let itemDate = new Date(item.date.replace(/-/g, '/'));\n      let day = padZero(itemDate.getDate());\n      let month = padZero(itemDate.getMonth() + 1);\n      let year = itemDate.getFullYear();\n      if (dayItems[`${year}-${month}-${day}`]) {\n        dayItems[`${year}-${month}-${day}`].amount += item.amount;\n        dayItems[`${year}-${month}-${day}`].items.push(item);\n      } else {\n        dayItems[`${year}-${month}-${day}`] = {\n          amount: item.amount,\n          items: [item]\n        }\n      }\n    });\n\n    return dayItems;\n  }\n\n  const transformedDayItems = translateDayItems(dayItems);\n\n  return (\n    <div className='MonthExpense'>\n      <div\n        className={`MonthExpense-Container ${expanded ? '' : 'MonthExpenseBorder'}`}\n        onClick={handleExpansion}>\n        <div className='MonthTitle'>\n          <div className='Month'>{month}</div>\n          <div className='Year'>{year}</div>\n        </div>\n        <div className='MonthExpense'>\n          <div className='ExpenseTitle'>\n            支出：{parseFloat(amount).toFixed(2)}\n          </div>\n          <div className='ExpenseAmount'>\n            <div\n              className='AmountBar'\n              style={{width: barWidth}} />\n          </div>\n        </div>\n        <div className={`MonthExpense-Dropdown ${expanded ? 'MonthExpense-Expanded' : ''}`} />\n      </div>\n      {\n        expanded && Object.keys(transformedDayItems).sort().reverse().map((day, index) => (\n          <div\n            key={index}>\n            <DayExpense\n              date={day}\n              amount={transformedDayItems[day].amount}\n              items={transformedDayItems[day].items} />\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n\nSearchFinItemByMonth.propTypes = {\n  month: PropTypes.string,\n  year: PropTypes.string,\n  amount: PropTypes.number,\n  barWidthRatio: PropTypes.number,\n  dayItems: PropTypes.array,\n};\n\nexport default SearchFinItemByMonth;\n","import React from 'react';\nimport SearchFinItemByMonth from './search-fin-item-by-month';\nimport {padZero} from '../../utils/helper';\n\nimport './search-fin-item-list.scss'\n\nconst SearchFinItemList = ({finItems = []}) => {\n  let total = 0;\n  if (finItems.length > 0) {\n    finItems.forEach((item) => {\n      total = total + item.amount;\n    });\n  }\n\n  const translateFinItems = (finItems = []) => {\n    let historyExpense = {}, highestMonthAmount = 0;\n    finItems.map((item, index) => {\n      // Issue: https://stackoverflow.com/questions/4310953/invalid-date-in-safari\n      // Mobile Safari does not support YYYY-MM-DD as a standard date\n      let itemDate = new Date(item.date.replace(/-/g, '/'));\n      let month = padZero(itemDate.getMonth() + 1);\n      let year = itemDate.getFullYear();\n      if (historyExpense[`${year}-${month}`]) {\n        historyExpense[`${year}-${month}`].amount += item.amount;\n        historyExpense[`${year}-${month}`].dayItems.push(item);\n      } else {\n        historyExpense[`${year}-${month}`] = {\n          amount: item.amount,\n          dayItems: [item]\n        };\n      }\n    });\n    Object.values(historyExpense).forEach((expense) => {\n      if (expense.amount > highestMonthAmount) {\n        highestMonthAmount = expense.amount;\n      }\n    });\n\n    return {\n      highestMonthAmount,\n      items: historyExpense\n    };\n  }\n\n  const historyExpense = translateFinItems(finItems);\n\n  return (\n    <div className='SearchFinItemList'>\n      <div className='SearchResultContainer'>\n        <div className='SearchResult-Summary'>\n          <div className='SummaryItem SummaryAmount'>\n            ￥ {parseFloat(total).toFixed(2)}\n          </div>\n          <div className='SummaryItem SummaryCaption'>\n            支出\n          </div>\n        </div>\n      </div>\n      <div className='ListContainer'>\n        {\n          finItems.length > 0 && Object.keys(historyExpense.items).sort().reverse().map((month, index) =>(\n            <div key={index}>\n              <SearchFinItemByMonth\n                month={month.split('-')[1]}\n                year={month.split('-')[0]}\n                amount={historyExpense.items[month].amount}\n                barWidthRatio={historyExpense.items[month].amount / historyExpense.highestMonthAmount}\n                dayItems={historyExpense.items[month].dayItems} />\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default SearchFinItemList;\n","import React, {useState, Fragment} from 'react';\nimport {connect} from 'react-redux';\n\nimport './advance-search-item.scss';\n\nconst AdvanceSearchItem = ({type, name, Comp, defaultValue, formatter = (value) => value, searchParams, dispatch}) => {\n  const [isSelectionPanelOpen, setIsSelectionPanelOpen] = useState(false);\n\n  const setSelectionValue = (value) => {\n    dispatch({\n      type: 'SET_ADVANCE_SEARCH_PARAM',\n      itemType: type,\n      itemValue: value\n    });\n  }\n\n  const toggleSelectionDetailPanel = () => {\n    setIsSelectionPanelOpen(!isSelectionPanelOpen);\n  }\n\n  const formatValue = (value) => {\n    return formatter ? formatter(value) : value;\n  }\n\n  const submitHandler = (value) => {\n    setSelectionValue(value);\n    setIsSelectionPanelOpen(false);\n  }\n\n  const cancelHandler = () => {\n    setIsSelectionPanelOpen(false);\n  }\n\n  return (\n    <Fragment>\n      <div className={`AdvanceSearchItem ${isSelectionPanelOpen && Comp ? 'AdvanceSearchItem-NoBottomBorder' : ''}`}>\n        <div className='ItemName'>\n          <span>{name}</span>\n        </div>\n        <div className='ItemOption'>\n          <div\n            className='ItemOption-Container'\n            onClick={toggleSelectionDetailPanel}>\n            <div className='ItemSelectedValue'>{searchParams[type] ? formatValue(searchParams[type]) : defaultValue}</div>\n            <div className='ItemSelectionButton'>></div>\n          </div>\n        </div>\n      </div>\n      {\n        isSelectionPanelOpen && Comp && <Comp currentValue={searchParams[type]} submitHandler={submitHandler} cancelHandler={cancelHandler} />\n      }\n    </Fragment>\n  )\n};\n\nconst mapStateToProps = (state) => {\n  const searchParams = (state.search || {}).searchParams || {};\n  return {\n    searchParams\n  };\n};\n\nexport default connect(mapStateToProps)(AdvanceSearchItem);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst MultiSelection = ({defaultSelection = [], validSeletions = [], handleSelection = () => void 0}) => {\n  const [selections, setSelections] = useState(defaultSelection);\n\n  const onCheckChange = (evt) => {\n    const selectionItem = evt.target;\n    const {name, checked} = selectionItem;\n    let tempSelections = selections.slice();\n    if (checked) {\n      tempSelections.push(name);\n      setSelections(tempSelections);\n    } else {\n      const uncheckedItemIndex = tempSelections.indexOf(name);\n      tempSelections.splice(uncheckedItemIndex, 1);\n      setSelections(tempSelections);\n    }\n\n    handleSelection(tempSelections);\n  };\n\n  useEffect(() => {\n    setSelections(defaultSelection);\n  }, [defaultSelection]);\n\n  return (\n    <div className='MultiSelection'>\n      {\n        validSeletions.length > 0 ?\n        <div className='SelectionList'>\n          {\n            validSeletions.map((selection, index) => (\n              <div\n                key={index}\n                className='SelectionItem'>\n                <input type='checkbox' name={selection} onChange={onCheckChange} checked={selections.indexOf(selection) > -1} />\n                <label>{selection}</label>\n              </div>\n            ))\n          }\n        </div>\n        :\n        null\n      }\n    </div>\n  );\n};\n\nMultiSelection.propTypes = {\n  defaultSelection: PropTypes.array,\n  validSeletions: PropTypes.array,\n  handleSelection: PropTypes.func,\n};\n\nexport default MultiSelection;","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport DropdownList from '../dropdown-list';\nimport MultiSelection from '../multi-selection';\nimport {formatDate, formatDateObject} from '../../utils/helper';\nimport DateTime from 'react-datetime';\n\nimport './advance-search-option-panel.scss';\n\nexport const SelectionPanelButtonGroup = ({enableSubmitButton = true, enableCancelButton = true, submitHandler = void 0, cancelHandler = void 0}) => {\n  return (\n    <div className='Selection__ButtonGroups'>\n      {\n        enableSubmitButton &&\n        <div className='SubmitButton' onClick={submitHandler}>\n          确认\n        </div>\n      }\n      {\n        enableCancelButton &&\n        <div className='CancelButton' onClick={cancelHandler}>\n          取消\n        </div>\n      }\n    </div>\n  );\n};\n\nexport const KeywordsSelectionPanel = ({currentValue = '', submitHandler = void 0, cancelHandler = void 0}) => {\n  const [keyword, setKeyword] = useState(currentValue);\n  const onChangeHandler = (evt) => {\n    setKeyword(evt.target.value);\n  }\n  const submitHandlerFn = () => {\n    submitHandler(keyword);\n  }\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n  return (\n    <div className='KeywordsSelectionPanel'>\n      <div className='InputContainer'>\n        <input onChange={onChangeHandler} placeholder='请输入关键字' value={keyword} />\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  );\n};\n\nconst CategorySelectionPanelComp = ({currentValue = {}, submitHandler = void 0, cancelHandler = void 0, dispatch}) => {\n  const [category, setCategory] = useState(currentValue.category || '全部');\n  const [subCategory, setSubCategory] = useState(currentValue.subcategory || '全部');\n  const [categoryGroup, setCategoryGroup] = useState({});\n  const [isSubCategoryDisabled, setIsSubCategoryDisabled] = useState((currentValue.category || '全部') === '全部');\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n\n  const categoryDataProcessor = (data) => {\n    let validCategories = Object.keys(data);\n    validCategories = validCategories.map((item, index) => {\n      return {\n        key: index + 1,\n        value: item\n      };\n    });\n\n    validCategories.unshift({\n      key: 0,\n      value: '全部'\n    });\n\n    return validCategories;\n  }\n\n  const categorySelectionHandler = (item) => {\n    setCategory(item.value);\n    const defaultSubCategories = [{\n      key: 0,\n      value: '全部'\n    }];\n    if (item.value === '全部') {\n      setSubCategories(defaultSubCategories);\n      setIsSubCategoryDisabled(false);\n    } else {\n      let alternateSubCategories = categoryGroup[item.value];\n      alternateSubCategories = alternateSubCategories.map((item, index) => {\n        return {\n          key: index + 1,\n          value: item.subcategory\n        };\n      });\n      setSubCategories([...defaultSubCategories, ...alternateSubCategories]);\n      setIsSubCategoryDisabled(false);\n    }\n  }\n\n  const subCategorySelectionHandler = (item) => {\n    setSubCategory(item.value);\n  }\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getCategoryGroup')\n      .then(({data}) => {\n        let categoryGroupData = data.data || {};\n        setCategoryGroup(categoryGroupData);\n        const categories = categoryDataProcessor(categoryGroupData);\n        setCategories(categories);\n      }, ({response}) => {\n        if (response.status === 401) {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        }\n      });\n  }, []);\n\n  const submitHandlerFn = () => {\n    submitHandler({\n      category: category,\n      subcategory: subCategory\n    });\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='CategorySelectionPanel'>\n      <div className='CategorySelectionContainer'>\n        <div className='CategoryTitle'>类别</div>\n        <div className='CategorySelection'>\n          <DropdownList\n            defaultSelectedValue={category}\n            items={categories}\n            customizeItemClickHandler={categorySelectionHandler} />\n        </div>\n      </div>\n      <div className='SubCategorySelectionContainer'>\n        <div className='SubCategoryTitle'>子类</div>\n        <div className='SubCategorySelection'>\n          <DropdownList\n            defaultSelectedValue={subCategory}\n            isDisabled={isSubCategoryDisabled}\n            items={subCategories}\n            customizeItemClickHandler={subCategorySelectionHandler} />\n        </div>\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n};\n\nexport const CategorySelectionPanel = connect()(CategorySelectionPanelComp);\n\nconst AmountRangeSelectionPanelComp = ({currentValue = [], submitHandler = () => void 0, cancelHandler = () => void 0, dispatch}) => {\n  const [amountRanges, setAmountRanges] = useState(currentValue);\n\n  const amountRangeAdder = () => {\n    setAmountRanges([...amountRanges, {minAmount: 0, maxAmount: 0}]);\n  }\n\n  const amountRangeRemover = (index) => {\n    const tmpAmountRanges = [...amountRanges];\n    tmpAmountRanges.splice(index, 1);\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const onMinAmountChange = (evt, index) => {\n    const tmpAmountRanges = [...amountRanges];\n    const value = evt.target.value;\n    tmpAmountRanges[index].minAmount = value;\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const onMaxAmountChange = (evt, index) => {\n    const tmpAmountRanges = [...amountRanges];\n    const value = evt.target.value;\n    tmpAmountRanges[index].maxAmount = value;\n    setAmountRanges([...tmpAmountRanges]);\n  }\n\n  const submitHandlerFn = () => {\n    for (const item in amountRanges) {\n      if (amountRanges[item].minAmount > amountRanges[item].maxAmount && amountRanges[item].maxAmount != 0) {\n        dispatch({\n          type: 'SET_MESSAGE',\n          notificationType: 'error',\n          message: '金额区间设置有误'\n        });\n\n        return;\n      }\n    }\n\n    submitHandler(amountRanges);\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='AmountRangeSelectionPanel'>\n      <div\n        className='AmountRangeAdder'\n        onClick={amountRangeAdder}>+</div>\n      <div className='AmountRangeContainer'>\n        {\n          amountRanges.map(({minAmount, maxAmount}, index) => (\n            <div className='AmountRangeItem' key={index}>\n              <div className='AmountRangeMain'>\n                <input className='AmountRangeItem--Min' onChange={(evt) => onMinAmountChange(evt, index)} value={minAmount} />\n                <div className='AmountRangeItem--Sep'> - </div>\n                <input className='AmountRangeItem--Max' onChange={(evt) => onMaxAmountChange(evt, index)} value={maxAmount} />\n              </div>\n              <div className='AmountRangeRemover' onClick={() => {amountRangeRemover(index)}}>-</div>\n            </div>\n          ))\n        }\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  );\n};\n\nexport const AmountRangeSelectionPanel = connect()(AmountRangeSelectionPanelComp);\n\nexport const DateRangeSelectionPanel = ({currentValue = {}, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\n  const [selectedDateRange, setSelectedDateRange] = useState(currentValue);\n  const [isFreeDateRangeEnabled, setIsFreeDateRangeEnabled] = useState(currentValue.key === 9);\n  const [customStartDate, setCustomStartDate] = useState(currentValue.key === 9 ? new Date(currentValue.minDate) : new Date());\n  const [startDateStatus, setStartDateStatus] = useState(false);\n  const [customEndDate, setCustomEndDate] = useState(currentValue.key === 9 ? new Date(currentValue.maxDate) : new Date());\n  const [endDateStatus, setEndDateStatus] = useState(false);\n\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = now.getMonth() + 1;\n  const date = now.getDate();\n  const day = now.getDay();\n\n  const getLastSeason = (year, month) => {\n    if (month < 3) {\n      return {\n        minDate: formatDate(year - 1, 9, 1),\n        maxDate: formatDate(year - 1, 12, 31)\n      };\n    } else {\n      return {\n        minDate: formatDate(year, month - (month % 3) - 2, 1),\n        maxDate: formatDate(year, month + (3 - month % 3) - 3, 31)\n      };\n    }\n  }\n\n  const daysInMonth = (year, month) => { // m is 0 indexed: 0-11\n    switch (month) {\n        case 2 :\n            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;\n        case 9 : case 4 : case 6 : case 11 :\n            return 30;\n        default :\n            return 31\n    }\n  }\n\n  const getLastMonth = (year, month) => {\n    if (month === 1) {\n      return {\n        minDate: formatDate(year - 1, 12, 1),\n        maxDate: formatDate(year - 1, 12, 31)\n      }\n    } else {\n      return {\n        minDate: formatDate(year, month - 1, 1),\n        maxDate: formatDate(year, month - 1, daysInMonth(year, month - 1))\n      }\n    }\n  }\n\n  const getThisWeek = (year, month, date, day) => {\n    if (date < day) {\n      const diff = day - date;\n      return {\n        minDate: formatDate(year, month - 1, daysInMonth(year, month - 1) - (diff - 1)),\n        maxDate: formatDate(year, month, date + (7 - day))\n      };\n    } else {\n      return {\n        minDate: formatDate(year, month, date - (day - 1)),\n        maxDate: formatDate(year, month, date + (7 - day))\n      };\n    }\n  }\n\n  const getLastWeek = (year, month, date, day) => {\n    if ((date - 7) <= 0) {\n      return {\n        ...getThisWeek(year, month - 1, daysInMonth(year, month - 1) - (7 - date), day)\n      };\n    } else {\n      return {\n        ...getThisWeek(year, month, date - 7, day)\n      };\n    }\n  }\n\n  const dateRangeOptions = [{\n    key: 0,\n    value: '全部'\n  }, {\n    key: 1,\n    value: '本年',\n    minDate: formatDate(year, 1, 1),\n    maxDate: formatDate(year, 12, 31),\n  }, {\n    key: 2,\n    value: '去年',\n    minDate: formatDate(year - 1, 1, 1),\n    maxDate: formatDate(year - 1, 12, 31),\n  }, {\n    key: 3,\n    value: '本季',\n    minDate: formatDate(year, month - (month % 3) + 1, 1),\n    maxDate: formatDate(year, month + (3 - month % 3), 31)\n  }, {\n    key: 4,\n    value: '上季',\n    ...getLastSeason(year, month)\n  }, {\n    key: 5,\n    value: '本月',\n    minDate: formatDate(year, month, 1),\n    maxDate: formatDate(year, month, daysInMonth(year, month))\n  }, {\n    key: 6,\n    value: '上月',\n    ...getLastMonth(year, month)\n  }, {\n    key: 7,\n    value: '本周',\n    ...getThisWeek(year, month, date, day)\n  }, {\n    key: 8,\n    value: '上周',\n    ...getLastWeek(year, month, date, day)\n  }, {\n    key: 9,\n    value: '自定义'\n  }];\n\n  const dateRangeSelectedHandler = (item) => {\n    if (item.key < 9) {\n      setIsFreeDateRangeEnabled(false);\n    } else {\n      setIsFreeDateRangeEnabled(true);\n    }\n    setSelectedDateRange(dateRangeOptions[item.key]);\n  }\n\n  const handleStartDateChange = (newStartDate) => {\n    let newDateString = newStartDate.format('YYYY-MM-DD');\n    setCustomStartDate(new Date(newDateString));\n    setStartDateStatus(!startDateStatus);\n  }\n\n  const handleEndDateChange = (newEndDate) => {\n    let newDateString = newEndDate.format('YYYY-MM-DD');\n    setCustomEndDate(new Date(newDateString));\n    setEndDateStatus(!endDateStatus);\n  }\n\n  const toggleStartDateSelection = () => {\n    setStartDateStatus(!startDateStatus);\n  }\n\n  const toggleEndDateSelection = () => {\n    setEndDateStatus(!endDateStatus);\n  }\n\n  const submitHandlerFn = () => {\n    if (selectedDateRange.key === 9) {\n      submitHandler({\n        ...selectedDateRange,\n        minDate: customStartDate,\n        maxDate: customEndDate\n      });\n    } else {\n      submitHandler(selectedDateRange);\n    }\n  }\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  }\n\n  return (\n    <div className='DateRangeSelectionPanel'>\n      <div className='DateRangeDropdownList'>\n        <DropdownList\n          items={dateRangeOptions}\n          defaultSelectedValue={selectedDateRange.value || '全部'}\n          customizeItemClickHandler={dateRangeSelectedHandler} />\n      </div>\n      {\n        isFreeDateRangeEnabled &&\n        <div className='DateRangeSelection--Custom'>\n          <div className='DateRangeSelection DateRangeSelection--CustomStart'>\n            <div className='StartDateContainer' onClick={toggleStartDateSelection}>\n              <div className='Title'>起始时间</div>\n              <div className='Value'>{formatDateObject(customStartDate)}</div>\n            </div>\n            {\n              startDateStatus &&\n              <DateTime\n                input={false}\n                value={customStartDate}\n                defaultValue={customStartDate}\n                onChange={handleStartDateChange}\n                className='DateTimeStyles StartDatePicker'\n                timeFormat={false} />\n            }\n          </div>\n          <div className='DateRangeSelection DateRangeSelection--CustomEnd'>\n            <div className='EndDateContainer' onClick={toggleEndDateSelection}>\n              <div className='Title'>终止时间</div>\n              <div className='Value'>{formatDateObject(customEndDate)}</div>\n            </div>\n            {\n              endDateStatus &&\n              <DateTime\n                input={false}\n                value={customEndDate}\n                defaultValue={customEndDate}\n                onChange={handleEndDateChange}\n                className='DateTimeStyles EndDatePicker'\n                timeFormat={false} />\n            }\n          </div>\n        </div>\n      }\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n}\n\nconst ALL_KEYWORD = '全部';\nexport const CitySelectionPanel = ({currentValue = ALL_KEYWORD, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\n  const [validCities, setValidCities] = useState([]);\n  const [selectedCities, setSelectedCities] = useState([]);\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getAllCities')\n      .then(({data}) => {\n        let responseData = data.data || [];\n        let cities = [];\n        responseData.forEach((option) => {\n          cities.push(option.city);\n        });\n\n        setValidCities(cities);\n\n        // Translate '全部' keyword\n        if (currentValue === ALL_KEYWORD) {\n          setSelectedCities(cities.slice());\n        } else {\n          setSelectedCities(currentValue);\n        }\n      });\n  }, []);\n\n  const handleCitySelection = (selections) => {\n    setSelectedCities(selections);\n  };\n\n  const submitHandlerFn = () => {\n    if (selectedCities.length === validCities.length) {\n      submitHandler(ALL_KEYWORD);\n    } else {\n      submitHandler(selectedCities);\n    }\n  };\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  };\n\n  return (\n    <div className='CitySelectionPanel'>\n      <div className='CityMultiSelection'>\n        <MultiSelection\n          defaultSelection={selectedCities}\n          validSeletions={validCities}\n          handleSelection={handleCitySelection} />\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n};\n\nCitySelectionPanel.propTypes = {\n  currentValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  submitHandler: PropTypes.func,\n  cancelHandler: PropTypes.func,\n};\n\nexport const TagSelectionPanel = ({currentValue = ALL_KEYWORD, submitHandler = () => void 0, cancelHandler = () => void 0}) => {\n  const [validTags, setValidTags] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n\n  useEffect(() => {\n    Axios.get('/api/wacai/getAllTags')\n      .then(({data}) => {\n        let tags = data.data || [];\n        setValidTags(tags);\n\n        // Translate '全部' keyword\n        if (currentValue === ALL_KEYWORD) {\n          setSelectedTags(tags.slice());\n        } else {\n          setSelectedTags(currentValue);\n        }\n      });\n  }, []);\n\n  const handleTagSelection = (selections) => {\n    setSelectedTags(selections);\n  };\n\n  const submitHandlerFn = () => {\n    if (selectedTags.length === validTags.length) {\n      submitHandler(ALL_KEYWORD);\n    } else {\n      submitHandler(selectedTags);\n    }\n  };\n\n  const cancelHandlerFn = () => {\n    cancelHandler();\n  };\n\n  return (\n    <div className='TagSelectionPanel'>\n      <div className='TagMultiSelection'>\n        <MultiSelection\n          defaultSelection={selectedTags}\n          validSeletions={validTags}\n          handleSelection={handleTagSelection} />\n      </div>\n      <SelectionPanelButtonGroup submitHandler={submitHandlerFn} cancelHandler={cancelHandlerFn} />\n    </div>\n  )\n};\n\nTagSelectionPanel.propTypes = {\n  currentValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  submitHandler: PropTypes.func,\n  cancelHandler: PropTypes.func,\n};","import {KeywordsSelectionPanel, CategorySelectionPanel, AmountRangeSelectionPanel, DateRangeSelectionPanel, CitySelectionPanel, TagSelectionPanel} from './advance-search-option-panel';\nimport {formatDateObject} from '../../utils/helper';\n\nexport const ADVANCE_SEARCH_ITEMS = [{\n  type: 'dateRange',\n  name: '日期',\n  defaultValue: '全部',\n  comp: DateRangeSelectionPanel,\n  formatter: (dateRange) => {\n    if (dateRange.minDate && dateRange.maxDate) {\n      let minDate = typeof dateRange.minDate === 'object' ? formatDateObject(dateRange.minDate) : dateRange.minDate;\n      let maxDate = typeof dateRange.maxDate === 'object' ? formatDateObject(dateRange.maxDate) : dateRange.maxDate;\n      return `${minDate} - ${maxDate}`;\n    } else {\n      return '全部';\n    }\n  }\n}, {\n  type: 'amountRanges',\n  name: '金额',\n  defaultValue: '',\n  comp: AmountRangeSelectionPanel,\n  formatter: (amountRanges) => {\n    let validAmountRanges = amountRanges.map(({minAmount, maxAmount}) => {\n      if (+maxAmount === 0) {\n        return `>= ${minAmount}`;\n      } else {\n        return `${minAmount} - ${maxAmount}`;\n      }\n    });\n    return validAmountRanges.join(', ');\n  }\n}, {\n  type: 'category',\n  name: '类别',\n  defaultValue: '全部',\n  comp: CategorySelectionPanel,\n  formatter: ({category, subcategory}) => {\n    return `${category} - ${subcategory}`;\n  }\n}, {\n  type: 'city',\n  name: '城市',\n  defaultValue: '全部',\n  comp: CitySelectionPanel,\n  formatter: (cities) => {\n    return cities.join ? cities.join(', ') : cities;\n  }\n}, {\n  type: 'keyword',\n  name: '关键字',\n  defaultValue: '',\n  comp: KeywordsSelectionPanel,\n  formatter: (value) => {\n    return value;\n  }\n}, {\n  type: 'tags',\n  name: '标签',\n  defaultValue: '',\n  comp: TagSelectionPanel,\n  formatter: (tags) => {\n    return tags.join ? tags.join(', ') : tags;\n  }\n}];\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport AdvanceSearchItem from './advance-search-item';\nimport {ADVANCE_SEARCH_ITEMS} from './advance-search-config';\nimport Axios from 'axios';\n\nimport './advance-search.scss';\n\nconst AdvancedSearch = ({searchParams, dispatch, submitHandler = void 0}) => {\n  const handleSubmit = () => {\n    let params = [];\n    Object.keys(searchParams).map((key) => {\n      if (Array.isArray(searchParams[key])) {\n        if (key === 'amountRanges') {\n          // Amount Range Handler\n          params.push(`${key}=${JSON.stringify(searchParams[key])}`);\n        } else if (key === 'city' || key === 'tags') {\n          params.push(`${key}=${searchParams[key].join(',')}`);\n        }\n      } else if (typeof searchParams[key] === 'object') {\n        if (key === 'dateRange') {\n          params.push(`${key}=${JSON.stringify(searchParams[key])}`);\n        } else if (key === 'category') {\n          for (const item in searchParams[key]) {\n            params.push(`${item}=${searchParams[key][item]}`);\n          }\n        }\n      } else {\n        params.push(`${key}=${searchParams[key]}`);\n      }\n    });\n\n    // App Loading Status\n    dispatch({\n      type: 'APP_LOADING'\n    });\n\n    Axios.get(`/api/wacai/deepSearchFinItems?${params.join('&')}`)\n      .then(({data}) => {\n        submitHandler();\n        let finItems = data.data || [];\n        dispatch({type: 'SEARCH_FIN_RESULTS_LOADED', finItems, searchLoading: false});\n\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n      }, () => {\n        // App Loaded Status\n        dispatch({\n          type: 'APP_LOADED'\n        });\n      });\n  }\n  return (\n    <div className='AdvancedSearch'>\n      <div className='AdvancedSearch-Toolbar'>\n        <div\n          className='SubmitButton'\n          onClick={handleSubmit}>\n          确认\n        </div>\n        <div className='clearFloat' />\n      </div>\n      {\n        ADVANCE_SEARCH_ITEMS && ADVANCE_SEARCH_ITEMS.map(({type, name, comp, defaultValue, formatter}, index) => (\n          <div\n            className='AdvanceSearchItem-Container'\n            key={index}>\n            <AdvanceSearchItem\n              type={type}\n              name={name}\n              Comp={comp}\n              defaultValue={defaultValue}\n              formatter={formatter} />\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const searchParams = (state.search || {}).searchParams || {};\n  return {\n    searchParams\n  }\n}\n\nexport default connect(mapStateToProps)(AdvancedSearch);\n","import React, {useRef, useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport HeaderToolbar from '../header-toolbar';\nimport SearchBox from '../search-box';\nimport SearchFinItemList from './search-fin-item-list';\nimport BottomButtonGroup from '../bottom-button-group';\nimport AdvancedSearch from './advance-search';\n\nimport './index.scss';\n\nconst SearchFinItem = ({finItems = [], dispatch}) => {\n  const headerEl = useRef(null);\n  const [advancedSearchStatus, setAdvancedSearchStatus] = useState(false);\n  const searchBoxStyles = {\n    position: 'relative',\n    top: '50%',\n    transform: 'translateY(-50%)'\n  };\n\n  useEffect(() => {\n  }, [headerEl])\n\n  const toolbarCloseHanlder = () => {\n    if (advancedSearchStatus) {\n      setAdvancedSearchStatus(false);\n    } else {\n      dispatch({\n        type: 'CHANGE_TO_FIN_HISTORY'\n      });\n    }\n  }\n\n  const openAdvancedSearchPanel = () => {\n    setAdvancedSearchStatus(true);\n  };\n\n  const submitHandler = () => {\n    setAdvancedSearchStatus(false);\n  }\n\n  return (\n    <div className='SearchFinItem' ref={headerEl}>\n      <HeaderToolbar\n        closeHandler={toolbarCloseHanlder}\n        hasSearch={false}\n        barTitle={advancedSearchStatus ? '高级搜索' : ''}\n        >\n        {() => (\n          advancedSearchStatus ?\n          null\n          :\n          <SearchBox\n            customStyles={searchBoxStyles}\n            advancedSearchHanlder={openAdvancedSearchPanel} />\n        )}\n      </HeaderToolbar>\n      {\n        !advancedSearchStatus && finItems.length > 0 &&\n        <React.Fragment>\n          <SearchFinItemList\n            finItems={finItems} />\n          <BottomButtonGroup isExpanded={false} scrollIntoViewRef={headerEl} />\n        </React.Fragment>\n      }\n      {\n        !advancedSearchStatus && finItems.length === 0 &&\n        <div className='SearchFinItem--NoResults'>\n          无结果\n        </div>\n      }\n      {\n        advancedSearchStatus &&\n        <div className='AdvancedSearch-Container'>\n          <AdvancedSearch submitHandler={submitHandler} />\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  let search = state.search || {};\n  return {\n    finItems: search.finItems || []\n  };\n};\n\nexport default connect(mapStateToProps)(SearchFinItem);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n import './index.scss';\n const Loading = (props) => {\n  const style = {\n    width: props.width || '4em',\n    height: props.height || '4em'\n  };\n   return <div className='Loading' style={style}></div>;\n};\n Loading.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string\n};\n export default Loading;","import React, {useEffect, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\nimport FinMain from './modules/fin-main';\nimport FinItemDetails from './modules/fin-item-details';\nimport FinCatSelection from './modules/fin-cat-subcat';\nimport FinItemList from './modules/fin-item-list';\nimport FinTemplateList from './modules/fin-template-list';\nimport AutoUpdateNumber from './modules/autoupdate-number';\nimport Notification from './modules/notification';\nimport SearchFinItem from './modules/search-fin-item';\nimport Loading from './modules/loading';\n\nimport './App.scss';\n\nconst DEFAULT_FIN_ITEMS = 15;\n\nconst App = ({pageIndex, notificationType, notificationMsg, selectedItem, isAppLoading, dispatch}) => {\n  let [monthTotal, setMonthTotal] = useState(0);\n  let [weekTotal, setWeekTotal] = useState(0);\n  let [dayTotal, setDayTotal] = useState(0);\n  let [finList, setFinList] = useState(new Array(5).fill({}));\n  let [isLoading, setIsLoading] = useState(true);\n\n  // Set monthly total amount\n  useEffect(() => {\n    // If go to create / update fin item panel, do not fetch data.\n    if (selectedItem && (selectedItem.amount === 0 || selectedItem.id)) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    if (!selectedItem) {\n      let now = new Date();\n      Axios.get(`/api/wacai/getFinList?year=${now.getFullYear()}&month=${now.getMonth() + 1}&day=${now.getDate()}&dayOfWeek=${now.getDay()}&top=${DEFAULT_FIN_ITEMS}`)\n        .then(({data}) => {\n          setIsLoading(false);\n\n          let {monthTotal = 0, weekTotal = 0, dayTotal = 0} = data;\n          let finList = data.data || [];\n          setFinList(finList);\n          setMonthTotal(monthTotal);\n          setWeekTotal(weekTotal);\n          setDayTotal(dayTotal);\n\n          // Axios.post(`/api/graphql`, {\n          //   query: \"{hello}\"\n          // }).then(({data}) => {\n          //   console.log('graphql data: ', data);\n          //   setHelloMsg(data.data.hello);\n          // });\n        }, ({response}) => {\n          setIsLoading(false);\n\n          if (response.status === 401) {\n            dispatch({\n              type: 'TOKEN_INVALID'\n            });\n          }\n        });\n    }\n  }, [selectedItem]);\n\n  const handleTotalAmountClick = () => {\n    dispatch({\n      type: 'CHANGE_TO_FIN_HISTORY'\n    });\n  };\n\n  const handleLogout = () => {\n    Axios.post(`/api/user/logout`)\n      .then(() => {\n        setTimeout(() => {\n          window.location.reload(true);\n        }, 0);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      {\n        notificationMsg &&\n        <div className='App-Page-Notification'>\n          <Notification\n            type={notificationType}\n            message={notificationMsg} />\n        </div>\n      }\n      {\n        isAppLoading &&\n        <div className='App-Page-Loading'>\n          <div className='LoadingContainer'>\n            <Loading />\n          </div>\n        </div>\n      }\n      {\n        pageIndex === 'SEARCH_FIN_ITEM' &&\n        <div className='App-Page-Fin-Search'>\n          <SearchFinItem />\n        </div>\n      }\n      {\n        pageIndex === 'CATEGORY_SELECTION' &&\n        <div className='App-Page-Cat-Selection'>\n          <FinCatSelection />\n        </div>\n      }\n      {\n        pageIndex === 'FIN_HISTORY' &&\n        <div className='App-Page-Fin-History'>\n          <FinItemList />\n        </div>\n      }\n      {\n        pageIndex === 'FIN_TEMPLATE_LIST' &&\n        <div className='App-Page-Fin-Template-List'>\n          <FinTemplateList />\n        </div>\n      }\n      {\n        pageIndex === 'MAIN' &&\n        <div className='App-Page-Main'>\n          <div\n            className='App-Logout'\n            onClick={handleLogout} />\n          <div className='App-Header'>\n            <div className='Header-MonthTotal'>\n              <div className='Caption'>本月总计</div>\n              <div\n                className='Amount'\n                onClick={handleTotalAmountClick}>\n                <AutoUpdateNumber\n                  total={monthTotal}\n                  duration={100} />\n              </div>\n            </div>\n            <div className='Header-WeekDayTotal'>\n              <div className='Caption'>本周总计</div>\n              <div className='Amount'>\n                <AutoUpdateNumber\n                  total={weekTotal}\n                  duration={100} />\n              </div>\n              <div className='Caption'>今日总计</div>\n              <div className='Amount'>\n                <AutoUpdateNumber\n                  total={dayTotal}\n                  duration={100} />\n              </div>\n            </div>\n          </div>\n          {\n            selectedItem &&\n            <div className='App-FinDetails'>\n              <FinItemDetails item={selectedItem} />\n            </div>\n          }\n          <div className='App-Main'>\n            <FinMain isLoading={isLoading} items={finList} />\n          </div>\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  selectedItem: state.fin ? state.fin.selectedItem : null,\n  pageIndex: state.fin ? state.fin.pageIndex : 'MAIN',\n  isAppLoading: state.fin && state.fin.isAppLoading,\n  notificationType: state.notification ? state.notification.notificationType : '',\n  notificationMsg: state.notification ? state.notification.notificationMsg : '',\n});\n\nexport default connect(mapStateToProps)(App);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst defaultFiles = new Array(4).fill(undefined);\n\nconst FileUploader = ({dispatch}) => {\n  const [username, setUsername] = useState('');\n  const [files, setFiles] = useState(defaultFiles);\n\n  const handleUserNameInput = (evt) => {\n    const value = evt.target.value;\n    setUsername(value);\n  }\n\n  const fileUploadRequest = (file) => {\n    const data = new FormData();\n    data.append('file', file);\n    return Axios.post('/api/file/imageUpload', data);\n  }\n\n  const handleFileUpload = (evt) => {\n    const file = evt.target.files[0];\n    const fileId = +evt.target.parentElement.getAttribute('data-fileid');\n    setFiles(files.map((item, index) => {\n      if (index === fileId) {\n        return file;\n      } else {\n        return item;\n      }\n    }));\n\n    fileUploadRequest(file).then((resp) => {\n      console.log(resp);\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  return (\n    <div className='FileUploader'>\n      <div className='NameInput'>\n        <input type='input' placeholder='Please input your name...' value={username} onChange={handleUserNameInput} />\n      </div>\n      <div className='ImageUploader'>\n        <div className='ImageUploadSpace'>\n          {\n            files.map((file, idx) => (\n              <div className='ImageUploadFrame' key={idx} data-fileId={idx}>\n                <input className={`FileUpload__Input MyWacai-File-Uploader ${file ? 'FileUpload--Transparent' : ''}`} type='file' name='file' onChange={handleFileUpload} />\n                {\n                  file && <div className='FileUpload__Name'>\n                    <div>{file.name}</div>\n                  </div>\n                }\n              </div>\n            ))\n          }\n        </div>\n      </div>\n      <div className='ButtonGroup'>\n        <div className='SubmitButton Button'>Submit</div>\n        <div className='CancelButton Button'>Cancel</div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect()(FileUploader);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {formatDateTime, getPreselectedCategories} from '../utils/helper';\n\nconst fin = (state = {}, action) => {\n  switch (action.type) {\n    case 'SELECT_ITEM':\n      if (!action.item.date) {\n        action.item.date = formatDateTime();\n      }\n      return {\n        ...state,\n        pageIndex: 'MAIN',\n        selectedItem: action.item\n      };\n    case 'RESET_SELECTED_ITEM':\n      return {\n        ...state,\n        selectedItem: null\n      };\n    case 'CREATE_ITEM':\n      let {category, subcategory} = getPreselectedCategories();\n      return {\n        ...state,\n        selectedItem: {\n          category,\n          subcategory,\n          date: formatDateTime(),\n          amount: 0\n        }\n      };\n    case 'CHANGE_TO_CATEGORY_SELECTION':\n      return {\n        ...state,\n        selectedItem: action.currentItem || {},\n        pageIndex: 'CATEGORY_SELECTION',\n        selectedCatGroup: action.selectedCatGroup || {}\n      };\n    case 'CHANGE_TO_MAIN':\n      return {\n        ...state,\n        pageIndex: 'MAIN',\n        updatedCatGroup: action.updatedCatGroup || {}\n      };\n    case 'CATEGORY_SELECTION_DONE':\n      // Handle category group selection done case\n      // Need to return to template page when there is no selected item.\n      let targetPage = '';\n      if (state.selectedItem) {\n        targetPage = 'MAIN';\n      } else {\n        targetPage = 'FIN_TEMPLATE_LIST'\n      }\n      return {\n        ...state,\n        pageIndex: targetPage,\n        updatedCatGroup: action.updatedCatGroup || {}\n      };\n    case 'CHANGE_TO_FIN_HISTORY':\n      return {\n        ...state,\n        pageIndex: 'FIN_HISTORY'\n      };\n    case 'RESET_UPDATED_CAT_GROUP':\n      return {\n        ...state,\n        updatedCatGroup: {}\n      };\n    case 'CHANGE_TO_FIN_TEMPLATE_LIST':\n      return {\n        ...state,\n        pageIndex: 'FIN_TEMPLATE_LIST',\n        isCreatingTemplate: false\n      };\n    case 'CREATE_TEMPLATE':\n      return {\n        ...state,\n        isCreatingTemplate: true\n      };\n    case 'OPEN_SEARCH_FIN_MODE':\n      return {\n        ...state,\n        pageIndex: 'SEARCH_FIN_ITEM',\n      }\n    case 'APP_LOADING':\n      return {\n        ...state,\n        isAppLoading: true\n      };\n    case 'APP_LOADED':\n      return {\n        ...state,\n        isAppLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nexport default fin;","const notification = (state = {}, action) => {\n  switch (action.type) {\n    case 'SET_MESSAGE':\n      return {\n        ...state,\n        notificationType: action.notificationType,\n        notificationMsg: action.message\n      }\n    case 'RESET_MESSAGE':\n      return {\n        ...state,\n        notificationType: '',\n        notificationMsg: ''\n      }\n    default:\n      return state;\n  }\n};\n\nexport default notification;\n","const login = (state = {}, action) => {\n  switch (action.type) {\n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        loginStatus: true\n      }\n    case 'TOKEN_INVALID':\n      return {\n        ...state,\n        loginStatus: false\n      }\n    default:\n      return state;\n  }\n};\n\nexport default login;\n","const search = (state = {}, action) => {\n  switch (action.type) {\n    case 'SEARCH_FIN_RESULTS_LOADED':\n      return {\n        ...state,\n        finItems: action.finItems || []\n      }\n    case 'SET_ADVANCE_SEARCH_PARAM':\n      const curSearchParams = state.searchParams || {};\n      const {itemType, itemValue} = action\n      return {\n        ...state,\n        searchParams: Object.assign({}, {...curSearchParams, ...{[itemType]: itemValue}})\n      }\n    default:\n      return state;\n  }\n};\n\nexport default search;\n","import {combineReducers} from 'redux';\nimport fin from './fin';\nimport notification from './notification';\nimport login from './login';\nimport search from './search';\n// import test from './test';\n\nconst reducers = combineReducers({\n  fin,\n  notification,\n  login,\n  search,\n  // test,\n});\n\nexport default reducers;\n","import React, {useState} from 'react';\nimport Axios from 'axios';\n\nimport './index.scss';\n\nconst Login = ({loginSuccessCallback}) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleUserNameChange = (evt) => {\n    setUsername(evt.target.value);\n  }\n\n  const handlePasswordChange = (evt) => {\n    setPassword(evt.target.value);\n  }\n\n  const validateInput = () => {\n    return username && password;\n  }\n\n  const handleLogin = () => {\n    const inputValid = validateInput();\n    if (!inputValid) {\n      return;\n    }\n\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\n\n    Axios.post(`${API_HOST}/api/user/login`, {data: {username, password}})\n      .then(() => {\n        loginSuccessCallback && loginSuccessCallback();\n      });\n  }\n\n  return (\n    <div className='Login'>\n      <div className='LoginContainer'>\n        <div className='UsernameInput'>\n          <div className='Username-Image'>\n            <input\n              type='input'\n              placeholder='用户名'\n              onChange={handleUserNameChange}\n              value={username} />\n          </div>\n        </div>\n        <div className='PasswordInput'>\n          <div className='Password-Image'>\n            <input\n              type='password'\n              placeholder='密码'\n              onChange={handlePasswordChange}\n              value={password} />\n          </div>\n        </div>\n        <div className='ButtonGroup'>\n          <div\n            className='SubmitButton'\n            onClick={handleLogin}>\n            登录\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport Axios from 'axios';\n\nimport Login from './index';\n\nimport './login-provider.scss';\n\nconst LoginProvider = ({loginStatus, dispatch, children}) => {\n  const handleLoginSuccess = () => {\n    dispatch({\n      type: 'LOGIN_SUCCESS'\n    });\n  }\n\n  useEffect(() => {\n    const API_HOST = process.env.REACT_SERVER_API_HOST || '';\n    if (loginStatus === undefined) {\n      Axios.get(`${API_HOST}/api/user/validateToken`)\n        .then(() => {\n          handleLoginSuccess();\n        }, () => {\n          dispatch({\n            type: 'TOKEN_INVALID'\n          });\n        });\n    }\n  }, [])\n\n  return (\n    // Do not render login panel at first time\n    // Until token validation is complete\n    loginStatus === undefined ?\n    null\n    :\n    <div className='LoginProvider'>\n      {\n        loginStatus ?\n        children\n        :\n        <div className='App-Login'>\n          <Login\n            loginSuccessCallback={handleLoginSuccess} />\n        </div>\n      }\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const login = state.login || {};\n  return {\n    loginStatus: login.loginStatus\n  }\n};\n\nexport default connect(mapStateToProps)(LoginProvider);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport FileUploader from './modules/file-uploader';\nimport {withRouter} from 'react-router';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\n// Start: Redux code\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport reducer from './reducers';\n\n// Login Provider\nimport LoginProvider from './modules/login/login-provider';\n\n// import './index.scss';\n\nconst initialState = {\n  fin: {\n    pageIndex: 'MAIN'\n  }\n};\n\nconst store = createStore(\n  reducer,\n  initialState, // preloadedState\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nconst InnerComp = ({location = {pathname: ''}}) => {\n  return (\n    <React.Fragment>\n      {\n        location.pathname.indexOf('fileUploader') > -1 ?\n          <FileUploader />\n          :\n          <App />\n      }\n    </React.Fragment>\n  )\n}\n\nconst InnerCompWithRouter = withRouter(InnerComp);\n\nconst Routers = () => {\n  return (\n    <React.Fragment>\n      <Route path='/fileUploader' component={FileUploader} key=\"FileUploader\"/>\n      <Route exact path={'' || '/'} component={App} key='App'/>\n    </React.Fragment>\n  )\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <LoginProvider>\n      <Router>\n        {/* <InnerCompWithRouter /> */}\n        <Routers />\n      </Router>\n    </LoginProvider>\n    {/* <Loading /> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}