(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(36).concat([function(e,t,a){},,,function(e){e.exports={a:["asfasdf","asd","asax","adsFAS","retvc","tybxcvb","ytrnv","tuvnb","bmui","ewqvzz"]}},,,,,,,,function(e,t,a){e.exports=a(120)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(14),r=a.n(i),o=(a(52),a(1)),l=a(2),s=a(4),m=a.n(s),u=(a(76),function(){return c.a.createElement("div",{className:"FinListItem--LoadingState"},c.a.createElement("div",{className:"FinListItem--Left"},c.a.createElement("div",{className:"FinListItem__Cat"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"FinListItem__Date"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"FinListItem__Comment"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"FinListItem--Right"},c.a.createElement("div",{className:"FinListItem--Amount"},c.a.createElement("div",{className:"LoadingState"}))))}),d=(a(77),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"DayExpense--Loading"},c.a.createElement("div",{className:"DayInfo"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseAmount"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"DayExpenseList"},c.a.createElement(u,null),c.a.createElement(u,null)))),c.a.createElement("div",{className:"DayExpense--Loading"},c.a.createElement("div",{className:"DayInfo"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},c.a.createElement("div",{className:"LoadingState"})),c.a.createElement("div",{className:"DayExpenseAmount"},c.a.createElement("div",{className:"LoadingState"}))),c.a.createElement("div",{className:"DayExpenseList"},c.a.createElement(u,null),c.a.createElement(u,null)))))}),E=(a(78),Object(l.b)()(function(e){var t=e.item,a=e.isLoading,n=e.dayMode,i=void 0!==n&&n,r=e.isLast,o=void 0!==r&&r,l=e.dispatch,s=t.category,m=t.subcategory,d=t.date,E=t.amount,v=t.comment,p=t.isScheduled;return c.a.createElement("div",{className:"FinItemPanel forbid-select",onClick:function(){l({type:"SELECT_ITEM",item:t})}},c.a.createElement("div",{className:"FinItem ".concat(o?"":"FinItem-Border")},a?c.a.createElement(u,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Fin-Left"},c.a.createElement("div",{className:"Fin-SubCat"},s," - ",m),c.a.createElement("div",{className:"Fin-Info Fin-Date"},c.a.createElement("span",null,i?d.substring(11):d)),c.a.createElement("div",{className:"Fin-Info Fin-Comment"},p&&c.a.createElement("span",{className:"Fin-IsScheduled"},"\u5468\u671f"),c.a.createElement("span",null,v))),c.a.createElement("div",{className:"Fin-Right"},c.a.createElement("span",{className:"Fin-Amount"},parseFloat(E).toFixed(2))))))})),v=(a(79),Object(l.b)()(function(e){var t=e.isLoading,a=e.items,n=e.dispatch;return c.a.createElement("div",{className:"FinMain"},c.a.createElement("div",{className:"App-Toolbar"},c.a.createElement("div",{className:"App-Toolbtn"},c.a.createElement("div",{className:"App-Btn forbid-select App-CreateItem",onClick:function(){n({type:"CREATE_ITEM"})}},"\u8bb0\u4e00\u7b14"),c.a.createElement("div",{className:"App-Btn forbid-select App-CreateFast",onClick:function(){n({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})}},"\u901f\u8bb0"))),c.a.createElement("div",{className:"App-Container"},c.a.createElement("div",{className:"App-FinList"},a.map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(E,{isLoading:t,item:e}))}))))})),p=a(6),f=a(3),N=(a(80),function(e){var t=e.category,a=e.subcategory,n=e.onClickHandler,i=void 0===n?function(){}:n;return c.a.createElement("div",{className:"FinComCatItem",onClick:function(){return i(t,a)}},c.a.createElement("span",{className:"SubCat-Name"},a))}),g=a(39),b=(a(81),function(e){var t=e.optionList,a=void 0===t?g.a:t,i=e.placeholder,r=void 0===i?"":i,l=e.onChangeCallback,s=e.defaultValue,m=void 0===s?"":s,u=e.searchOptions,d=void 0===u?5:u,E=Object(n.useState)(m),v=Object(o.a)(E,2),p=v[0],f=v[1],N=Object(n.useState)([]),b=Object(o.a)(N,2),O=b[0],y=b[1],h=Object(n.useState)(!1),S=Object(o.a)(h,2),C=S[0],I=S[1];Object(n.useEffect)(function(){var e=function(e){var t=e.target.getAttribute("class")||"";t.indexOf("InputField")<0&&t.indexOf("OptionContainer")<0&&(I(!1),y([]))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]);var j=function(e){var t=e.target.innerText;f(t),y([]),l&&l(t)};return c.a.createElement("div",{className:"SearchDropdown"},c.a.createElement("div",{className:"Dropdown-Input ".concat(C?"SearchDropdown-Focused":"")},c.a.createElement("div",{className:"Dropdown-SearchImage"},c.a.createElement("input",{className:"InputField",placeholder:r,type:"input",onChange:function(e){var t=e.target.value,n=a.filter(function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1});I(!0),f(t),y(t?n.slice(0,d):[]),l&&l(t)},value:p}))),c.a.createElement("div",{className:"OptionList ".concat(C?"SearchDropdown-Focused":"")},O&&O.length>0&&O.map(function(e,t){return c.a.createElement("div",{key:t,className:"OptionContainer",onClick:j},c.a.createElement("div",{className:"Option"},e))})))}),O=(a(82),function(e){var t=e.buttons,a=void 0===t?[]:t,n=e.cancelHandler,i=void 0===n?function(){}:n;return c.a.createElement("div",{className:"PopupButtons"},c.a.createElement("div",{className:"PopupButtons--CustomItems"},a.map(function(e,t){return c.a.createElement("div",{key:t,className:"PopupButton--Item",onClick:e.clickHandler},c.a.createElement("span",{className:"PopupButton--ItemTitle"},e.name))})),c.a.createElement("div",{key:a.length,className:"PopupButtons--CancelItem",onClick:function(){i()}},c.a.createElement("span",{className:"PopupButton--ItemTitle"},"\u53d6\u6d88")))}),y=a(19),h=a.n(y),S=(a(93),function(e){var t=e.defaultSelectedValue,a=void 0===t?"":t,i=e.items,r=void 0===i?[]:i,l=e.customizeItemClickHandler,s=void 0===l?function(){}:l,m=e.isDisabled,u=void 0!==m&&m,d=Object(n.useState)(!1),E=Object(o.a)(d,2),v=E[0],p=E[1],f=Object(n.useState)(a),N=Object(o.a)(f,2),g=N[0],b=N[1];return Object(n.useEffect)(function(){var e=function(e){(e.target.getAttribute("class")||"").indexOf("DropdownList-Element")<0&&p(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]),c.a.createElement("div",{className:"DropdownList DropdownList-Element ".concat(v?"DropdownList--Open":""," ").concat(u?"DropdownList--disabled":"")},c.a.createElement("div",{className:"DropdownHeader DropdownList-Element ".concat(v?"DropdownHeader--Open":""),onClick:function(){p(!v&&!u)}},g),v&&c.a.createElement("div",{className:"DropdownPanel DropdownList-Element"},r.map(function(e){return c.a.createElement("div",{className:"DropdownList__Item DropdownList-Element",key:e.key,onClick:function(){return function(e){p(!1),b(e.value),s(e)}(e)}},e.value)})))}),C=(a(94),function(e){var t=e.defaultValue,a=void 0===t?"0":t,i=e.confirmCallback,r=void 0===i?function(){}:i,l=Object(n.useState)(a),s=Object(o.a)(l,2),m=s[0],u=s[1],d=Object(n.useState)("0"),E=Object(o.a)(d,2),v=E[0],p=E[1],f=Object(n.useState)(""),N=Object(o.a)(f,2),g=N[0],b=N[1],O=Object(n.useState)(!1),y=Object(o.a)(O,2),h=y[0],S=y[1],C=function(e){e.stopPropagation(),h||(A(),b(e.target.innerText),S(!0))},I=function(e){e.stopPropagation();var t=e.target.innerText;h?(p(m),u(""+t),S(!1)):u("0"===m?""+t:m+""+t)},j=function(e){return Math.floor(e)===e?e+"":Math.floor(10*e)===10*e?e.toFixed(1):e.toFixed(2)},A=function(){var e=m;switch(g){case"+":e=parseFloat(v)+parseFloat(m),u(j(e));break;case"-":e=parseFloat(v)-parseFloat(m),u(j(e));break;case"\xd7":e=parseFloat(v)*parseFloat(m),u(j(e));break;case"\xf7":e=parseFloat(v)/parseFloat(m),u(j(e))}return p("0"),e};return c.a.createElement("div",{className:"Calculator"},c.a.createElement("div",{className:"NumberContainer"},m),c.a.createElement("div",{className:"OperatorContainer"},c.a.createElement("div",{className:"OperatorRow BasicOperators"},c.a.createElement("div",{className:"OperatorItem Operand",onClick:C},"+"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:C},"-"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:C},"\xd7"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:C},"\xf7")),c.a.createElement("div",{className:"OperatorRow NumberPad-1"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"1"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"2"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"3"),c.a.createElement("div",{className:"OperatorItem Backspace",onClick:function(e){e.stopPropagation(),u(m.slice(0,-1))}})),c.a.createElement("div",{className:"OperatorRow NumberPad-4"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"4"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"5"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"6"),c.a.createElement("div",{className:"OperatorItem Operand Clear",onClick:function(e){e.stopPropagation(),u("0"),p("0"),b("")}},"C")),c.a.createElement("div",{className:"OperatorRow NumberPad-7"},c.a.createElement("div",{className:"OperatorItem",onClick:I},"7"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"8"),c.a.createElement("div",{className:"OperatorItem",onClick:I},"9"),c.a.createElement("div",{className:"OperatorItem Operand",onClick:function(e){e.stopPropagation(),A(),b(""),p("0"),S(!1)}},"=")),c.a.createElement("div",{className:"OperatorRow NumberPad-0"},c.a.createElement("div",{className:"OperatorItem OperatorItem--TwoSpan",onClick:I},"0"),c.a.createElement("div",{className:"OperatorItem",onClick:function(e){e.stopPropagation(),h?(p(m),u("0."),S(!1)):u(m+".")}},"."),c.a.createElement("div",{className:"OperatorItem ConfirmBtn",onClick:function(e){e.stopPropagation();var t=A();r(t)}},"\u786e\u8ba4"))))}),I=a(40),j=a(41),A=a(45),T=a(42),D=a(46),_=(a(95),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).toggleSelection=function(){var e=a.state.isSelected;a.setState({isSelected:!e}),a.props.toggleSelection&&a.props.toggleSelection(a.props.tag,!e)},a.state={isSelected:e.isSelected},a}return Object(D.a)(t,e),Object(j.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isSelected:e.isSelected})}},{key:"render",value:function(){var e=this.props.tag,t=void 0===e?"":e,a=this.state.isSelected;return c.a.createElement("div",{className:"HashTagItem ".concat(a?"HashTagItem--Selected":""),onClick:this.toggleSelection},c.a.createElement("div",{className:"HashTag__Content"},t),c.a.createElement("div",{className:"HashTag__Flag"}))}}]),t}(c.a.Component)),F=(a(96),function(e){var t=e.tags,a=void 0===t?[]:t,n=e.selectedTags,i=void 0===n?[]:n,r=e.toggleTagSelection;return a&&0!==a.length?c.a.createElement("div",{className:"HashTagManagement"},a.map(function(e,t){return c.a.createElement("div",{className:"HashTag__Item",key:t},c.a.createElement(_,{tag:e,isSelected:i.indexOf(e)>-1,toggleSelection:r}))})):null}),k=[{category:"\u4ea4\u901a",subcategory:"\u6253\u8f66"},{category:"\u751f\u6d3b",subcategory:"\u6c34\u7535\u7164\u6c14"},{category:"\u9a90\u9a90",subcategory:"\u73a9\u5177"},{category:"\u751f\u6d3b",subcategory:"\u751f\u6d3b\u7528\u54c1"},{category:"\u5468\u672b",subcategory:"\u665a\u9910"},{category:"\u5468\u672b",subcategory:"\u5348\u9910"}],L=function(e){return e<10?"0".concat(e):"".concat(e)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[];return n.push(e),n.push(L(t)),n.push(L(a)),n.join("-")},w=function(e){var t=[];return t.push(e.getFullYear()),t.push(L(e.getMonth()+1)),t.push(L(e.getDate())),t.join("-")},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),c=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return"".concat(t,"-").concat(L(a+1),"-").concat(L(n)," ").concat(L(c),":").concat(L(i),":").concat(L(r))},R=function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789ABCDEF".substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]="0123456789ABCDEF".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var a=e.join("");return a},x=(a(97),[{key:0,value:"\u975e\u5468\u671f\u5165\u8d26"},{key:1,value:"\u6bcf\u5929\u5165\u8d26"},{key:2,value:"\u6bcf\u5468\u5165\u8d26"},{key:3,value:"\u6bcf\u6708\u5165\u8d26"},{key:4,value:"\u6bcf\u5e74\u5165\u8d26"}]),H=Object(l.b)(function(e){return{updatedCatGroup:(e.fin||{}).updatedCatGroup||{}}})(function(e){var t=e.item,a=void 0===t?{amount:0}:t,i=e.updatedCatGroup,r=e.dispatch,l=Object(n.useState)(Object(f.a)({},a,i,{city:"\u4e0a\u6d77"})),s=Object(o.a)(l,2),u=s[0],d=s[1],E=Object(n.useState)([]),v=Object(o.a)(E,2),g=v[0],y=v[1],I=Object(n.useState)([]),j=Object(o.a)(I,2),A=j[0],T=j[1],D=Object(n.useState)([]),_=Object(o.a)(D,2),L=_[0],P=_[1],w=Object(n.useState)(a.tags?a.tags.split(","):[]),M=Object(o.a)(w,2),H=M[0],B=M[1],G=Object(n.useState)(!1),V=Object(o.a)(G,2),U=V[0],Y=V[1],W=Object(n.useState)(!1),K=Object(o.a)(W,2),z=K[0],J=K[1],X=Object(n.useState)(!1),q=Object(o.a)(X,2),$=q[0],Q=q[1],Z=!!a.id,ee=Object(n.useRef)(null),te=Object(n.useRef)(null);Object(n.useEffect)(function(){m.a.get("/api/wacai/getAllComment").then(function(e){var t=e.data.data||[],a=[];t.forEach(function(e){a.push(e.comment)}),y(a)}),m.a.get("/api/wacai/getAllTags").then(function(e){var t=e.data.data||[];T(t),P(t)}),r({type:"RESET_UPDATED_CAT_GROUP"})},[]);var ae=function(e,t){d(Object.assign({},u,{category:e,subcategory:t}))},ne=function(e){var t=e.repeatRecord,a=void 0!==t&&t,n=function(e){var t=e.category,a=e.subcategory,n=(e.comment,e.amount);return t&&a?n?null:{errorMsg:"\u8bf7\u8f93\u5165\u6709\u6548\u91d1\u989d\uff01"}:{errorMsg:"\u8bf7\u9009\u62e9\u7c7b\u522b\uff01"}}(u);if(n)r({type:"SET_MESSAGE",notificationType:"error",message:n.errorMsg});else{var c="",i={};if(u.id){if(u.isScheduled>0)return void J(!0);c="/api/wacai/updateFinItem",i=Object(f.a)({},u,{tags:H.join(",")})}else u.isScheduled>0?(c="/api/wacai/createScheduledFinItem",i=Object(f.a)({},u,{tags:H.join(",")})):(c="/api/wacai/createFinItem",i=Object(f.a)({},u,{tags:H.join(","),id:R()}));r({type:"APP_LOADING"}),m.a.post(c,{data:i}).then(function(){r({type:"APP_LOADED"}),r({type:"SET_MESSAGE",notificationType:"info",message:"\u4fdd\u5b58\u6210\u529f"}),a?(d(Object.assign({},u,{amount:0})),ee.current.value="0.00"):r({type:"RESET_SELECTED_ITEM"})})}},ce=function(){Y(!1),J(!1)},ie=[{name:"\u53ea\u5220\u9664\u8fd9\u4e00\u7b14",clickHandler:function(){r({type:"APP_LOADING"}),m.a.delete("/api/wacai/deleteFinItem?id=".concat(u.id)).then(function(){r({type:"APP_LOADED"}),Y(!1),r({type:"RESET_SELECTED_ITEM"})},function(e){var t=e.response;r({type:"APP_LOADED"}),Y(!1),401===t.status&&r({type:"TOKEN_INVALID"})})}},{name:"\u5220\u9664\u8fd9\u4e00\u7b14\u4ee5\u53ca\u4ee5\u540e\u6240\u6709",clickHandler:function(){r({type:"APP_LOADING"});var e=new Date;m.a.delete("/api/wacai/deleteScheduledFinItem?scheduleId=".concat(u.scheduleId,"&year=").concat(e.getFullYear(),"&month=").concat(e.getMonth(),"&day=").concat(e.getDate())).then(function(){r({type:"APP_LOADED"}),Y(!1),r({type:"RESET_SELECTED_ITEM"})},function(e){var t=e.response;r({type:"APP_LOADED"}),Y(!1),401===t.status&&r({type:"TOKEN_INVALID"})})}}],re=[{name:"\u53ea\u66f4\u65b0\u8fd9\u4e00\u7b14",clickHandler:function(){J(!1);var e=Object(f.a)({},u);r({type:"APP_LOADING"}),m.a.post("/api/wacai/updateFinItem",{data:e}).then(function(){r({type:"APP_LOADED"}),r({type:"RESET_SELECTED_ITEM"})})}},{name:"\u66f4\u65b0\u8fd9\u4e00\u7b14\u4ee5\u53ca\u4ee5\u540e\u6240\u6709",clickHandler:function(){var e=Object(f.a)({},u),t={},a=new Date;t.scheduledId=e.scheduledId,t.year=a.getFullYear(),t.month=a.getMonth(),t.day=a.getDate(),r({type:"APP_LOADING"}),m.a.post("/api/wacai/updateScheduledFinItem",{data:e,options:t}).then(function(){r({type:"APP_LOADED"}),J(!1),r({type:"RESET_SELECTED_ITEM"})})}}];return c.a.createElement("div",{className:"FinItemDetails"},c.a.createElement("div",{className:"Fin-Nav"},c.a.createElement("div",{className:"Fin-Nav-Out"},"\u652f\u51fa"),c.a.createElement("div",{className:"Fin-Nav-Arrow"})),c.a.createElement("div",{className:"Fin-Date Fin-WhiteBack"},c.a.createElement(h.a,{value:new Date(u.date.replace(/-/g,"/")),defaultValue:new Date,onChange:function(e){var t=e.format("YYYY-MM-DD hh:mm:ss");d(Object.assign({},u,{date:t}))},inputProps:{disabled:Z&&u.isScheduled>0}})),c.a.createElement("div",{className:"Fin-Schedule Fin-WhiteBack"},c.a.createElement(S,{isDisabled:Z,defaultSelectedValue:x[u.isScheduled||0].value,items:x,customizeItemClickHandler:function(e){var t=e.key;d(Object.assign({},u,{isScheduled:t}))}})),c.a.createElement("div",{className:"Fin-Header Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-SubCat",onClick:function(){r({type:"CHANGE_TO_CATEGORY_SELECTION",selectedCatGroup:{category:u.category,subcategory:u.subcategory}})}},c.a.createElement("div",{className:"Category"},u.category),c.a.createElement("div",{className:"SubCategory"},u.subcategory)),c.a.createElement("div",{className:"Fin-Amount"},c.a.createElement("input",{type:"number",ref:ee,onFocus:function(e){u.amount?e.target.value=u.amount:e.target.value=""},onBlur:function(e){e.target.value=parseFloat(u.amount).toFixed(2)},onChange:function(e){var t=parseFloat(e.target.value);Number.isNaN(t)&&(t=0),d(Object.assign({},u,{amount:t}))},defaultValue:parseFloat(u.amount).toFixed(2)||"0.00"}),c.a.createElement("div",{className:"CalculatorIcon",onClick:function(){Q(!$)}},$&&c.a.createElement("div",{className:"CalculatorPanel"},c.a.createElement(C,{defaultValue:u.amount+"",confirmCallback:function(e){var t=+parseFloat(e).toFixed(2);d(Object.assign({},u,{amount:t})),Q(!1),ee.current.value=parseFloat(e).toFixed(2)}}))))),c.a.createElement("div",{className:"Fin-ComCats Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-ComCat-Container"},k.map(function(e,t){return c.a.createElement("div",{className:"Fin-ComCat",key:t},c.a.createElement(N,{category:e.category,subcategory:e.subcategory,onClickHandler:ae}))}))),c.a.createElement("div",{className:"Fin-Comment Fin-WhiteBack"},c.a.createElement(b,{optionList:g,placeholder:"\u5907\u6ce8",onChangeCallback:function(e){d(Object.assign({},u,{comment:e}))},defaultValue:u.comment})),c.a.createElement("div",{className:"Fin-FullDetails Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-Place"},c.a.createElement(b,{optionList:g,placeholder:"\u5546\u573a",onChangeCallback:function(e){d(Object.assign({},u,{place:e}))},defaultValue:u.place})),c.a.createElement("div",{className:"Fin-City"},c.a.createElement("input",{type:"input",placeholder:"\u57ce\u5e02",onChange:function(e){var t=e.target.value||"";d(Object.assign({},u,{city:t}))},defaultValue:u.city||"\u4e0a\u6d77"}))),c.a.createElement("div",{className:"Fin-Tags Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-Tags-Add"},c.a.createElement("input",{type:"input",ref:te,placeholder:"\u65b0\u52a0\u6807\u7b7e",onChange:function(e){var t=e.target.value;P(A.filter(function(e){return e.indexOf(t)>-1}))},defaultValue:""}),c.a.createElement("div",{className:"Fin-Tags-Add-Btn",onClick:function(){var e=te.current.value;A.indexOf(e)<0?(T([e].concat(Object(p.a)(A))),P([e].concat(Object(p.a)(A)))):P(Object(p.a)(A)),H.indexOf(e)<0&&B([].concat(Object(p.a)(H),[e])),te.current.value=""}})),c.a.createElement("div",{className:"Fin-TagsManagement"},c.a.createElement(F,{tags:L,selectedTags:H,toggleTagSelection:function(e,t){var a=H.indexOf(e),n=H.slice();a>-1?(n.splice(a,1),B(n)):B([].concat(Object(p.a)(H),[e]))}}))),c.a.createElement("div",{className:"Fin-Toolbar Fin-WhiteBack"},c.a.createElement("div",{className:"Fin-Btns"},c.a.createElement("div",{className:"Fin-Btn Fin-BackBtn",onClick:function(){r({type:"RESET_SELECTED_ITEM"})}},"\u8fd4\u56de"),u.id?c.a.createElement("div",{className:"Fin-Btn Fin-DeleteBtn",onClick:function(){u.isScheduled>0?Y(!0):(r({type:"APP_LOADING"}),m.a.delete("/api/wacai/deleteFinItem?id=".concat(u.id)).then(function(){r({type:"APP_LOADED"}),r({type:"RESET_SELECTED_ITEM"})},function(e){var t=e.response;r({type:"APP_LOADED"}),401===t.status&&r({type:"TOKEN_INVALID"})}))}},"\u5220\u9664"):c.a.createElement("div",{className:"Fin-Btn Fin-RepeatBtn",onClick:function(){ne({repeatRecord:!0})}},"\u4fdd\u5b58\u518d\u8bb0"),c.a.createElement("div",{className:"Fin-Btn Fin-SaveBtn",onClick:ne},"\u4fdd\u5b58"))),U&&c.a.createElement("div",{className:"PopupButtons--Container"},c.a.createElement(O,{buttons:ie,cancelHandler:ce})),z&&c.a.createElement("div",{className:"PopupButtons--Container"},c.a.createElement(O,{buttons:re,cancelHandler:ce})))}),B=(a(98),Object(l.b)()(function(e){var t=e.closeHandler,a=e.hasSearch,n=void 0===a||a,i=e.barTitle,r=void 0===i?"":i,o=e.searchHandler,l=e.children,s=e.dispatch;return c.a.createElement("div",{className:"HeaderToolbar"},c.a.createElement("div",{className:"HeaderToolbar-Container"},c.a.createElement("div",{className:"CloseBtn",onClick:function(){t?t():s({type:"CHANGE_TO_MAIN"})}}),r&&c.a.createElement("div",{className:"BarInfo"},r),!r&&l&&"function"===typeof l&&c.a.createElement("div",{className:"BarContent"},l()),!r&&!l&&c.a.createElement("div",{className:"BarHeader"}),n&&c.a.createElement("div",{className:"ToolBtns"},c.a.createElement("div",{className:"SearchBtn",onClick:function(){o?o():s({type:"OPEN_SEARCH_FIN_MODE"})}}))))})),G=(a(99),Object(l.b)(function(e){return{selectedCatGroup:e.fin.selectedCatGroup||{}}})(function(e){var t=e.selectedCatGroup,a=void 0===t?{}:t,i=e.dispatch,r=Object(n.useState)(a.category||""),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)({}),E=Object(o.a)(d,2),v=E[0],p=E[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getCategoryGroup").then(function(e){var t=e.data.data||{};p(t)},function(e){401===e.response.status&&i({type:"TOKEN_INVALID"})})},[]);return c.a.createElement("div",{className:"FinCatSubCat"},c.a.createElement(B,{barTitle:"\u652f\u51fa\u7c7b\u522b",hasSearch:!1}),c.a.createElement("div",{className:"FinCatSubCat-Container"},c.a.createElement("div",{className:"Cats"},Object.keys(v).map(function(e,t){return c.a.createElement("div",{className:"CatItem",key:t,onClick:function(){return function(e){u(e)}(e)}},c.a.createElement("div",{className:"CatItem-Border ".concat(s===e?"CatItem-Border-Selected":"")},e))})),c.a.createElement("div",{className:"SubCats"},s&&v[s]&&v[s].map(function(e,t){var a=e.subcategory;return e.isCommon,c.a.createElement("div",{className:"SubCatItem",onClick:function(){i({type:"CATEGORY_SELECTION_DONE",updatedCatGroup:{category:s,subcategory:a}})},key:t},c.a.createElement("div",{className:"".concat(t!==v[s].length-1?"SubCat-Border":"")},c.a.createElement("div",{className:"SubCat-Text"},a)))}))))})),V=(a(100),function(e){var t=e.date,a=void 0===t?"2019-04-22":t,n=e.amount,i=void 0===n?1203:n,r=e.items,o=void 0===r?[]:r,l=a.substring(a.length-2);return c.a.createElement("div",{className:"DayExpense"},c.a.createElement("div",{className:"DayExpense-Container"},c.a.createElement("div",{className:"DayInfo"},l),c.a.createElement("div",{className:"DayExpenseInfo"},c.a.createElement("div",{className:"DayHeader"},c.a.createElement("div",{className:"DayHeader-Weekday"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2019-04-22";return["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"][new Date(e).getDay()]}(a)),c.a.createElement("div",{className:"DayExpenseAmount"},"\u652f\uff1a",parseFloat(i).toFixed(2))),c.a.createElement("div",{className:"DayExpenseList"},o.map(function(e,t){return c.a.createElement("div",{key:e.id},c.a.createElement(E,{dayMode:!0,isLast:t===o.length-1,item:e}))})))))}),U=(a(36),Object(l.b)()(function(e){var t=e.month,a=void 0===t?"04":t,i=e.year,r=void 0===i?"2019":i,l=e.amount,s=void 0===l?11086:l,u=e.barWidthRatio,E=void 0===u?1:u,v=e.dayItems,p=void 0===v?[]:v,f=e.dispatch,N=Object(n.useState)(!1),g=Object(o.a)(N,2),b=g[0],O=g[1],y=Object(n.useState)(p),h=Object(o.a)(y,2),S=h[0],C=h[1],I=Object(n.useState)(!1),j=Object(o.a)(I,2),A=j[0],T=j[1],D=1*E*100+"%";return c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"MonthExpense-Container ".concat(b?"":"MonthExpenseBorder"),onClick:function(){b?O(!b):(O(!b),S.length<=0&&(T(!0),m.a.get("/api/wacai/getFinItemsByMonth?month=".concat(a,"&year=").concat(r)).then(function(e){var t=e.data.data||[];C(t),setTimeout(function(){T(!1)},0)},function(e){401===e.response.status&&f({type:"TOKEN_INVALID"})})))}},c.a.createElement("div",{className:"MonthTitle"},c.a.createElement("div",{className:"Month"},a),c.a.createElement("div",{className:"Year"},r)),c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"ExpenseTitle"},"\u652f\u51fa\uff1a",parseFloat(s).toFixed(2)),c.a.createElement("div",{className:"ExpenseAmount"},c.a.createElement("div",{className:"AmountBar",style:{width:D}}))),c.a.createElement("div",{className:"MonthExpense-Dropdown ".concat(b?"MonthExpense-Expanded":"")})),b&&(A?c.a.createElement(d,null):S.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(V,{date:e.date,amount:e.amount,items:e.items}))})))})),Y=(a(101),Object(l.b)(null,function(e){return{goToMainPage:function(){e({type:"CHANGE_TO_MAIN"})}}})(function(e){e.isExpanded;var t=e.goToMainPage,a=void 0===t?function(){}:t,i=e.scrollIntoViewRef,r=Object(n.useState)(!1),l=Object(o.a)(r,2),s=l[0],m=l[1];return c.a.createElement("div",{className:"BottomButtonGroup"},c.a.createElement("div",{className:"ControlButton ".concat(s?"buttonExpanded":""),onClick:function(){m(!s)}}),s&&c.a.createElement("div",{className:"Bottom_ButtonGroup"},c.a.createElement("div",{className:"BottomButton BackToTop",onClick:function(){i.current.scrollIntoView({behavior:"smooth",block:"start"}),m(!1)}}),c.a.createElement("div",{className:"BottomButton BackToMain",onClick:function(){a(),m(!1)}})))})),W=Object(l.b)()(function(e){var t=e.dispatch,a=Object(n.useState)({}),i=Object(o.a)(a,2),r=i[0],l=i[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],E=u[1],v=Object(n.useRef)(null);return Object(n.useEffect)(function(){var e=new Date;m.a.get("/api/wacai/getHistoryExpense?year=".concat(e.getFullYear(),"&month=").concat(e.getMonth()+1)).then(function(e){var t=e.data.data||{};E(!1),l(t)},function(e){401===e.response.status&&t({type:"TOKEN_INVALID"})})},[]),Object(n.useEffect)(function(){},[v]),c.a.createElement("div",{className:"FinItemList",ref:v},c.a.createElement(B,null),r.items&&r.items.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(U,{month:e.month,year:e.year,amount:e.amount,barWidthRatio:e.amount/r.highestMonthAmount}))}),r.items&&c.a.createElement(Y,{isExpanded:d,scrollIntoViewRef:v}))}),K=(a(102),Object(l.b)()(function(e){var t=e.dispatch;return c.a.createElement("div",{className:"TemplateToolbar"},c.a.createElement("div",{className:"ToolbarContainer"},c.a.createElement("div",{className:"ToolbarInfo"},"\u8bb0\u8d26\u6a21\u677f"),c.a.createElement("div",{className:"ToolbarBtns"},c.a.createElement("div",{className:"CreateBtn",onClick:function(){t({type:"CREATE_TEMPLATE"})}},"\u6dfb\u52a0\u6a21\u677f"))))})),z=(a(103),Object(l.b)()(function(e){var t=e.item,a=void 0===t?{}:t,n=e.isLast,i=void 0!==n&&n,r=e.dispatch,o=a.comment,l=a.category,s=a.subcategory,m=a.place;return c.a.createElement("div",{className:"FinTemplateItem"},c.a.createElement("div",{className:"ItemContainer ".concat(i?"":"ItemBorder"),onClick:function(){r({type:"SELECT_ITEM",item:{comment:o,category:l,subcategory:s,place:m,amount:0}})}},c.a.createElement("div",{className:"Categories"},c.a.createElement("div",{className:"Category"},l),c.a.createElement("div",{className:"SubCategory"},s)),c.a.createElement("div",{className:"Comment"},o)))})),J=(a(104),Object(l.b)(function(e){var t=e.fin||{};return{updatedCatGroup:t.updatedCatGroup||{},isCreatingTemplate:t.isCreatingTemplate}})(function(e){var t=e.updatedCatGroup,a=e.dispatch,i=Object(n.useState)(t),r=Object(o.a)(i,2),l=r[0],s=r[1];Object(n.useEffect)(function(){a({type:"RESET_UPDATED_CAT_GROUP"})},[]);return c.a.createElement("div",{className:"CreateTemplate"},c.a.createElement("div",{className:"CreatePanel"},c.a.createElement("div",{className:"Fin-SubCat",onClick:function(){a({type:"CHANGE_TO_CATEGORY_SELECTION",selectedCatGroup:{category:l.category,subcategory:l.subcategory}})}},l.category," - ",l.subcategory),c.a.createElement("div",{className:"Fin-Comment"},c.a.createElement("input",{className:"CommentInput",placeholder:"\u5907\u6ce8",type:"input",onChange:function(e){s(Object.assign({},l,{comment:e.target.value}))},value:l.comment})),c.a.createElement("div",{className:"Fin-Place"},c.a.createElement("input",{className:"PlaceInput",placeholder:"\u5546\u573a",type:"input",onChange:function(e){s(Object.assign({},l,{place:e.target.value}))},value:l.place})),c.a.createElement("div",{className:"Fin-Toolbar"},c.a.createElement("div",{className:"Fin-Btns"},c.a.createElement("div",{className:"Fin-Btn Fin-BackBtn",onClick:function(){a({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})}},"\u8fd4\u56de"),c.a.createElement("div",{className:"Fin-Btn Fin-SaveBtn",onClick:function(){l.category&&l.subcategory&&l.comment&&m.a.post("/api/wacai/createFinTemplate",{data:l}).then(function(){a({type:"CHANGE_TO_FIN_TEMPLATE_LIST"})},function(e){401===e.response.status&&a({type:"TOKEN_INVALID"})})}},"\u4fdd\u5b58")))))})),X=(a(105),Object(l.b)(function(e){return{isCreatingTemplate:(e.fin||{}).isCreatingTemplate}})(function(e){var t=e.isCreatingTemplate,a=e.dispatch,i=Object(n.useState)([]),r=Object(o.a)(i,2),l=r[0],s=r[1];return Object(n.useEffect)(function(){m.a.get("/api/wacai/getFinTemplates").then(function(e){var t=e.data.data||[];s(t)},function(e){401===e.response.status&&a({type:"TOKEN_INVALID"})})},[t]),c.a.createElement("div",{className:"FinTemplateList"},c.a.createElement(B,{barTitle:t?"\u521b\u5efa\u6a21\u677f":"",hasSearch:!1}),c.a.createElement(K,null),t?c.a.createElement(J,null):c.a.createElement("div",{className:"Templates"},l.map(function(e,t){return c.a.createElement("div",{key:t,className:"Template"},c.a.createElement(z,{item:e,isLast:t===l.length-1}))})))})),q=function(e){var t=e.total,a=e.start,i=void 0===a?0:a,r=e.duration,l=void 0===r?200:r,s=Object(n.useState)(i||function(e){return e<1e3?0:e<5e3?1e3:e<1e4?5e3:e<15e3?1e4:e<2e4?15e3:2e4}(t)),m=Object(o.a)(s,2),u=m[0],d=m[1],E=(t-u)/l,v=u;return Object(n.useEffect)(function(){var e=setInterval(function(){(v+=E)>=t&&(v=t,clearInterval(e)),d(v)},1)},[t]),c.a.createElement("div",{className:"AutoUpdateNumber"},parseFloat(u).toFixed(2))},$=(a(106),Object(l.b)()(function(e){var t=e.type,a=e.message,i=e.errorTimeout,r=void 0===i?1e3:i,l=e.dispatch,s=Object(n.useState)(!0),m=Object(o.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){d(!1),setTimeout(function(){d(!0),setTimeout(function(){l({type:"RESET_MESSAGE"})},1e3)},r)},[]),c.a.createElement("div",{className:"Notification ".concat(u?"fadeOutAnimation":"")},c.a.createElement("div",{className:"".concat("error"===t?"Message-Container Error":"Message-Container Info")},c.a.createElement("div",{className:"".concat("error"===t?"ErrorMessage":"InfoMessage")},a)))})),Q=(a(107),Object(l.b)()(function(e){var t=e.customStyles,a=void 0===t?{}:t,i=e.advancedSearchHanlder,r=void 0===i?void 0:i,l=e.dispatch,s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"SearchBox",style:a},c.a.createElement("div",{className:"SearchBox-Container"},c.a.createElement("div",{className:"AdvanceSearch"},c.a.createElement("div",{className:"AdvanceSearch-Text",onClick:function(){r&&r()}},"\u9ad8\u7ea7\u641c\u7d22")),c.a.createElement("div",{className:"SimpleSearch"},c.a.createElement("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",onChange:function(e){E(e.target.value)},value:d}))),c.a.createElement("div",{className:"Btns"},c.a.createElement("div",{className:"SearchBtn",onClick:function(){if(d){var e=new Date;m.a.get("/api/wacai/searchFinItems?searchString=".concat(d,"&year=").concat(e.getFullYear(),"&month=").concat(e.getMonth()+1)).then(function(e){var t=e.data.data||[];l({type:"SEARCH_FIN_RESULTS_LOADED",finItems:t})})}}},"\u786e\u5b9a")))})),Z=function(e){var t=e.month,a=void 0===t?"04":t,i=e.year,r=void 0===i?"2019":i,l=e.amount,s=void 0===l?11086:l,m=e.barWidthRatio,u=void 0===m?1:m,d=e.dayItems,E=void 0===d?[]:d,v=Object(n.useState)(!1),p=Object(o.a)(v,2),f=p[0],N=p[1],g=1*u*100+"%",b=function(e){var t={};return e.map(function(e){var a=new Date(e.date.replace(/-/g,"/")),n=L(a.getDate()),c=L(a.getMonth()+1),i=a.getFullYear();t["".concat(i,"-").concat(c,"-").concat(n)]?(t["".concat(i,"-").concat(c,"-").concat(n)].amount+=e.amount,t["".concat(i,"-").concat(c,"-").concat(n)].items.push(e)):t["".concat(i,"-").concat(c,"-").concat(n)]={amount:e.amount,items:[e]}}),t}(E);return c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"MonthExpense-Container ".concat(f?"":"MonthExpenseBorder"),onClick:function(){N(!f)}},c.a.createElement("div",{className:"MonthTitle"},c.a.createElement("div",{className:"Month"},a),c.a.createElement("div",{className:"Year"},r)),c.a.createElement("div",{className:"MonthExpense"},c.a.createElement("div",{className:"ExpenseTitle"},"\u652f\u51fa\uff1a",parseFloat(s).toFixed(2)),c.a.createElement("div",{className:"ExpenseAmount"},c.a.createElement("div",{className:"AmountBar",style:{width:g}}))),c.a.createElement("div",{className:"MonthExpense-Dropdown ".concat(f?"MonthExpense-Expanded":"")})),f&&Object.keys(b).sort().reverse().map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(V,{date:e,amount:b[e].amount,items:b[e].items}))}))},ee=(a(108),function(e){var t=e.finItems,a=void 0===t?[]:t,n=0;a.length>0&&a.forEach(function(e){n+=e.amount});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},a=0;return e.map(function(e,a){var n=new Date(e.date.replace(/-/g,"/")),c=L(n.getMonth()+1),i=n.getFullYear();t["".concat(i,"-").concat(c)]?(t["".concat(i,"-").concat(c)].amount+=e.amount,t["".concat(i,"-").concat(c)].dayItems.push(e)):t["".concat(i,"-").concat(c)]={amount:e.amount,dayItems:[e]}}),Object.values(t).forEach(function(e){e.amount>a&&(a=e.amount)}),{highestMonthAmount:a,items:t}}(a);return c.a.createElement("div",{className:"SearchFinItemList"},c.a.createElement("div",{className:"SearchResultContainer"},c.a.createElement("div",{className:"SearchResult-Summary"},c.a.createElement("div",{className:"SummaryItem SummaryAmount"},"\uffe5 ",parseFloat(n).toFixed(2)),c.a.createElement("div",{className:"SummaryItem SummaryCaption"},"\u652f\u51fa"))),c.a.createElement("div",{className:"ListContainer"},a.length>0&&Object.keys(i.items).sort().reverse().map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(Z,{month:e.split("-")[1],year:e.split("-")[0],amount:i.items[e].amount,barWidthRatio:i.items[e].amount/i.highestMonthAmount,dayItems:i.items[e].dayItems}))})))}),te=(a(109),Object(l.b)(function(e){return{searchParams:(e.search||{}).searchParams||{}}})(function(e){var t,a=e.type,i=e.name,r=e.Comp,l=e.defaultValue,s=e.formatter,m=void 0===s?function(e){return e}:s,u=e.searchParams,d=e.dispatch,E=Object(n.useState)(!1),v=Object(o.a)(E,2),p=v[0],f=v[1];return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"AdvanceSearchItem ".concat(p&&r?"AdvanceSearchItem-NoBottomBorder":"")},c.a.createElement("div",{className:"ItemName"},c.a.createElement("span",null,i)),c.a.createElement("div",{className:"ItemOption"},c.a.createElement("div",{className:"ItemOption-Container",onClick:function(){f(!p)}},c.a.createElement("div",{className:"ItemSelectedValue"},u[a]?(t=u[a],m?m(t):t):l),c.a.createElement("div",{className:"ItemSelectionButton"},">")))),p&&r&&c.a.createElement(r,{currentValue:u[a],submitHandler:function(e){!function(e){d({type:"SET_ADVANCE_SEARCH_PARAM",itemType:a,itemValue:e})}(e),f(!1)},cancelHandler:function(){f(!1)}}))})),ae=(a(110),function(e){var t=e.defaultSelection,a=void 0===t?[]:t,i=e.validSeletions,r=void 0===i?[]:i,l=e.handleSelection,s=void 0===l?function(){}:l,m=Object(n.useState)(a),u=Object(o.a)(m,2),d=u[0],E=u[1],v=function(e){var t=e.target,a=t.name,n=t.checked,c=d.slice();if(n)c.push(a),E(c);else{var i=c.indexOf(a);c.splice(i,1),E(c)}s(c)};return Object(n.useEffect)(function(){E(a)},[a]),c.a.createElement("div",{className:"MultiSelection"},r.length>0?c.a.createElement("div",{className:"SelectionList"},r.map(function(e,t){return c.a.createElement("div",{key:t,className:"SelectionItem"},c.a.createElement("input",{type:"checkbox",name:e,onChange:v,checked:d.indexOf(e)>-1}),c.a.createElement("label",null,e))})):null)}),ne=(a(111),function(e){var t=e.enableSubmitButton,a=void 0===t||t,n=e.enableCancelButton,i=void 0===n||n,r=e.submitHandler,o=void 0===r?void 0:r,l=e.cancelHandler,s=void 0===l?void 0:l;return c.a.createElement("div",{className:"Selection__ButtonGroups"},a&&c.a.createElement("div",{className:"SubmitButton",onClick:o},"\u786e\u8ba4"),i&&c.a.createElement("div",{className:"CancelButton",onClick:s},"\u53d6\u6d88"))}),ce=Object(l.b)()(function(e){var t=e.currentValue,a=void 0===t?{}:t,i=e.submitHandler,r=void 0===i?void 0:i,l=e.cancelHandler,s=void 0===l?void 0:l,u=e.dispatch,d=Object(n.useState)(a.category||"\u5168\u90e8"),E=Object(o.a)(d,2),v=E[0],f=E[1],N=Object(n.useState)(a.subcategory||"\u5168\u90e8"),g=Object(o.a)(N,2),b=g[0],O=g[1],y=Object(n.useState)({}),h=Object(o.a)(y,2),C=h[0],I=h[1],j=Object(n.useState)("\u5168\u90e8"===(a.category||"\u5168\u90e8")),A=Object(o.a)(j,2),T=A[0],D=A[1],_=Object(n.useState)([]),F=Object(o.a)(_,2),k=F[0],L=F[1],P=Object(n.useState)([]),w=Object(o.a)(P,2),M=w[0],R=w[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getCategoryGroup").then(function(e){var t=e.data.data||{};I(t);var a=function(e){var t=Object.keys(e);return(t=t.map(function(e,t){return{key:t+1,value:e}})).unshift({key:0,value:"\u5168\u90e8"}),t}(t);L(a)},function(e){401===e.response.status&&u({type:"TOKEN_INVALID"})})},[]);return c.a.createElement("div",{className:"CategorySelectionPanel"},c.a.createElement("div",{className:"CategorySelectionContainer"},c.a.createElement("div",{className:"CategoryTitle"},"\u7c7b\u522b"),c.a.createElement("div",{className:"CategorySelection"},c.a.createElement(S,{defaultSelectedValue:v,items:k,customizeItemClickHandler:function(e){f(e.value);var t=[{key:0,value:"\u5168\u90e8"}];if("\u5168\u90e8"===e.value)R(t),D(!1);else{var a=C[e.value];a=a.map(function(e,t){return{key:t+1,value:e.subcategory}}),R([].concat(t,Object(p.a)(a))),D(!1)}}}))),c.a.createElement("div",{className:"SubCategorySelectionContainer"},c.a.createElement("div",{className:"SubCategoryTitle"},"\u5b50\u7c7b"),c.a.createElement("div",{className:"SubCategorySelection"},c.a.createElement(S,{defaultSelectedValue:b,isDisabled:T,items:M,customizeItemClickHandler:function(e){O(e.value)}}))),c.a.createElement(ne,{submitHandler:function(){r({category:v,subcategory:b})},cancelHandler:function(){s()}}))}),ie=Object(l.b)()(function(e){var t=e.currentValue,a=void 0===t?[]:t,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,m=e.dispatch,u=Object(n.useState)(a),d=Object(o.a)(u,2),E=d[0],v=d[1];return c.a.createElement("div",{className:"AmountRangeSelectionPanel"},c.a.createElement("div",{className:"AmountRangeAdder",onClick:function(){v([].concat(Object(p.a)(E),[{minAmount:0,maxAmount:0}]))}},"+"),c.a.createElement("div",{className:"AmountRangeContainer"},E.map(function(e,t){var a=e.minAmount,n=e.maxAmount;return c.a.createElement("div",{className:"AmountRangeItem",key:t},c.a.createElement("div",{className:"AmountRangeMain"},c.a.createElement("input",{className:"AmountRangeItem--Min",onChange:function(e){return function(e,t){var a=Object(p.a)(E),n=e.target.value;a[t].minAmount=n,v(Object(p.a)(a))}(e,t)},value:a}),c.a.createElement("div",{className:"AmountRangeItem--Sep"}," - "),c.a.createElement("input",{className:"AmountRangeItem--Max",onChange:function(e){return function(e,t){var a=Object(p.a)(E),n=e.target.value;a[t].maxAmount=n,v(Object(p.a)(a))}(e,t)},value:n})),c.a.createElement("div",{className:"AmountRangeRemover",onClick:function(){!function(e){var t=Object(p.a)(E);t.splice(e,1),v(Object(p.a)(t))}(t)}},"-"))})),c.a.createElement(ne,{submitHandler:function(){for(var e in E)if(E[e].minAmount>E[e].maxAmount&&0!=E[e].maxAmount)return void m({type:"SET_MESSAGE",notificationType:"error",message:"\u91d1\u989d\u533a\u95f4\u8bbe\u7f6e\u6709\u8bef"});r(E)},cancelHandler:function(){s()}}))}),re=[{type:"dateRange",name:"\u65e5\u671f",defaultValue:"\u5168\u90e8",comp:function(e){var t=e.currentValue,a=void 0===t?{}:t,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,m=Object(n.useState)(a),u=Object(o.a)(m,2),d=u[0],E=u[1],v=Object(n.useState)(9===a.key),p=Object(o.a)(v,2),N=p[0],g=p[1],b=Object(n.useState)(9===a.key?new Date(a.minDate):new Date),O=Object(o.a)(b,2),y=O[0],C=O[1],I=Object(n.useState)(!1),j=Object(o.a)(I,2),A=j[0],T=j[1],D=Object(n.useState)(9===a.key?new Date(a.maxDate):new Date),_=Object(o.a)(D,2),F=_[0],k=_[1],L=Object(n.useState)(!1),M=Object(o.a)(L,2),R=M[0],x=M[1],H=new Date,B=H.getFullYear(),G=H.getMonth()+1,V=H.getDate(),U=H.getDay(),Y=function(e,t){switch(t){case 2:return e%4==0&&e%100||e%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}},W=function(e,t,a,n){if(a<n){var c=n-a;return{minDate:P(e,t-1,Y(e,t-1)-(c-1)),maxDate:P(e,t,a+(7-n))}}return{minDate:P(e,t,a-(n-1)),maxDate:P(e,t,a+(7-n))}},K=[{key:0,value:"\u5168\u90e8"},{key:1,value:"\u672c\u5e74",minDate:P(B,1,1),maxDate:P(B,12,31)},{key:2,value:"\u53bb\u5e74",minDate:P(B-1,1,1),maxDate:P(B-1,12,31)},{key:3,value:"\u672c\u5b63",minDate:P(B,G-G%3+1,1),maxDate:P(B,G+(3-G%3),31)},Object(f.a)({key:4,value:"\u4e0a\u5b63"},function(e,t){return t<3?{minDate:P(e-1,9,1),maxDate:P(e-1,12,31)}:{minDate:P(e,t-t%3-2,1),maxDate:P(e,t+(3-t%3)-3,31)}}(B,G)),{key:5,value:"\u672c\u6708",minDate:P(B,G,1),maxDate:P(B,G,Y(B,G))},Object(f.a)({key:6,value:"\u4e0a\u6708"},function(e,t){return 1===t?{minDate:P(e-1,12,1),maxDate:P(e-1,12,31)}:{minDate:P(e,t-1,1),maxDate:P(e,t-1,Y(e,t-1))}}(B,G)),Object(f.a)({key:7,value:"\u672c\u5468"},W(B,G,V,U)),Object(f.a)({key:8,value:"\u4e0a\u5468"},function(e,t,a,n){return a-7<=0?Object(f.a)({},W(e,t-1,Y(e,t-1)-(7-a),n)):Object(f.a)({},W(e,t,a-7,n))}(B,G,V,U)),{key:9,value:"\u81ea\u5b9a\u4e49"}];return c.a.createElement("div",{className:"DateRangeSelectionPanel"},c.a.createElement("div",{className:"DateRangeDropdownList"},c.a.createElement(S,{items:K,defaultSelectedValue:d.value||"\u5168\u90e8",customizeItemClickHandler:function(e){e.key<9?g(!1):g(!0),E(K[e.key])}})),N&&c.a.createElement("div",{className:"DateRangeSelection--Custom"},c.a.createElement("div",{className:"DateRangeSelection DateRangeSelection--CustomStart"},c.a.createElement("div",{className:"StartDateContainer",onClick:function(){T(!A)}},c.a.createElement("div",{className:"Title"},"\u8d77\u59cb\u65f6\u95f4"),c.a.createElement("div",{className:"Value"},w(y))),A&&c.a.createElement(h.a,{input:!1,value:y,defaultValue:y,onChange:function(e){var t=e.format("YYYY-MM-DD");C(new Date(t)),T(!A)},className:"DateTimeStyles StartDatePicker",timeFormat:!1})),c.a.createElement("div",{className:"DateRangeSelection DateRangeSelection--CustomEnd"},c.a.createElement("div",{className:"EndDateContainer",onClick:function(){x(!R)}},c.a.createElement("div",{className:"Title"},"\u7ec8\u6b62\u65f6\u95f4"),c.a.createElement("div",{className:"Value"},w(F))),R&&c.a.createElement(h.a,{input:!1,value:F,defaultValue:F,onChange:function(e){var t=e.format("YYYY-MM-DD");k(new Date(t)),x(!R)},className:"DateTimeStyles EndDatePicker",timeFormat:!1}))),c.a.createElement(ne,{submitHandler:function(){9===d.key?r(Object(f.a)({},d,{minDate:y,maxDate:F})):r(d)},cancelHandler:function(){s()}}))},formatter:function(e){if(e.minDate&&e.maxDate){var t="object"===typeof e.minDate?w(e.minDate):e.minDate,a="object"===typeof e.maxDate?w(e.maxDate):e.maxDate;return"".concat(t," - ").concat(a)}return"\u5168\u90e8"}},{type:"amountRanges",name:"\u91d1\u989d",defaultValue:"",comp:ie,formatter:function(e){return e.map(function(e){var t=e.minAmount,a=e.maxAmount;return 0===+a?">= ".concat(t):"".concat(t," - ").concat(a)}).join(", ")}},{type:"category",name:"\u7c7b\u522b",defaultValue:"\u5168\u90e8",comp:ce,formatter:function(e){var t=e.category,a=e.subcategory;return"".concat(t," - ").concat(a)}},{type:"city",name:"\u57ce\u5e02",defaultValue:"\u5168\u90e8",comp:function(e){var t=e.currentValue,a=void 0===t?"\u5168\u90e8":t,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,u=Object(n.useState)([]),d=Object(o.a)(u,2),E=d[0],v=d[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),N=f[0],g=f[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getAllCities").then(function(e){var t=e.data.data||[],n=[];t.forEach(function(e){n.push(e.city)}),v(n),g("\u5168\u90e8"===a?n.slice():a)})},[]);return c.a.createElement("div",{className:"CitySelectionPanel"},c.a.createElement("div",{className:"CityMultiSelection"},c.a.createElement(ae,{defaultSelection:N,validSeletions:E,handleSelection:function(e){g(e)}})),c.a.createElement(ne,{submitHandler:function(){N.length===E.length?r("\u5168\u90e8"):r(N)},cancelHandler:function(){s()}}))},formatter:function(e){return e.join?e.join(", "):e}},{type:"keyword",name:"\u5173\u952e\u5b57",defaultValue:"",comp:function(e){var t=e.currentValue,a=void 0===t?"":t,i=e.submitHandler,r=void 0===i?void 0:i,l=e.cancelHandler,s=void 0===l?void 0:l,m=Object(n.useState)(a),u=Object(o.a)(m,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"KeywordsSelectionPanel"},c.a.createElement("div",{className:"InputContainer"},c.a.createElement("input",{onChange:function(e){E(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",value:d})),c.a.createElement(ne,{submitHandler:function(){r(d)},cancelHandler:function(){s()}}))},formatter:function(e){return e}},{type:"tags",name:"\u6807\u7b7e",defaultValue:"",comp:function(e){var t=e.currentValue,a=void 0===t?"\u5168\u90e8":t,i=e.submitHandler,r=void 0===i?function(){}:i,l=e.cancelHandler,s=void 0===l?function(){}:l,u=Object(n.useState)([]),d=Object(o.a)(u,2),E=d[0],v=d[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),N=f[0],g=f[1];Object(n.useEffect)(function(){m.a.get("/api/wacai/getAllTags").then(function(e){var t=e.data.data||[];v(t),g("\u5168\u90e8"===a?t.slice():a)})},[]);return c.a.createElement("div",{className:"TagSelectionPanel"},c.a.createElement("div",{className:"TagMultiSelection"},c.a.createElement(ae,{defaultSelection:N,validSeletions:E,handleSelection:function(e){g(e)}})),c.a.createElement(ne,{submitHandler:function(){N.length===E.length?r("\u5168\u90e8"):r(N)},cancelHandler:function(){s()}}))},formatter:function(e){return e.join?e.join(", "):e}}],oe=(a(112),Object(l.b)(function(e){return{searchParams:(e.search||{}).searchParams||{}}})(function(e){var t=e.searchParams,a=e.dispatch,n=e.submitHandler,i=void 0===n?void 0:n;return c.a.createElement("div",{className:"AdvancedSearch"},c.a.createElement("div",{className:"AdvancedSearch-Toolbar"},c.a.createElement("div",{className:"SubmitButton",onClick:function(){var e=[];Object.keys(t).map(function(a){if(Array.isArray(t[a]))"amountRanges"===a?e.push("".concat(a,"=").concat(JSON.stringify(t[a]))):"city"!==a&&"tags"!==a||e.push("".concat(a,"=").concat(t[a].join(",")));else if("object"===typeof t[a]){if("dateRange"===a)e.push("".concat(a,"=").concat(JSON.stringify(t[a])));else if("category"===a)for(var n in t[a])e.push("".concat(n,"=").concat(t[a][n]))}else e.push("".concat(a,"=").concat(t[a]))}),a({type:"APP_LOADING"}),m.a.get("/api/wacai/deepSearchFinItems?".concat(e.join("&"))).then(function(e){var t=e.data;i();var n=t.data||[];a({type:"SEARCH_FIN_RESULTS_LOADED",finItems:n,searchLoading:!1}),a({type:"APP_LOADED"})},function(){a({type:"APP_LOADED"})})}},"\u786e\u8ba4"),c.a.createElement("div",{className:"clearFloat"})),re&&re.map(function(e,t){var a=e.type,n=e.name,i=e.comp,r=e.defaultValue,o=e.formatter;return c.a.createElement("div",{className:"AdvanceSearchItem-Container",key:t},c.a.createElement(te,{type:a,name:n,Comp:i,defaultValue:r,formatter:o}))}))})),le=(a(113),Object(l.b)(function(e){return{finItems:(e.search||{}).finItems||[]}})(function(e){var t=e.finItems,a=void 0===t?[]:t,i=e.dispatch,r=Object(n.useRef)(null),l=Object(n.useState)(!1),s=Object(o.a)(l,2),m=s[0],u=s[1],d={position:"relative",top:"50%",transform:"translateY(-50%)"};Object(n.useEffect)(function(){},[r]);var E=function(){u(!0)};return c.a.createElement("div",{className:"SearchFinItem",ref:r},c.a.createElement(B,{closeHandler:function(){m?u(!1):i({type:"CHANGE_TO_FIN_HISTORY"})},hasSearch:!1,barTitle:m?"\u9ad8\u7ea7\u641c\u7d22":""},function(){return m?null:c.a.createElement(Q,{customStyles:d,advancedSearchHanlder:E})}),!m&&a.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,{finItems:a}),c.a.createElement(Y,{isExpanded:!1,scrollIntoViewRef:r})),!m&&0===a.length&&c.a.createElement("div",{className:"SearchFinItem--NoResults"},"\u65e0\u7ed3\u679c"),m&&c.a.createElement("div",{className:"AdvancedSearch-Container"},c.a.createElement(oe,{submitHandler:function(){u(!1)}})))})),se=(a(114),function(e){var t={width:e.width||"4em",height:e.height||"4em"};return c.a.createElement("div",{className:"Loading",style:t})}),me=(a(115),Object(l.b)(function(e){return{selectedItem:e.fin?e.fin.selectedItem:null,pageIndex:e.fin?e.fin.pageIndex:"MAIN",isAppLoading:e.fin&&e.fin.isAppLoading,notificationType:e.notification?e.notification.notificationType:"",notificationMsg:e.notification?e.notification.notificationMsg:""}})(function(e){var t=e.pageIndex,a=e.notificationType,i=e.notificationMsg,r=e.selectedItem,l=e.isAppLoading,s=e.dispatch,u=Object(n.useState)(0),d=Object(o.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(0),N=Object(o.a)(f,2),g=N[0],b=N[1],O=Object(n.useState)(0),y=Object(o.a)(O,2),h=y[0],S=y[1],C=Object(n.useState)(new Array(5).fill({})),I=Object(o.a)(C,2),j=I[0],A=I[1],T=Object(n.useState)(!0),D=Object(o.a)(T,2),_=D[0],F=D[1],k=Object(n.useState)(""),L=Object(o.a)(k,2),P=L[0];L[1];Object(n.useEffect)(function(){if(F(!0),!r){var e=new Date;m.a.get("/api/wacai/getFinList?year=".concat(e.getFullYear(),"&month=").concat(e.getMonth()+1,"&day=").concat(e.getDate(),"&dayOfWeek=").concat(e.getDay(),"&top=").concat(15)).then(function(e){var t=e.data;F(!1);var a=t.monthTotal,n=void 0===a?0:a,c=t.weekTotal,i=void 0===c?0:c,r=t.dayTotal,o=void 0===r?0:r,l=t.data||[];A(l),p(n),b(i),S(o)},function(e){var t=e.response;F(!1),401===t.status&&s({type:"TOKEN_INVALID"})})}},[r]);return c.a.createElement("div",{className:"App"},i&&c.a.createElement("div",{className:"App-Page-Notification"},c.a.createElement($,{type:a,message:i})),l&&c.a.createElement("div",{className:"App-Page-Loading"},c.a.createElement("div",{className:"LoadingContainer"},c.a.createElement(se,null))),"SEARCH_FIN_ITEM"===t&&c.a.createElement("div",{className:"App-Page-Fin-Search"},c.a.createElement(le,null)),"CATEGORY_SELECTION"===t&&c.a.createElement("div",{className:"App-Page-Cat-Selection"},c.a.createElement(G,null)),"FIN_HISTORY"===t&&c.a.createElement("div",{className:"App-Page-Fin-History"},c.a.createElement(W,null)),"FIN_TEMPLATE_LIST"===t&&c.a.createElement("div",{className:"App-Page-Fin-Template-List"},c.a.createElement(X,null)),"MAIN"===t&&c.a.createElement("div",{className:"App-Page-Main"},c.a.createElement("div",{className:"App-Logout",onClick:function(){m.a.post("/api/user/logout").then(function(){setTimeout(function(){window.location.reload(!0)},0)})}}),c.a.createElement("div",{className:"App-Header"},c.a.createElement("div",{className:"Header-MonthTotal"},c.a.createElement("div",{className:"Caption"},"\u672c\u6708\u603b\u8ba1"),c.a.createElement("div",{className:"Amount",onClick:function(){s({type:"CHANGE_TO_FIN_HISTORY"})}},c.a.createElement(q,{total:E,duration:100}))),c.a.createElement("div",{className:"Header-WeekDayTotal"},c.a.createElement("div",{className:"Caption"},"\u672c\u5468\u603b\u8ba1"),c.a.createElement("div",{className:"Amount"},c.a.createElement(q,{total:g,duration:100})),c.a.createElement("div",{className:"Caption"},"\u4eca\u65e5\u603b\u8ba1: ",P),c.a.createElement("div",{className:"Amount"},c.a.createElement(q,{total:h,duration:100})))),r?c.a.createElement("div",{className:"App-FinDetails"},c.a.createElement(H,{item:r})):c.a.createElement("div",{className:"App-Main"},c.a.createElement(v,{isLoading:_,items:j}))))})),ue=(a(116),new Array(4).fill(void 0)),de=Object(l.b)()(function(e){e.dispatch;var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],r=a[1],l=Object(n.useState)(ue),s=Object(o.a)(l,2),u=s[0],d=s[1],E=function(e){var t=e.target.files[0],a=+e.target.parentElement.getAttribute("data-fileid");d(u.map(function(e,n){return n===a?t:e})),function(e){var t=new FormData;return t.append("file",e),m.a.post("/api/file/imageUpload",t)}(t).then(function(e){console.log(e)},function(e){console.log(e)})};return c.a.createElement("div",{className:"FileUploader"},c.a.createElement("div",{className:"NameInput"},c.a.createElement("input",{type:"input",placeholder:"Please input your name...",value:i,onChange:function(e){var t=e.target.value;r(t)}})),c.a.createElement("div",{className:"ImageUploader"},c.a.createElement("div",{className:"ImageUploadSpace"},u.map(function(e,t){return c.a.createElement("div",{className:"ImageUploadFrame",key:t,"data-fileId":t},c.a.createElement("input",{className:"FileUpload__Input MyWacai-File-Uploader ".concat(e?"FileUpload--Transparent":""),type:"file",name:"file",onChange:E}),e&&c.a.createElement("div",{className:"FileUpload__Name"},c.a.createElement("div",null,e.name)))}))),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement("div",{className:"SubmitButton Button"},"Submit"),c.a.createElement("div",{className:"CancelButton Button"},"Cancel")))}),Ee=a(11),ve=a(44),pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ne=a(17),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ITEM":return t.item.date||(t.item.date=M()),Object(f.a)({},e,{pageIndex:"MAIN",selectedItem:t.item});case"RESET_SELECTED_ITEM":return Object(f.a)({},e,{selectedItem:null});case"CREATE_ITEM":var a=function(){var e=new Date,t=e.getDay(),a="\u5468\u672b",n="\u665a\u9910";if(0===t||6===t){a="\u5468\u672b";var c=e.getHours();c<=10?n="\u65e9\u9910":c<15&&c>10?n="\u5348\u9910":c<20&&c>16&&(n="\u665a\u9910")}return{category:a,subcategory:n}}(),n=a.category,c=a.subcategory;return Object(f.a)({},e,{selectedItem:{category:n,subcategory:c,date:M(),amount:0}});case"CHANGE_TO_CATEGORY_SELECTION":return Object(f.a)({},e,{pageIndex:"CATEGORY_SELECTION",selectedCatGroup:t.selectedCatGroup||{}});case"CHANGE_TO_MAIN":return Object(f.a)({},e,{pageIndex:"MAIN",updatedCatGroup:t.updatedCatGroup||{}});case"CATEGORY_SELECTION_DONE":var i="";return i=e.selectedItem?"MAIN":"FIN_TEMPLATE_LIST",Object(f.a)({},e,{pageIndex:i,updatedCatGroup:t.updatedCatGroup||{}});case"CHANGE_TO_FIN_HISTORY":return Object(f.a)({},e,{pageIndex:"FIN_HISTORY"});case"RESET_UPDATED_CAT_GROUP":return Object(f.a)({},e,{updatedCatGroup:{}});case"CHANGE_TO_FIN_TEMPLATE_LIST":return Object(f.a)({},e,{pageIndex:"FIN_TEMPLATE_LIST",isCreatingTemplate:!1});case"CREATE_TEMPLATE":return Object(f.a)({},e,{isCreatingTemplate:!0});case"OPEN_SEARCH_FIN_MODE":return Object(f.a)({},e,{pageIndex:"SEARCH_FIN_ITEM"});case"APP_LOADING":return Object(f.a)({},e,{isAppLoading:!0});case"APP_LOADED":return Object(f.a)({},e,{isAppLoading:!1});default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return Object(f.a)({},e,{notificationType:t.notificationType,notificationMsg:t.message});case"RESET_MESSAGE":return Object(f.a)({},e,{notificationType:"",notificationMsg:""});default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN_SUCCESS":return Object(f.a)({},e,{loginStatus:!0});case"TOKEN_INVALID":return Object(f.a)({},e,{loginStatus:!1});default:return e}},ye=a(20),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_FIN_RESULTS_LOADED":return Object(f.a)({},e,{finItems:t.finItems||[]});case"SET_ADVANCE_SEARCH_PARAM":var a=e.searchParams||{},n=t.itemType,c=t.itemValue;return Object(f.a)({},e,{searchParams:Object.assign({},Object(f.a)({},a,Object(ye.a)({},n,c)))});default:return e}},Se=Object(Ne.b)({fin:ge,notification:be,login:Oe,search:he}),Ce=(a(117),function(e){var t=e.loginSuccessCallback,a=Object(n.useState)(""),i=Object(o.a)(a,2),r=i[0],l=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],E=u[1];return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{className:"LoginContainer"},c.a.createElement("div",{className:"UsernameInput"},c.a.createElement("div",{className:"Username-Image"},c.a.createElement("input",{type:"input",placeholder:"\u7528\u6237\u540d",onChange:function(e){l(e.target.value)},value:r}))),c.a.createElement("div",{className:"PasswordInput"},c.a.createElement("div",{className:"Password-Image"},c.a.createElement("input",{type:"password",placeholder:"\u5bc6\u7801",onChange:function(e){E(e.target.value)},value:d}))),c.a.createElement("div",{className:"ButtonGroup"},c.a.createElement("div",{className:"SubmitButton",onClick:function(){if(r&&d){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_COOKIE_NAME:"DAVID_FIN",REACT_APP_USERNAME:"wanderyt",REACT_APP_PASSWORD:"password"}).REACT_SERVER_API_HOST||"";m.a.post("".concat(e,"/api/user/login"),{data:{username:r,password:d}}).then(function(){t&&t()})}}},"\u767b\u5f55"))))}),Ie=(a(118),Object(l.b)(function(e){return{loginStatus:(e.login||{}).loginStatus}})(function(e){var t=e.loginStatus,a=e.dispatch,i=e.children,r=function(){a({type:"LOGIN_SUCCESS"})};return Object(n.useEffect)(function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_COOKIE_NAME:"DAVID_FIN",REACT_APP_USERNAME:"wanderyt",REACT_APP_PASSWORD:"password"}).REACT_SERVER_API_HOST||"";void 0===t&&m.a.get("".concat(e,"/api/user/validateToken")).then(function(){r()},function(){a({type:"TOKEN_INVALID"})})},[]),void 0===t?null:c.a.createElement("div",{className:"LoginProvider"},t?i:c.a.createElement("div",{className:"App-Login"},c.a.createElement(Ce,{loginSuccessCallback:r})))})),je=Object(Ne.c)(Se,{fin:{pageIndex:"MAIN"}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(Ee.e)(function(e){var t=e.location,a=void 0===t?{pathname:""}:t;return c.a.createElement(c.a.Fragment,null,a.pathname.indexOf("fileUploader")>-1?c.a.createElement(de,null):c.a.createElement(me,null))});r.a.render(c.a.createElement(l.a,{store:je},c.a.createElement(Ie,null,c.a.createElement(ve.a,null,c.a.createElement(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee.a,{path:"/fileUploader",component:de,key:"FileUploader"}),c.a.createElement(Ee.a,{exact:!0,path:"/",component:me,key:"App"}))},null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");pe?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):fe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):fe(t,e)})}}()}]),[[47,1,2]]]);
//# sourceMappingURL=main.729711ba.chunk.js.map